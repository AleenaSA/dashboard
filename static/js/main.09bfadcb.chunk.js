(this["webpackJsonpdashboard-v1"]=this["webpackJsonpdashboard-v1"]||[]).push([[0],{101:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n="UPDATE_SETTINGS",r={settings:{host:localStorage.getItem("preferences-host")||"http://localhost",port:localStorage.getItem("preferences-port")||"5000",log:localStorage.getItem("preferences-log")||"/stream/log",profile:localStorage.getItem("preferences-profile")||"/stream/profile",yaml:localStorage.getItem("preferences-yaml")||"/data/yaml",shutdown:localStorage.getItem("preferences-shutdown")||"/action/shutdown",ready:localStorage.getItem("preferences-ready")||"/status/ready"}}},106:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},r=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},107:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return p}));var n=a(9),r=a.n(n),c=a(18),o=a(52),l=a(40),s=a(21),i=a(17),u=a(45);function m(e){return{type:o.b,payload:e}}function d(e){return{type:o.a,payload:e}}function p(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,o,m,p,f,b;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return p=function(e){n(d(e))},c=function(e){var t=e.connected,a=e.message;if(!t)return n(Object(s.d)(a,"error"))},a.next=4,u.a.waitForFlow(e,t);case 4:if("error"!==(o=a.sent).status){a.next=7;break}return a.abrupt("return",n(Object(s.d)(o.message,"error")));case 7:return a.next=9,u.a.getLogs(e,t);case 9:if("error"!==(m=a.sent).status){a.next=13;break}return m.message&&n(Object(s.d)(m.message,"error")),a.abrupt("return");case 13:f=m.logs,i.a.log("got logs:",f),f.forEach(p),b=l.a.getState().settingsState.settings,u.a.listenForLogs(e,t,b,c,p);case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},17:function(e,t,a){"use strict";var n=a(37),r=a(93);function c(e,t,a){l.log("window.onerror - ERROR",e,t,"line: ".concat(a))}function o(e){window.logs.push(e)}var l={log:function(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];if(window.logsEnabled){var c=Object(n.a)(arguments);(e=console).log.apply(e,Object(n.a)(c)),o(c)}},isEnabled:function(){return window.logsEnabled},enable:function(){var e={};for(var t in window.navigator)e[t]=window.navigator[t];window.logs=[],o(e),window.addEventListener("error",c),window.logsEnabled=!0},disable:function(){window.removeEventListener("error",c),window.logsEnabled=!1},setFormat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";window.logsFormat=e},exportLogs:function(){for(var e=window.logsFormat||"json",t=window.logs,a="[\n",n=0;n<t.length;++n){var c=t[n];a+=JSON.stringify(c)+"".concat(n<t.length-1?",":"","\n")}a+="]";var o="jina-dashboard-debug-output-".concat(new Date,".").concat(e),l=new Blob([a],{type:"text,plain;charset=utf-8"});Object(r.saveAs)(l,o)}};t.a=l},21:function(e,t,a){"use strict";a.d(t,"c",(function(){return g})),a.d(t,"f",(function(){return h})),a.d(t,"d",(function(){return v})),a.d(t,"e",(function(){return E})),a.d(t,"a",(function(){return y})),a.d(t,"b",(function(){return w}));var n=a(9),r=a.n(n),c=a(18),o=a(34),l=a(40),s=a(45),i=a(68),u=a.n(i),m=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n,c,o,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://api.jina.ai/latest.json");case 2:return c=e.sent,o=c.data,l={flow:p(null===(t=o.methods.find((function(e){return"flow"===e.name})))||void 0===t?void 0:t.options),pea:p(null===(a=o.methods.find((function(e){return"pea"===e.name})))||void 0===a?void 0:a.options),pod:p(null===(n=o.methods.find((function(e){return"pod"===e.name})))||void 0===n?void 0:n.options),version:o.version},e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d={str:"string",bool:"boolean",int:"integer","typing.List[str]":"string"},p=function(e){return e?e.map((function(e){var t=e.name,a=e.help,n=e.default,r=e.type,c=d[r];return"undefined"===typeof n||null===n?{name:t,description:a,type:c}:{name:t,description:a,defaultValue:n,type:c}})):[]},f=a(25),b=a(17);function g(e,t){return function(a){a(function(e,t){return{type:o.d,payload:{connected:e,message:t}}}(e,t)),e?(a(v(t,"success")),a(function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:o.c}),e.next=3,s.a.getJinaFlowArguments();case 3:return a=e.sent,b.a.log("loadFlowArgumentsFromDaemon | flowArguments:",a),e.abrupt("return",t(Object(f.j)(a)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):a(function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:o.b}),e.next=3,m();case 3:return a=e.sent,b.a.log("loadFlowArgumentsFromApi | flowArguments:",a),e.abrupt("return",t(Object(f.j)(a)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}function h(){return{type:o.j}}function v(e,t){return function(a){a(function(e,t){return{type:o.g,payload:{message:e,theme:t}}}(e,t)),setTimeout((function(){a({type:o.e})}),o.f)}}function E(e,t){return{type:o.i,payload:{modal:e,modalParams:t||null}}}function y(){return{type:o.a}}function w(){return function(e){var t=l.a.getState().settingsState.settings;s.a.connect(t,(function(t){var a=t.connected,n=t.message;e(g(a,n))}))}}},218:function(e,t,a){},219:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t),a.d(t,"nodeOffset",(function(){return n}));var n={x:250,y:150}},24:function(e,t,a){"use strict";a.d(t,"i",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"m",(function(){return c})),a.d(t,"g",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return s})),a.d(t,"k",(function(){return i})),a.d(t,"l",(function(){return u})),a.d(t,"f",(function(){return m})),a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return p})),a.d(t,"h",(function(){return f})),a.d(t,"j",(function(){return b})),a.d(t,"n",(function(){return g}));var n="LOAD_FLOW",r="CREATE_NEW_FLOW",c="UPDATE_SELECTED_FLOW",o="DUPLICATE_FLOW",l="ADD_NODE",s="DELETE_FLOW",i="UPDATE_NODE",u="UPDATE_NODE_DATA",m="DELETE_NODE",d="ADD_LINK",p="DELETE_LINK",f="IMPORT_FLOW",b="SET_FLOW_ARGUMENTS",g={elements:[{id:"gateway",type:"gateway",data:{name:"gateway",label:"gateway"},position:{x:629,y:72}}]}},243:function(e){e.exports=JSON.parse('{"name":"dashboard-v1","version":"1.0.10","private":true,"homepage":"https://dashboard.jina.ai","scripts":{"dev":"npm-run-all --parallel start_dev-server start-dashboard","start":"react-scripts -r @cypress/instrument-cra start","start-dashboard":"react-scripts -r @cypress/instrument-cra start","start-hub":"REACT_APP_TARGET=hub react-scripts start","start-styleguide":"REACT_APP_TARGET=styleguide react-scripts start","start_dev-server":"node dev-resources/testServer.js","build":"CI=false react-scripts build","build-dashboard":"CI=false REACT_APP_TARGET=dashboard react-scripts build","build-hub":"CI=false REACT_APP_TARGET=hub react-scripts build","build-styleguide":"CI=false REACT_APP_TARGET=styleguide react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build","format":"prettier --write \\"src/**/*.{js,jsx, ts, tsx}\\"","lint":"eslint \\"src/**/*.{js,jsx, ts, tsx}\\" --max-warnings=0","cy:dev":"npx cypress open","cy:run":"percy exec -- npx cypress run"},"husky":{"hooks":{"pre-commit":"lint-staged"}},"lint-staged":{"src/**/*.{js,jsx,ts,tsx,json,md}":["prettier --write","eslint --max-warnings=0"],"src/**/*.{css,scss}":["prettier --write","stylelint --max-warnings=0"]},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"dependencies":{"@emotion/core":"^11.0.0","@emotion/react":"^11.1.4","@emotion/styled":"^11.0.0","@projectstorm/react-diagrams":"^6.0.1-beta.7","@reduxjs/toolkit":"^1.5.0","@sentry/react":"^6.1.0","@sentry/tracing":"^6.1.0","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","@types/chart.js":"^2.9.27","@types/file-saver":"^2.0.1","@types/jest":"^26.0.13","@types/lodash":"^4.14.161","@types/node":"^14.6.4","@types/react":"^16.9.49","@types/react-dom":"^16.9.8","@types/react-modal":"^3.10.6","@types/react-redux":"^7.1.15","@types/react-router-dom":"^5.1.6","@types/react-syntax-highlighter":"^13.5.0","@types/redux-mock-store":"^1.0.2","axios":"^0.21.1","bootstrap":"^4.4.1","chalk":"^4.1.0","chart.js":"^2.9.4","cli-cursor":"^3.1.0","closest":"^0.0.1","cookie-parser":"^1.4.5","cors":"^2.8.5","csvtojson":"^2.0.10","dagre":"^0.8.5","date-fns":"^2.16.1","eventsource":"^1.0.7","express-session":"^1.17.1","express-ws":"^4.0.0","file-saver":"^2.0.2","flexsearch":"^0.6.32","flux":"^3.1.3","fs-extra":"^9.0.1","gh-pages":"^2.2.0","html2canvas":"^1.0.0-rc.7","immer":"^8.0.1","lodash":"^4.17.15","log-symbols":"^4.0.0","lunr":"^2.3.8","mathjs":"^6.6.1","minisearch":"^2.6.2","mockdate":"^3.0.2","mongodb":"^3.5.6","multer":"^1.4.2","nanoid":"^3.1.20","node-sass":"^4.13.1","passport":"^0.4.1","passport-github2":"^0.1.12","pathfinding":"^0.4.18","paths-js":"^0.4.10","react":"^16.13.1","react-bootstrap":"^1.0.0","react-dom":"^16.13.1","react-error-boundary":"^3.0.2","react-flow-renderer":"^8.8.0","react-ga":"^2.7.0","react-minisearch":"^2.6.3","react-modal":"^3.11.2","react-redux":"^7.2.2","react-router-dom":"^5.1.2","react-scripts":"4.0.0","react-select":"^3.1.0","react-syntax-highlighter":"^12.2.1","react-virtualized":"^9.21.2","react-virtualized-auto-sizer":"^1.0.2","react-window":"^1.8.5","redux-devtools-extension":"^2.13.8","redux-mock-store":"^1.5.4","redux-thunk":"^2.3.0","resize-observer-polyfill":"^1.5.1","shards-react":"^1.0.3","styled-components":"^5.2.1","typescript":"^3.9.7","uuid":"^8.3.2","yaml":"^1.8.3","yamljs":"^0.3.0","yargs":"^16.1.0"},"devDependencies":{"@cypress/code-coverage":"^3.9.2","@cypress/instrument-cra":"^1.4.0","@percy/cypress":"^2.3.4","@types/lunr":"^2.3.3","@types/react-select":"^3.0.19","@types/react-test-renderer":"^17.0.0","@types/react-virtualized-auto-sizer":"^1.0.0","@types/react-window":"^1.8.2","axios-mock-adapter":"^1.19.0","cypress":"^6.3.0","eslint-plugin-flowtype":"^5.2.0","husky":"^4.2.5","lint-staged":"^10.2.11","npm-run-all":"^4.1.5","prettier":"^2.0.5","react-test-renderer":"^17.0.1","redux-devtools":"^3.7.0","stylelint":"^13.8.0","stylelint-config-prettier":"^8.0.2","stylelint-config-standard":"^20.0.0"}}')},25:function(e,t,a){"use strict";a.d(t,"i",(function(){return p})),a.d(t,"c",(function(){return f})),a.d(t,"j",(function(){return b})),a.d(t,"o",(function(){return g})),a.d(t,"g",(function(){return h})),a.d(t,"h",(function(){return v})),a.d(t,"d",(function(){return E})),a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return w})),a.d(t,"e",(function(){return x})),a.d(t,"m",(function(){return O})),a.d(t,"n",(function(){return j})),a.d(t,"f",(function(){return k})),a.d(t,"k",(function(){return N})),a.d(t,"l",(function(){return C}));var n=a(9),r=a.n(n),c=a(18),o=a(24),l=a(21),s=a(107),i=a(40),u=a(29),m=a(17),d=a(45);function p(e){return{type:o.i,payload:e}}function f(){return{type:o.c}}function b(e){return{type:o.j,payload:e}}function g(e){return{type:o.m,payload:e}}function h(e){return{type:o.g,payload:e}}function v(e){return{type:o.h,payload:e}}function E(e){return{type:o.d,payload:e}}function y(e,t,a){return{type:o.b,payload:{data:a,id:e,position:t}}}function w(e,t){return{type:o.a,payload:{source:e,target:t}}}function x(e){return{type:o.e,payload:e}}function O(e,t){return{type:o.k,payload:{nodeId:e,nodeUpdate:t}}}function j(e,t){return{type:o.l,payload:{nodeId:e,nodeDataUpdate:t}}}function k(e){return{type:o.f,payload:e}}function N(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c,o,s,p,f,b,h;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m.a.log("starting flow: ",e),n=i.a.getState().flowState.flows[e],c=i.a.getState().flowState.flowArguments,o=n.flowChart,m.a.log("starting flow chart: ",o),s=Object(u.b)(o,c),m.a.log("starting flow yaml: ",o),t.next=9,d.a.startFlow(s);case 9:if(p=t.sent,f=p.status,b=p.message,h=p.flow_id,a(g({flow_id:h})),"error"!==f){t.next=14;break}return t.abrupt("return",a(Object(l.d)(b,"error")));case 14:a(Object(l.d)(b,"success")),a(S(e));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function C(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c,o,s,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.a.log("stop flow: ",e),n=i.a.getState().flowState.flows[e],c=n.flow_id,m.a.log("flowProperties:",n),m.a.log("flow_id:",c),c){t.next=7;break}return t.abrupt("return",a(Object(l.d)("Flow is not deployed","error")));case 7:return t.next=9,d.a.terminateFlow(c);case 9:if(o=t.sent,s=o.status,u=o.message,m.a.log("stopFlow result: ",o),"error"!==s){t.next=14;break}return t.abrupt("return",a(Object(l.d)(u,"error")));case 14:a(Object(l.d)(u,"success"));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function S(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.a.getState().flowState.flows[e].flow_id){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,d.a.getFlow(n);case 5:if(c=t.sent,m.a.log("got network flow:",c),"error"!==c.status){t.next=10;break}return c.message&&a(Object(l.d)(c.message,"error")),t.abrupt("return");case 10:o=c.flow.workspace_id,a(g({workspace_id:o})),setTimeout((function(){return a(Object(s.a)(o,n))}),5e3);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},29:function(e,t,a){"use strict";a.d(t,"g",(function(){return r})),a.d(t,"i",(function(){return o})),a.d(t,"h",(function(){return c})),a.d(t,"d",(function(){return l.c})),a.d(t,"j",(function(){return u})),a.d(t,"c",(function(){return m.b})),a.d(t,"e",(function(){return m.c})),a.d(t,"b",(function(){return m.a})),a.d(t,"f",(function(){return m.e})),a.d(t,"a",(function(){return d.a}));var n=function(e){return new Blob([e],{type:"text,plain;charset=utf-8"})},r=function(e){return n(function(e){return e.reduce((function(e,t){return e+"".concat(t.uptime,',"').concat(t.formattedTimestamp,'",').concat(t.name,",").concat(t.process,",").concat(t.level,',"').concat(t.message,'",').concat(t.context,",").concat(t.host,",").concat(t.workspace_path,"\n")}),"created,formatted timestamp,name,process,level name,message,context,host,workspace\n")}(e))},c=function(e){return n(function(e){var t=e.reduce((function(t,a,n){return t+(JSON.stringify(a)+"".concat(n<e.length-1?",":"","\n"))}),"\n");return"[".concat(t,"]")}(e))},o=function(e){return n(function(e){return e.reduce((function(e,t){return e+"".concat(t.formattedTimestamp," ").concat(t.name,"@").concat(t.process," [").concat(t.level,"]: ").concat(t.message,"\n")}),"")}(e))},l=a(42),s=a(12),i=a(119);function u(e,t){var a=e.uptime,n=e.type,r=Object(i.a)(),c=new Date(a),o=Math.floor(c.valueOf()/1e3),l=c.toLocaleString();return Object(s.a)(Object(s.a)({},e),{},{id:r,idx:t,unixTime:o,timestamp:c,formattedTimestamp:l,level:n})}var m=a(63),d=a(106)},325:function(e,t,a){"use strict";a.r(t),a.d(t,"Dashboard",(function(){return Kr}));var n=a(0),r=a.n(n),c=a(44),o=a(32),l=a(15),s=a(8);function i(){return r.a.createElement("div",{className:"main-navbar__search w-100 d-none d-md-flex d-lg-flex"})}function u(e){var t=e.connected,a=e.reconnect;return r.a.createElement(s.l,{className:"dropdown notifications",onClick:a},r.a.createElement(s.m,{className:"nav-link-icon text-center"},r.a.createElement("div",{className:"nav-link-icon__wrapper"},r.a.createElement("i",{className:"material-icons"},"language"),t?r.a.createElement(s.a,{pill:!0,theme:"success",className:"connection-indicator p-1"},r.a.createElement("i",{className:"material-icons"},"done")):r.a.createElement(s.a,{pill:!0,theme:"danger",className:"connection-indicator p-1"},r.a.createElement("i",{className:"material-icons"},"close")))))}function m(){return r.a.createElement(s.o,{href:"#",style:{lineHeight:"25px"}},r.a.createElement("div",{className:"d-table m-auto"},r.a.createElement("img",{id:"main-logo",className:"d-inline-block align-top mr-1 ml-3",style:{maxWidth:"25px"},src:"/icon.png",alt:"Jina"})))}function d(e){var t=e.usesConnection,a=(e.toggleSidebar,e.reconnect),n=e.connected,c=e.showLogo,o=e.navigateButton;return r.a.createElement("div",{className:"main-navbar"},r.a.createElement(s.h,{fluid:!0,className:"p-0"},r.a.createElement(s.n,{type:"light",className:"align-items-stretch flex-md-nowrap p-0 px-2"},c&&r.a.createElement(m,null),o&&o(),r.a.createElement(i,null),r.a.createElement(s.k,{navbar:!0,className:"flex-row"},t&&r.a.createElement(u,{reconnect:a,connected:n})))))}var p=a(4),f=a.n(p),b=function(e){var t=e.toggleSidebar;return r.a.createElement("div",{className:"main-navbar"},r.a.createElement(s.n,{className:"align-items-stretch bg-white flex-md-nowrap p-0",type:"light"},r.a.createElement(s.o,{className:"w-100 mr-0",href:"#",style:{lineHeight:"25px"}},r.a.createElement("div",{className:"d-table m-auto"},r.a.createElement("img",{id:"main-logo",className:"d-inline-block align-top",style:{maxWidth:"50px"},src:"/jina-light.svg",alt:"Jina Dashboard"}))),r.a.createElement("span",{className:"toggle-sidebar d-sm-inline d-md-none d-lg-none",onClick:t},r.a.createElement("i",{className:"material-icons"},"\ue5c4"))))},g=function(e){var t,a,n=e.item,l=e.toggleSidebar,i=null===(t=Object(o.h)())||void 0===t||null===(a=t.pathname)||void 0===a?void 0:a.substring(1),u=!1;return n.matches.forEach((function(e){i===e&&(u=!0)})),r.a.createElement(s.l,{style:{position:"relative"}},r.a.createElement(s.m,{tag:c.c,to:n.to,active:u,onClick:l},n.iconName&&r.a.createElement("div",{className:"d-inline-block item-icon-wrapper"},r.a.createElement("i",{className:"material-icons"},n.iconName)),n.title&&r.a.createElement("span",null,n.title)))},h=function(e){var t=e.navItems,a=e.toggleSidebar;return r.a.createElement("div",{className:"nav-wrapper"},"undefined"!==typeof t&&t.length&&r.a.createElement(s.k,{className:"nav--no-borders flex-column"},t.map((function(e,t){return r.a.createElement(g,{key:t,item:e,toggleSidebar:a})}))))};var v=function(e){var t=e.menuVisible,a=e.sidebarNavItems,n=e.toggleSidebar,c=f()("main-sidebar","px-0","col-12",t&&"open");return r.a.createElement(s.g,{tag:"aside",className:c,lg:{size:2},md:{size:3}},r.a.createElement(b,{toggleSidebar:n}),r.a.createElement(h,{navItems:a,toggleSidebar:n}))},E=function(e){var t=e.menuItems,a=e.copyright,n=e.loggerEnabled,c=e.enableLogger,o=e.disableLogger,l=e.exportLogs;return r.a.createElement("footer",{className:"main-footer d-flex p-2 px-3"},r.a.createElement(s.h,{fluid:!0},r.a.createElement(s.p,null,r.a.createElement(s.k,null,t.map((function(e,t){return r.a.createElement("a",{key:t,href:e.to,className:"nav-link"},e.title)})),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"nav-link text-warning cursor-pointer",onClick:o},"Exit Debug Mode"),r.a.createElement("span",{className:"nav-link text-warning cursor-pointer",onClick:l},"Export Debug Data")):r.a.createElement("span",{className:"nav-link text-warning cursor-pointer",onClick:c},"Debug Mode")),r.a.createElement("span",{className:"copyright ml-auto my-auto mr-2"},a))))};E.defaultProps={contained:!1,copyright:"Copyright \xa9 Jina AI Limited",menuItems:[{title:"Home",to:"https://jina.ai"},{title:"Open Source",to:"https://opensource.jina.ai"},{title:"Learn",to:"https://docs.jina.ai"},{title:"Community",to:"https://twitter.com/JinaAI_"},{title:"Jobs",to:"https://www.linkedin.com/company/jinaai/jobs/"},{title:"Privacy & Terms",to:"https://github.com/jina-ai/legal"}]};var y=E,w=a(346);function x(e){var t=e.acceptCookies;return r.a.createElement("div",{className:"cookies-banner"},r.a.createElement("p",{className:"mb-2"},'We and third parties use cookies or similar technologies ("Cookies") as described below to collect and process personal data, such as your IP address or browser information. You can learn more about how this site uses Cookies by reading our privacy policy linked below. By clicking "I consent to cookies", you accept the placement and use of these Cookies for these purposes. You can change your mind and revisit your preferences at any time by accessing the \u201cCookie Preferences\u201d link in the footer of this site.'),r.a.createElement(w.a,{className:"ml-auto d-block",onClick:t},"I consent to cookies"))}var O=a(344);function j(e){var t=e.data;if(!t)return null;var a,n="success"===(a=t.theme)?r.a.createElement("i",{className:"material-icons mr-1"},"check_circle_outline"):"error"===a?r.a.createElement("i",{className:"material-icons mr-1"},"cerror_outline"):r.a.createElement("i",{className:"material-icons mr-1"},"warning");return r.a.createElement("div",{"data-name":"connection-notification-online",className:"notifications-container"},r.a.createElement(O.a,{className:"toast-".concat(t.theme," text-white")},r.a.createElement(O.a.Header,{className:"text-white",closeButton:!1},r.a.createElement("strong",{className:"mr-auto"},n,r.a.createElement("span",{className:"text-uppercase"},t.theme))),r.a.createElement(O.a.Body,{className:"text-white"},t.message)))}var k=a(336),N=a(195);function C(e){var t=e.reconnect;return r.a.createElement("div",{className:"notifications-container","data-name":"connection-notification-offline"},r.a.createElement(O.a,{className:"bg-warning"},r.a.createElement(O.a.Header,{className:"bg-warning text-white",closeButton:!1},r.a.createElement("strong",{className:"mr-auto"},r.a.createElement("i",{className:"material-icons mr-1"},"warning"),"Could not connect to Jina instance")),r.a.createElement(O.a.Body,{className:"text-white"},r.a.createElement(k.a,null,r.a.createElement(N.a,{xs:"6",className:"pr-2"},r.a.createElement("a",{href:"https://github.com/jina-ai/dashboard#getting-started",target:"_blank",rel:"noopener noreferrer",className:"mr-2"},r.a.createElement(w.a,{variant:"light",className:"w-100"},r.a.createElement("i",{className:"material-icons mr-1"},"text_snippet"),"View Docs"))),r.a.createElement(N.a,{xs:"6",className:"pl-2"},r.a.createElement(w.a,{variant:"primary",className:"w-100",onClick:t},r.a.createElement("i",{className:"material-icons mr-1"},"refresh"),"Refresh"))))))}var S=a(343),_=a(50),A=a.n(_),L={overlay:{backgroundColor:"rgba(38, 50, 56, 0.5)"},content:{border:"none",bottom:"auto",maxHeight:"80%",left:"50%",padding:"2rem",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)",width:"90%",maxWidth:"800px",overflow:"hidden"}},F=function(e){var t,a=e.open,n=e.closeModal,c=e.importYAML;return r.a.createElement(A.a,{ariaHideApp:!1,isOpen:a,contentLabel:"Action Modal",className:"modal-content tiny-modal px-4 pt-3 pb-4",shouldCloseOnOverlayClick:!0,style:L,onRequestClose:n,closeTimeoutMS:100},r.a.createElement("div",{className:"modal-header p-0"},r.a.createElement("h4",null,r.a.createElement("b",null,"Import YAML")),r.a.createElement("h4",null,r.a.createElement("span",{className:"float-right close-icon"},r.a.createElement("i",{className:"material-icons",onClick:n},"close")))),r.a.createElement("div",{className:"modal-body px-0 pb-0"},r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"Custom YAML:"),r.a.createElement(S.a.Control,{placeholder:"Paste Here",ref:function(e){return t=e},as:"textarea",rows:10}))),r.a.createElement(w.a,{className:"btn-primary",onClick:function(){return c(t.value)}},"Continue"))},T={overlay:{backgroundColor:"rgba(38, 50, 56, 0.5)"},content:{border:"none",bottom:"auto",maxHeight:"80%",left:"50%",padding:"2rem",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)",width:"90%",maxWidth:"800px",overflow:"hidden"}},I=function(e){var t,a=e.open,n=e.closeModal,c=e.submitReview;return r.a.createElement(A.a,{ariaHideApp:!1,isOpen:a,contentLabel:"Action Modal",className:"modal-content tiny-modal px-4 pt-3 pb-4",shouldCloseOnOverlayClick:!0,style:T,onRequestClose:n,closeTimeoutMS:100},r.a.createElement("div",{className:"modal-header p-0"},r.a.createElement("h4",null,r.a.createElement("b",null,"Write a Review")),r.a.createElement("h4",null,r.a.createElement("span",{className:"float-right close-icon"},r.a.createElement("i",{className:"material-icons",onClick:n},"close")))),r.a.createElement("div",{className:"modal-body px-0 pb-0"},r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Control,{placeholder:"Tell the world about your experience",ref:function(e){return t=e},as:"textarea",rows:10}))),r.a.createElement(w.a,{className:"btn-primary",onClick:function(){return c(t.value)}},"Submit"))},D={overlay:{backgroundColor:"rgba(38, 50, 56, 0.5)"},content:{border:"none",bottom:"auto",maxHeight:"80%",left:"50%",padding:"2rem",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)",width:"90%",maxWidth:"800px",overflow:"hidden"}},R=["message","unixTime"],P=function(e){var t=e.open,a=e.closeModal,n=e.modalParams,c=(null===n||void 0===n?void 0:n.log)||{};return r.a.createElement(A.a,{ariaHideApp:!1,isOpen:t,contentLabel:"Action Modal",className:"modal-content tiny-modal px-4 pt-3 pb-4",shouldCloseOnOverlayClick:!0,style:D,onRequestClose:a,closeTimeoutMS:100},r.a.createElement("div",{className:"modal-header p-0"},r.a.createElement("h4",null,r.a.createElement("b",null,"Log Details")),r.a.createElement("h4",null,r.a.createElement("span",{className:"float-right close-icon"},r.a.createElement("i",{className:"material-icons",onClick:a},"close")))),r.a.createElement("div",{className:"modal-body px-0 pb-0 pt-1"},r.a.createElement(k.a,{className:"px-3"},r.a.createElement(N.a,{xs:"3",className:"border-bottom pb-1 px-0"},r.a.createElement("span",{className:"text-bold"},"msg")),r.a.createElement(N.a,{xs:"9",className:"border-bottom pb-1 px-0"},c.message)),Object.entries(c).filter((function(e){var t=Object(l.a)(e,2),a=t[0];t[1];return!R.includes(a)})).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return"message"===a?"":r.a.createElement(k.a,{className:"px-3",key:a},r.a.createElement(N.a,{xs:"3",className:"border-bottom pb-1 px-0"},r.a.createElement("span",{className:"text-bold"},a)),r.a.createElement(N.a,{xs:"9",className:"border-bottom pb-1 px-0"},JSON.stringify(n)))}))))},M=a(17),B=a(14),H=function(e){return e.globalState.menuVisible},W=function(e){return e.globalState.navItems},G=function(e){return e.globalState.user},U=function(e){return e.globalState.banner},z=function(e){return e.globalState.modal},J=function(e){return e.globalState.modalParams},q=function(e){return e.globalState.connected},V=function(e){return e.globalState.loading},Y=a(40),K=a(11),$=a(13),Q=a(21),X=a(25),Z=function(e){return e.flowState.flows[e.flowState.selectedFlowId]},ee=function(e){return e.flowState.flows},te=function(e){return e.flowState.flowArguments},ae=function(e){return Object.entries(e.flowState.flows).filter((function(e){return"example"===e[1].type}))},ne=function(e){return e.flowState.selectedFlowId};function re(){var e=Object(K.a)(["\n  color: black;\n  font-size: 18px;\n  font-weight: 600;\n  text-align: center;\n"]);return re=function(){return e},e}function ce(){var e=Object(K.a)(["\n  cursor: pointer;\n  background-color: #ffffff;\n  width: 12rem;\n  height: 12rem;\n  margin: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return ce=function(){return e},e}function oe(){var e=Object(K.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0 1rem 0 1rem;\n  margin-bottom: 1rem;\n"]);return oe=function(){return e},e}function le(){var e=Object(K.a)(["\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  font-size: 2rem;\n  color: #ffffff;\n  float: right;\n  line-height: 100%;\n"]);return le=function(){return e},e}var se={overlay:{backgroundColor:"rgba(38, 50, 56, 0.5)"},content:{backgroundColor:"#EBE8E8",border:"none",bottom:"auto",maxHeight:"80%",left:"50%",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)",maxWidth:"44rem",overflow:"hidden"}},ie=$.a.div(le()),ue=$.a.div(oe()),me=$.a.div(ce()),de=function(){return r.a.createElement("i",{style:{fontSize:"6rem",color:"#C4C4C4",marginBottom:"-1rem"},className:"material-icons"},"add")},pe=$.a.span(re()),fe=function(e){var t=e.open,a=Object(B.b)(),n=Object(B.c)(ae),c=function(e,t){switch(e){case"close":a(Object(Q.a)());break;case"create from yaml":a(Object(Q.e)("import"));break;case"create from template":t&&a(Object(X.g)(t)),a(Object(Q.a)());break;case"create empty":a(Object(X.c)()),a(Object(Q.a)())}};return r.a.createElement(A.a,{ariaHideApp:!1,isOpen:t,contentLabel:"Action Modal",className:"modal-content tiny-modal px-4 pt-3 pb-4",shouldCloseOnOverlayClick:!0,style:se,onRequestClose:function(){return c("close")},closeTimeoutMS:100},r.a.createElement("div",null,r.a.createElement(ie,{onClick:function(){return c("close")}},r.a.createElement("i",{className:"material-icons",onClick:Q.a},"close"))),r.a.createElement(ue,null,r.a.createElement(me,{"data-name":"createEmptyFLowButton",onClick:function(){return c("create empty")}},r.a.createElement(de,null),r.a.createElement(pe,null,"empty flow")),r.a.createElement(me,{onClick:function(){return c("create from yaml")}},r.a.createElement(de,null),r.a.createElement(pe,null,"from yaml")),n.map((function(e,t){return r.a.createElement(me,{key:t,onClick:function(){return c("create from template",e[1].yaml)}},r.a.createElement(pe,null,e[1].name))}))))},be=a(65);function ge(){var e=Object(K.a)(["\n  width: 97%;\n"]);return ge=function(){return e},e}function he(){var e=Object(K.a)(["\n  width: 97%;\n  background: #f1f3f4;\n  border-radius: 5px;\n  padding: 0.5em;\n  border: 0;\n  margin-bottom: 0.5rem;\n"]);return he=function(){return e},e}function ve(){var e=Object(K.a)(["\n  width: 104%;\n  margin-bottom: 1rem;\n  border: 0;\n  overflow: hidden;\n  overflow-y: scroll;\n  height: 20rem;\n  border-radius: 0.25em;\n\n  ::-webkit-scrollbar {\n    width: 1rem;\n  }\n\n  ::-webkit-scrollbar * {\n    background: transparent;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: #099 !important;\n    border-radius: 1rem;\n  }\n"]);return ve=function(){return e},e}function Ee(){var e=Object(K.a)(["\n  font-weight: 600;\n  font-size: 20px;\n  color: #009999;\n  margin-bottom: 0.5rem;\n"]);return Ee=function(){return e},e}function ye(){var e=Object(K.a)(["\n  font-weight: 600;\n  font-size: 30px;\n  color: #009999;\n  margin-bottom: 0.5rem;\n"]);return ye=function(){return e},e}function we(){var e=Object(K.a)(["\n  width: 25rem;\n  margin-right: -1rem;\n"]);return we=function(){return e},e}var xe={overlay:{backgroundColor:"rgba(38, 50, 56, 0.5)"},content:{border:"none",bottom:"auto",left:"50%",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)",maxWidth:"30rem",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"}},Oe=$.a.div(we()),je=$.a.header(ye()),ke=$.a.header(Ee()),Ne=$.a.div(ve()),Ce=$.a.input(he()),Se=Object($.a)(w.a)(ge());var _e=function(e){var t,a,c=e.open,o=e.closeModal,s=e.modalParams,i=(null===s||void 0===s?void 0:s.nodeId)||"",u=Object(B.c)(Z),m=Object(B.c)(te),d=u.flowChart.elements.find((function(e){return e.id===i})),p=Object(n.useState)(""),f=Object(l.a)(p,2),b=f[0],g=f[1],h=Object(n.useState)(m.pod),v=Object(l.a)(h,2),E=v[0],y=v[1],w=Object(B.b)();Object(n.useEffect)((function(){var e=m.pod.filter((function(e){return e.name.toLowerCase().includes(b.toLowerCase())}));y(e)}),[b,m]);var x=(null===d||void 0===d||null===(t=d.data)||void 0===t?void 0:t.label)||(null===d||void 0===d||null===(a=d.data)||void 0===a?void 0:a.name)||"Empty Pod";return console.log("node"),console.log(d),r.a.createElement(A.a,{ariaHideApp:!1,isOpen:c,contentLabel:"Action Modal",className:"modal-content tiny-modal px-4 pt-3 pb-4",shouldCloseOnOverlayClick:!0,onRequestClose:o,closeTimeoutMS:100,style:xe},r.a.createElement(Oe,null,r.a.createElement(je,null,"pods name"),r.a.createElement(Ce,{value:x,onChange:function(e){return function(e){if(null===d||void 0===d?void 0:d.id){var t={label:e};w(Object(X.n)(d.id,t))}}(e.target.value)},className:"pod-name-input"}),r.a.createElement(je,null,"properties"),r.a.createElement(Ce,{placeholder:"search properties...",value:b,onChange:function(e){return g(e.target.value)}}),r.a.createElement(Ne,null,E.map((function(e){var t=e.name,a=e.type;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,null,t),r.a.createElement(Ce,{placeholder:a,type:"integer"===a?"number":"text",value:(null===d||void 0===d?void 0:d.data)?null===d||void 0===d?void 0:d.data[t]:"",onChange:function(e){return function(e,t){if(null===d||void 0===d?void 0:d.id){var a=Object(be.a)({},e,t);w(Object(X.n)(d.id,a))}}(t,e.target.value)},className:"property-value-input"}))}))),r.a.createElement(Se,{variant:"danger",onClick:function(){(null===d||void 0===d?void 0:d.id)&&(w(Object(X.f)(d.id)),o())}},"Delete Pod")))},Ae=a(12),Le=a(47),Fe={rest_api:{name:"rest_api",description:"Whether to enable REST interface",type:"boolean"},port_expose:{name:"port_expose",description:"Which port to expose gRPC or REST interface",type:"integer"}};var Te={overlay:{backgroundColor:"rgba(38, 50, 56, 0.5)"},content:{border:"none",bottom:"auto",left:"50%",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)",maxWidth:"30rem",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"}},Ie=Object(Le.a)("div",{target:"epp8lbv9",label:"FlowSettingsContainer"})({name:"qaa5j2",styles:"width:100%;padding-left:1rem;padding-right:1rem"}),De=Object(Le.a)("header",{target:"epp8lbv8",label:"Header1"})({name:"l0nwae",styles:"font-weight:600;font-size:30px;color:#009999;margin-bottom:0.5rem"}),Re=Object(Le.a)("header",{target:"epp8lbv7",label:"Header2"})({name:"xmmggg",styles:"font-weight:600;font-size:20px;margin-bottom:0.5rem"}),Pe=Object(Le.a)("div",{target:"epp8lbv6",label:"PropertyTable"})({name:"1itp0qf",styles:"margin-bottom:1rem;overflow-y:auto;height:20rem;border-radius:0.25em"}),Me=Object(Le.a)("div",{target:"epp8lbv5",label:"PropertyItem"})({name:"pw7jst",styles:"position:relative;width:100%"}),Be=Object(Le.a)("input",{target:"epp8lbv4",label:"Input"})({name:"98gvet",styles:"width:100%;background:#f1f3f4;border-radius:5px;padding:0.5em;border:0;margin-bottom:0.5rem"}),He=Object(Le.a)(w.a,{target:"epp8lbv3",label:"DeleteButton"})({name:"1d3w5wq",styles:"width:100%"}),We=Object(Le.a)("div",{target:"epp8lbv2",label:"CheckBoxWrapper"})({name:"bjn8wh",styles:"position:relative"}),Ge=Object(Le.a)("label",{target:"epp8lbv1",label:"CheckBoxLabel"})({name:"kql5m8",styles:'position:absolute;top:0;left:0;width:41px;height:22px;border-radius:20px;background:#a6a6a6;cursor:pointer;&::after{content:"";display:block;border-radius:50%;width:18px;height:18px;margin:2px;background:#ffffff;transition:0.2s;}'}),Ue=Object(Le.a)("input",{target:"epp8lbv0",label:"CheckBox"})("opacity:0;z-index:1;border-radius:15px;width:42px;height:26px;&:checked+",Ge,'{background:#32c8cd;&::after{content:"";display:block;border-radius:50%;width:18px;height:18px;margin-left:21px;transition:0.2s;}}');function ze(e){var t=e.checked,a=e.setChecked;return r.a.createElement(We,null,r.a.createElement(Ue,{id:"checkbox",type:"checkbox",checked:t,onChange:function(e){return a(e.target.checked)}}),r.a.createElement(Ge,{htmlFor:"checkbox"}))}var Je=function(e){var t=e.open,a=e.closeModal,n=Object(B.c)(ne),c=Object(B.c)(Z),o=Object(B.b)();function l(e,t){var a,n=Object(Ae.a)({},c);(null===(a=n.flowChart)||void 0===a?void 0:a.with)&&(n.flowChart.with[e]=t),o(Object(X.o)(n))}return r.a.createElement(A.a,{ariaHideApp:!1,isOpen:t,contentLabel:"Action Modal",className:"modal-content tiny-modal px-4 pt-3 pb-4",shouldCloseOnOverlayClick:!0,onRequestClose:a,closeTimeoutMS:100,style:Te},r.a.createElement(Ie,{"data-name":"settingsModal"},r.a.createElement(De,null,"Flow Name"),r.a.createElement(Be,{value:c.name,onChange:function(e){return function(e){var t=Object(Ae.a)(Object(Ae.a)({},c),{},{name:e});o(Object(X.o)(t))}(e.target.value)},className:"pod-name-input"}),r.a.createElement(De,null,"Settings"),r.a.createElement(Pe,null,Object.values(Fe).map((function(e,t){return r.a.createElement(Me,{key:t},r.a.createElement(Re,null,null===e||void 0===e?void 0:e.name),"boolean"===(null===e||void 0===e?void 0:e.type)?r.a.createElement(ze,{checked:!!c.flowChart.with&&!!c.flowChart.with[null===e||void 0===e?void 0:e.name],setChecked:function(t){return l(null===e||void 0===e?void 0:e.name,t)}}):r.a.createElement(Be,{placeholder:null===e||void 0===e?void 0:e.type,type:"integer"===(null===e||void 0===e?void 0:e.type)?"number":"text",value:c.flowChart.with&&(null===e||void 0===e?void 0:e.name)?c.flowChart.with[e.name].toString():"",onChange:function(t){(null===e||void 0===e?void 0:e.name)&&l(e.name,t.target.value)},className:"property-value-input"}))}))),r.a.createElement(He,{variant:"danger",onClick:function(){o(Object(X.d)(n)),a()}},"Delete Flow")))},qe=function(e){var t=Object(B.c)(z),a=Object(B.c)(J),c=Object(B.c)(V),o=Object(B.c)(U),i=Object(B.c)(q),u=M.a.isEnabled(),m=Object(B.c)(H),p=Object(B.c)(W),f=Object(B.c)(G),b=Object(n.useState)("true"===localStorage.getItem("accepted-cookies")),g=Object(l.a)(b,2),h=g[0],E=g[1],w=Object(B.b)(),O=function(){w(Object(Q.a)())},k=function(){w(Object(Q.b)())},N=function(){w(Object(Q.f)())},S=e.children,_=e.usesAuth,A=e.usesConnection,L=e.navigateButton;return r.a.createElement(s.h,{fluid:!0,className:"icon-sidebar-nav"},r.a.createElement(s.p,null,r.a.createElement(v,{sidebarNavItems:p,menuVisible:m,toggleSidebar:N}),r.a.createElement(s.g,{className:"main-content col",tag:"main"},r.a.createElement(d,{user:f,usesAuth:_,usesConnection:A,logOut:function(){},toggleSidebar:N,reconnect:k,connected:i,navigateButton:L}),r.a.createElement(j,{data:o}),A&&!c&&!i&&r.a.createElement(C,{reconnect:k}),S,!h&&r.a.createElement(x,{acceptCookies:function(){localStorage.setItem("accepted-cookies",String(!0)),E(!0)}}),r.a.createElement(y,{loggerEnabled:u,enableLogger:function(){M.a.enable();var e=Y.a.getState();M.a.log("Store Snapshot",e),w(Object(Q.d)('Debug Mode Enabled. Click "Export Debug Data" to download Debug JSON.',"warning"))},disableLogger:function(){M.a.disable(),w(Object(Q.d)("Debug Mode Disabled.","warning"))},exportLogs:function(){var e=Y.a.getState();M.a.log("Store Snapshot",e),M.a.exportLogs()}}))),r.a.createElement(P,{open:"logDetails"===t,closeModal:O,modalParams:a}),r.a.createElement(F,{open:"import"===t,closeModal:O,importYAML:function(e){w(Object(X.h)(e)),O()}}),r.a.createElement(fe,{open:"newFlow"===t}),r.a.createElement(I,{open:"review"===t,closeModal:O,submitReview:function(){}}),"podEdit"===t&&r.a.createElement(_e,{open:"podEdit"===t,closeModal:O,modalParams:a}),"flowSettings"===t&&r.a.createElement(Je,{open:"flowSettings"===t,closeModal:O,modalParams:a}))},Ve=a(339),Ye=a(345),Ke=a(51),$e=a.n(Ke),Qe=function(e){var t=e.palette;return{INFO:{borderColor:t.info,backgroundColor:"rgba(0, 153, 153, 0.9)"},SUCCESS:{borderColor:t.success,backgroundColor:"rgba(50, 200, 205, 0.9)"},WARNING:{borderColor:t.warning,backgroundColor:"rgba(255, 204, 102, 0.9)"},ERROR:{borderColor:t.error,backgroundColor:"rgba(255, 102, 102, 0.9)"},CRITICAL:{borderColor:t.critical,backgroundColor:"rgba(255, 70, 64, 0.9)"},DEBUG:{borderColor:t.debug,backgroundColor:"rgba(110, 114, 120, 0.9)"}}},Xe=a(36),Ze=["INFO","SUCCESS","WARNING","ERROR","CRITICAL","DEBUG"];function et(e,t){var a=Qe(t);return Ze.map((function(t){var n=e.map((function(e){return e.levels[t]}));return{barPercentage:.75,categoryPercentage:1,label:t,fill:"start",backgroundColor:a[t].backgroundColor,data:n}}))}function tt(e){for(var t=[],a=0;a<(e||0);++a)t.push(a);return t}var at=function(e){var t=e.width,a=e.height,c=e.data,o=e.numTicks,s=e.onClick,i=e.timeLabels,u=Object(n.useRef)(null),m=Object(n.useState)(null),d=Object(l.a)(m,2),p=d[0],f=d[1],b=Object(Xe.f)();function g(e){if(p){var t=p.getElementsAtEvent(e);s(t)}}var h=Object(n.useCallback)((function(e,t,a){return 0===t?i[0]:t===Math.floor(a.length/2)?i[1]:void 0}),[i]);function v(e){if(Number.isInteger(e))return e}function E(){return r.a.createElement("div",{className:"chart-legend mt-1 mb-3","data-name":"logOccurencesChartLegend"},Object.entries(Qe(b)).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{className:"chart-legend-item",key:a},r.a.createElement("div",{className:"chart-legend-indicator mr-1 ".concat(a.toLowerCase()),style:{backgroundColor:n.borderColor}}),r.a.createElement("span",{className:"chart-legend-caption mr-2"},a))})))}return Object(n.useEffect)((function(){if(u.current){var e={animation:{duration:0},events:["click"],onClick:g,maintainAspectRatio:!0,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},elements:{point:{radius:0,hitRadius:20}},scales:{xAxes:[{stacked:!0,ticks:{padding:5,maxRotation:0,autoSkip:!1,callback:h},gridLines:{zeroLineColor:"#cfd8dc",color:"#cfd8dc"}}],yAxes:[{stacked:!0,scaleLabel:{display:!1},gridLines:{borderDash:[5,5],zeroLineColor:"#cfd8dc",drawBorder:!1,color:"#cfd8dc"},ticks:{padding:5,suggestedMin:0,autoSkip:!0,maxTicksLimit:4,callback:v}}]}},t={type:"bar",data:{datasets:et(c,b)},options:e},a=new $e.a(u.current,t);f(a)}}),[]),Object(n.useEffect)((function(){if(p){var e={labels:tt(o),datasets:et(c,b)};p.data=e,p.update()}}),[c,p,o,b]),Object(n.useEffect)((function(){p&&p.options.scales&&p.options.scales.xAxes&&p.options.scales.xAxes[0].ticks&&(p.options.scales.xAxes[0].ticks.callback=h,p.update())}),[h,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("canvas",{height:a||10,width:t||100,ref:u}))},nt=a(207),rt=a(204),ct={dropdownIndicator:function(e){return Object(Ae.a)(Object(Ae.a)({},e),{},{color:"black"})},indicatorSeparator:function(e){return Object(Ae.a)(Object(Ae.a)({},e),{},{opacity:"0"})},container:function(e,t){var a=t.selectProps.width;return Object(Ae.a)(Object(Ae.a)({},e),{},{width:a})},option:function(e){return Object(Ae.a)(Object(Ae.a)({},e),{},{cursor:"pointer"})},control:function(e){return Object(Ae.a)(Object(Ae.a)({},e),{},{cursor:"pointer",border:"none",background:"#F6F8FA"})}};function ot(e){var t=e.isMulti,a=e.isSearchable,n=e.clearAfter,c=e.onFilterChange,o=e.options,l=Object(nt.a)(e,["isMulti","isSearchable","clearAfter","onFilterChange","options"]),s=n?null:void 0;return r.a.createElement(rt.a,Object.assign({onChange:function(e){console.log(e,"val"),c(Array.isArray(e)?e:e?[e]:[])},value:s,isMulti:t,options:o,styles:ct,readOnly:!0,isSearchable:a},l))}function lt(e){var t=e.data,a=t.data,n=(t.numSeconds,t.numTicks),c=e.showLog,o=e.setTimeSelection,l=e.timeOptions,s=e.selectedTime,i=e.timeLabels;return r.a.createElement(Ye.a,{className:"h-100"},r.a.createElement(Ye.a.Header,{className:"p-2 px-3"},r.a.createElement(k.a,null,r.a.createElement(N.a,{"data-name":"logOccurenceTitle"},"Log Occurences by Level"),r.a.createElement(N.a,{className:"text-right","data-name":"logOccurenceDurationSelect"},r.a.createElement(ot,{clearAfter:!0,options:Object.values(l),onFilterChange:function(e){return o(e[0].value)},className:"logstream-select text-left",placeholder:r.a.createElement("span",{"data-name":"logOccurenceDurationSelectedOption"},r.a.createElement("i",{className:"material-icons mr-2"},"access_time"),l[s].label),isSearchable:!1})))),r.a.createElement(Ye.a.Body,{className:"d-none d-md-block p-0 pb-2 px-3"},r.a.createElement(at,{timeLabels:i,data:a,numTicks:n,height:10,width:70,onClick:c})),r.a.createElement(Ye.a.Body,{className:"d-md-none pb-2"},r.a.createElement(at,{timeLabels:i,data:a,numTicks:n,height:20,width:50,onClick:c})))}var st=function(e){var t=e.width,a=e.height,c=e.data,o=Object(n.useRef)(null),s=Object(n.useState)(null),i=Object(l.a)(s,2),u=i[0],m=i[1],d=Object(Xe.f)(),p=Object(n.useCallback)((function(e){return Qe(d)[e]}),[d]);return Object(n.useEffect)((function(){if(o.current){var e=Object.keys(c),t={type:"pie",data:{datasets:[{borderWidth:1,data:Object.values(c),borderColor:e.map((function(e){return p(e).borderColor})),backgroundColor:e.map((function(e){return p(e).backgroundColor}))}]},options:{animation:{duration:0},legend:{display:!1,position:"bottom",labels:{padding:25,boxWidth:20}},tooltips:{mode:"index",position:"nearest"}}},a=new $e.a(o.current,t);m(a)}}),[]),Object(n.useEffect)((function(){if(u){var e=Object.keys(c),t={labels:e,datasets:[{borderWidth:1,data:Object.values(c),borderColor:e.map((function(e){return p(e).borderColor})),backgroundColor:e.map((function(e){return p(e).backgroundColor}))}]};u.data=t,u.update()}}),[c,u,p]),r.a.createElement("canvas",{height:a||50,width:t||50,ref:o})};function it(e){var t=e.data;return r.a.createElement(Ye.a,{className:"h-100"},r.a.createElement(Ye.a.Header,{className:"text-center p-2"},"Log Levels"),r.a.createElement(Ye.a.Body,{className:"px-3 pt-0 pb-3"},r.a.createElement(st,{data:t})))}function ut(e){var t=e.title,a=e.subtitle,n=e.className,c=f()(n,"text-center","text-md-left","mb-sm-0");return r.a.createElement(N.a,{xs:"12",sm:"3",className:c},r.a.createElement("h3",{className:"page-title","data-name":"title"},t),r.a.createElement("p",{className:"page-subtitle mt-2 mb-0"},a))}var mt=a(9),dt=a.n(mt),pt=a(18),ft=a(78),bt=a.n(ft),gt=a(120),ht=a(196),vt=a(197),Et=a.n(vt),yt=a(93),wt=a(23),xt=Object(n.memo)((function(e){var t=e.index,a=e.style,n=e.data,r=n.columns,c=n.items,o=n.showLogDetails,l=c[t],s=l.name,i=l.message,u=l.level,m=l.process,d=l.formattedTimestamp,p=l.idx,f=String(s);f=f.length>20?f.substring(0,20):f;var b=String(u)[0],g=r.firstCol,h=r.secondCol,v=r.thirdCol;return Object(wt.a)("div",{"data-name":"logItem-".concat(t),className:"log log-".concat(String(u).toLowerCase()," px-4 border-bottom py-1"),css:{maxHeight:84},style:a,onClick:function(){return o(l)}},Object(wt.a)(k.a,null,Object(wt.a)(N.a,{className:"log-prefix text-muted px-0 d-flex flex-row",css:{maxWidth:g}},Object(wt.a)("div",{className:"text-bold mr-2"},p),Object(wt.a)("div",{className:"ml-auto"},d)),Object(wt.a)(N.a,{className:"log-prefix px-0 text-left text-md-right text-bold cursor-pointer",css:{maxWidth:h}},f,"@",m,"[",b,"]:"),Object(wt.a)(N.a,{className:"px-0",css:{maxHeight:84,display:"block",overflow:"hidden",textOverflow:"ellipsis",width:v,whiteSpace:"nowrap",paddingRight:0,marginRight:0}},i)))}),gt.b),Ot=function(e){var t=e.columns,a=t.firstCol,n=t.secondCol,r=e.border;return Object(wt.a)("div",{className:"px-4 py-1 bg-light text-monospace ".concat(r?"border-top":""),css:{maxHeight:84}},Object(wt.a)(k.a,null,Object(wt.a)(N.a,{className:"log-prefix text-muted px-0 d-flex flex-row",css:{maxWidth:a}},Object(wt.a)("div",{className:"text-bold mr-2"},"#"),Object(wt.a)("div",{className:"ml-auto"},"timestamp")),Object(wt.a)(N.a,{className:"log-prefix px-0 text-left text-md-right text-bold",css:{maxWidth:n}},"source@process[level]:"),Object(wt.a)(N.a,{className:"px-0",css:{maxHeight:84,display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingRight:0,marginRight:0}},"message")))},jt=a(337);function kt(){var e=Object(K.a)(["\n  cursor: pointer;\n"]);return kt=function(){return e},e}var Nt=Object($.a)(jt.a.Prepend)(kt());function Ct(e){var t=e.value,a=e.onChange,n=e.onSearch,c=e.placeholder,o=e.variant;return r.a.createElement("div",{className:"expanding-searchbar expanding-searchbar-".concat(o||"default")},r.a.createElement(jt.a,null,r.a.createElement(Nt,{className:"ml-auto",onClick:function(e){return n&&n(t)}},r.a.createElement(jt.a.Text,null,r.a.createElement("i",{className:"material-icons"},"search"))),r.a.createElement(S.a.Control,{type:"text",role:"input",placeholder:c,value:t,onChange:function(e){return a(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&n&&n(t)}}),r.a.createElement(jt.a.Append,null,r.a.createElement(jt.a.Text,null,r.a.createElement("i",{className:"cursor-pointer text-muted material-icons mr-3 ".concat(t?"":"d-invisible"),onClick:function(){a(""),n&&n("")}},"cancel")))))}var St=a(338),_t={success:{name:"check_circle",color:"success"},pending:{name:"pending",color:"muted"},warning:{name:"error",color:"warning"},failed:{name:"cancel",color:"critical"}};function At(e){var t=e.levels,a=e.numItems;return M.a.log("levels:",t),r.a.createElement("span",{className:"ml-2 text-muted"},"(",a,")")}function Lt(e){var t=function(e){var t=Object.keys(e);return t.find((function(e){return"critical"===e.toLowerCase()}))||t.find((function(e){return"error"===e.toLowerCase()}))?"failed":t.find((function(e){return"warning"===e.toLowerCase()}))?"warning":"success"}(e.levels),a=_t[t];return r.a.createElement("i",{className:"no-select material-icons log-".concat(a.color," mr-2")},a.name)}function Ft(e){var t=e.expanded;return r.a.createElement("i",{className:"no-select material-icons text-muted cursor-pointer ".concat(t?"rotate-90":""," mr-2")},"arrow_forward_ios")}function Tt(e){var t=e.title,a=e.body,c=e.levels,o=e.numItems,s=e.group,i=Object(n.useState)(!1),u=Object(l.a)(i,2),m=u[0],d=u[1];return r.a.createElement("div",{className:"log-group-item m-2 ".concat(m?"bg-light":"")},r.a.createElement("div",{className:"log-group-header cursor-pointer p-2",onClick:function(){return d((function(e){return!e}))}},r.a.createElement(Ft,{expanded:m}),c&&r.a.createElement(Lt,{levels:c}),r.a.createElement("span",{className:"group-level"===s?"log-".concat(t.toLowerCase()):""},t),!c&&r.a.createElement(At,{levels:c,numItems:o,title:t})),r.a.createElement(St.a,{in:m,timeout:100},r.a.createElement("div",{className:"log-group-body p-3"},r.a.createElement("div",{className:"bg-white border"},a))))}var It=a(29),Dt="logs-view-preference",Rt=[{value:"csv",label:"CSV"},{value:"json",label:"JSON"},{value:"txt",label:"TXT"}],Pt={table:{value:"table",label:"Table View"},"group-pod":{value:"group-pod",label:"Group by Pod"},"group-level":{value:"group-level",label:"Group by Level"}};function Mt(){return function(){var e=localStorage.getItem(Dt);return!(!e||!Pt[e])&&e}()||"table"}var Bt=0,Ht=Et.a.create({doc:{id:"id",field:["filename","funcName","module","message","pathname","name"]}}),Wt=function(e,t){var a=function(e){return"jina-logs-".concat(new Date,".").concat(e)}(t);return"csv"===t?Object(yt.saveAs)(Object(It.g)(e),a):"json"===t?Object(yt.saveAs)(Object(It.h)(e),a):"txt"===t?Object(yt.saveAs)(Object(It.i)(e),a):void 0},Gt=function(e,t){return t.items[e].id},Ut=function(e){return Array.isArray(e)?e:Array.from(e)},zt=function(e){return Ut(e).map((function(e){return{label:e,value:e}}))};function Jt(e){var t=e.data,a=e.firstCol,c=e.secondCol,o=e.showLogDetails,s=e.small,i=Object(n.useRef)(),u=Object(n.useState)(!0),m=Object(l.a)(u,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){i.current&&d&&i.current.scrollToItem(t.length)}),[t.length,d]),r.a.createElement("div",null,!d&&r.a.createElement("div",{onClick:function(){return i.current.scrollToItem(t.length)},className:"back-to-bottom active"},r.a.createElement("i",{className:"material-icons"},"arrow_downward")," Back to Bottom"),r.a.createElement(Ot,{columns:{firstCol:a,secondCol:c},border:!s}),r.a.createElement("div",{className:"log-stream-container".concat(s?"-small":""," p-0 border-top")},r.a.createElement(ht.a,null,(function(e){var n=e.height,l=e.width,s=l-(a+c);return r.a.createElement(gt.a,{onScroll:function(e){var a=e.scrollOffset;p((a+n)/30-t.length===0)},height:n,width:l,itemCount:t.length,itemSize:30,itemKey:Gt,itemData:{items:t,columns:{firstCol:a,secondCol:c,thirdCol:s},showLogDetails:o},ref:i},xt)}))))}function qt(e){var t=e.groupedData,a=e.grouping,n=e.firstCol,c=e.secondCol,o=e.showLogDetails;return r.a.createElement(Ye.a.Body,{className:"log-stream-container p-0 border-top"},Object.keys(t).length&&r.a.createElement("div",{className:"log-group-container"},Object.entries(t).map((function(e,t){var s=Object(l.a)(e,2),i=s[0],u=s[1];return r.a.createElement(Tt,{group:a,key:t,title:i,levels:u.levels,numItems:u.data.length,body:r.a.createElement(Jt,{firstCol:n,secondCol:c,data:u.data,showLogDetails:o,small:!0})})}))))}function Vt(e){var t=e.data,a=e.showLogDetails,c=Object(n.useState)((function(){return Mt()})),o=Object(l.a)(c,2),s=o[0],i=o[1],u=Object(n.useState)([]),m=Object(l.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)([]),b=Object(l.a)(f,2),g=b[0],h=b[1],v=Object(n.useState)([]),E=Object(l.a)(v,2),y=E[0],w=E[1],x=Object(n.useState)(""),O=Object(l.a)(x,2),j=O[0],C=O[1],S=Object(n.useCallback)(Object(pt.a)(dt.a.mark((function e(){var a,n;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slice(Bt,t.length),Ht.add(a),Bt=t.length,e.next=5,Ht.search(j);case 5:n=e.sent,w(n);case 7:case"end":return e.stop()}}),e)}))),[j,t.length]);function _(e){var t;i(e),t=e,localStorage.setItem(Dt,t)}Object(n.useEffect)((function(){j&&t.length&&S()}),[t.length,j,S]);var A=j?y:t,L=t.reduce((function(e,t){return e.add(t.name)}),new Set),F={};console.log(A,"unfiltered");var T=(A||[]).filter((function(e){return t=e,a={level:g.map((function(e){return e.value})),name:d.map((function(e){return e.value}))},Object.entries(a).reduce((function(e,a){var n=Object(l.a)(a,2),r=n[0],c=n[1];return e&&Array.isArray(c)?0===c.length||c.includes(t[r]):c===t[r]}),!0);var t,a}));if("group-pod"===s){var I=Ut(L).map((function(e){return e.toLowerCase().split("-")[0]}));F={},I.forEach((function(e){var t={};t.data=(T||[]).filter((function(t){return t.name&&t.name.toLowerCase().startsWith(e)})),t.data.length&&(t.levels=bt.a.countBy(t.data,"level"),F[e]=t)}))}else"group-level"===s&&(F={},Ze.forEach((function(e){var t={};t.data=(T||[]).filter((function(t){return t.level===e})),t.data.length&&(F[e]=t)})));return r.a.createElement(Ye.a,{className:"mb-4"},r.a.createElement(Ye.a.Header,{className:"p-0"},r.a.createElement(k.a,{className:"p-3"},r.a.createElement(N.a,{md:"8"},r.a.createElement(ot,{clearAfter:!0,options:Object.values(Pt),onFilterChange:function(e){return _(e[0].value)},className:"logstream-select mb-2 mr-0 mb-md-0 mr-md-2",placeholder:"table"===s?r.a.createElement("span",null,r.a.createElement("i",{className:"material-icons mr-2"},"table_rows"),"Table View"):r.a.createElement("span",null,r.a.createElement("i",{className:"material-icons mr-2"},"view_list"),Pt[s].label),isSearchable:!1}),"table"===s&&r.a.createElement(ot,{isMulti:!0,options:zt(L),onFilterChange:p,className:"logstream-select mb-2 mr-0 mb-md-0 mr-md-2",placeholder:r.a.createElement("span",null,r.a.createElement("i",{className:"material-icons mr-2"},"mediation"),"All Sources")}),r.a.createElement(ot,{isMulti:!0,options:zt(Ze),onFilterChange:h,className:"logstream-select mb-2 mr-0 mb-md-0 mr-md-2",placeholder:r.a.createElement("span",null,r.a.createElement("i",{className:"material-icons mr-2"},"bar_chart"),"All Levels")}),r.a.createElement(ot,{clearAfter:!0,options:Rt,onFilterChange:function(e){Wt(t,e[0].value)},className:"logstream-select mb-2 mr-0 mb-md-0 mr-md-2",placeholder:r.a.createElement("span",null,r.a.createElement("i",{className:"material-icons mr-2"},"download"),"Download Logs"),isSearchable:!1})),r.a.createElement(N.a,{md:"4"},r.a.createElement(Ct,{placeholder:"search logs...",value:j,onChange:C})))),"table"===s?r.a.createElement(Jt,{firstCol:300,secondCol:300,data:T,showLogDetails:a,small:!1}):r.a.createElement(qt,{firstCol:300,secondCol:300,grouping:s,groupedData:F,showLogDetails:a}))}var Yt=a(107),Kt=function(e){return e.logStreamState.logs},$t=function(e){return e.logStreamState.logLevels},Qt=function(e){return e.logStreamState.logLevelOccurrences},Xt=a(63),Zt="logs-time-preference",ea={"60second":{value:"60second",label:"60 Seconds",chartLabels:["60s ago","30s ago",""]},"15minute":{value:"15minute",label:"15 Minutes",chartLabels:["15m ago","7m 30s ago",""]},"1hour":{value:"1hour",label:"1 Hour",chartLabels:["1h ago","30m ago",""]}},ta={"60second":60,"15minute":900,"1hour":3600};function aa(){return function(){var e=localStorage.getItem(Zt);return!(!e||!ea[e])&&e}()||"60second"}function na(e){var t=e.elapsed;return r.a.createElement(s.d,{className:"p-3 h-100"},r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center mb-0"},r.a.createElement("b",null,t.task_name)),r.a.createElement("h2",{className:"my-3 mx-auto"},t.seconds),r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center"},"Elapsed Time"))}var ra=function(e){var t=e.progress,a=Object(n.useRef)(null),c=Object(n.useState)(null),o=Object(l.a)(c,2),i=o[0],u=o[1];return Object(n.useEffect)((function(){if(a.current){var e=new $e.a(a.current,{type:"doughnut",data:{datasets:[{hoverBorderColor:"#fff",data:[0,100],backgroundColor:["#32c8cd","#E9ECEF"]}],labels:["Label 1","Label 2"]},options:{legend:{display:!1},responsive:!1,cutoutPercentage:70,animation:{duration:0},tooltips:{enabled:!1}}});u(e)}}),[]),Object(n.useEffect)((function(){if(i){var e=100*(t.num_bars/t.bar_len||1),a={datasets:[{hoverBorderColor:"#fff",data:[e,100-e],backgroundColor:["#32c8cd","#E9ECEF"]}],labels:["Label 1","Label 2"]};i.data=a,i.update()}}),[JSON.stringify(t),i]),r.a.createElement(s.d,{className:"p-3 h-100"},r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center"},r.a.createElement("b",null,"Progress")),r.a.createElement("div",{className:"go-stats__chart mx-auto d-flex flex-row"},r.a.createElement("div",{className:"mr-4 mt-3"},r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center"},"Request"),r.a.createElement("h4",{className:"mb-0"},t.currentRequest)),r.a.createElement("canvas",{ref:a,style:{width:"100px",height:"100px"},className:"my-auto"})))},ca=a(37);var oa=function(e){var t=e.speed,a=Object(n.useRef)(null),c=Object(n.useState)(null),o=Object(l.a)(c,2),i=o[0],u=o[1],m=t.history,d=Object(Xe.f)().palette,p=Math.max.apply(Math,Object(ca.a)(m)),f=Math.min.apply(Math,Object(ca.a)(m)),b=Object(n.useCallback)((function(){var e=p-f;return{maintainAspectRatio:!0,responsive:!0,animation:{duration:0},legend:{display:!1},tooltips:{enabled:!1},layout:{padding:{bottom:-10,left:-10}},elements:{point:{radius:0},line:{tension:.33}},scales:{xAxes:[{gridLines:{display:!1},ticks:{display:!1}}],yAxes:[{gridLines:{display:!1},scaleLabel:{padding:0,display:!1},ticks:{display:!1,suggestedMax:p+.1*e,suggestedMin:f-.1*e}}]}}}),[p,f]),g=Object(n.useCallback)((function(e){return{type:"line",data:{labels:new Array(m.length).fill(null),datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(0, 153, 153, 0.25)",borderColor:d.primary,data:m}]},options:e}}),[m,d.primary]);return Object(n.useEffect)((function(){if(a.current){var e=b(),t=g(e),n=new $e.a(a.current,t);u(n)}}),[]),Object(n.useEffect)((function(){if(i){var e=Object(Ae.a)(Object(Ae.a)({},i.data),{datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(0, 153, 153, 0.25)",borderColor:d.primary,data:m}]});i.options=b(),i.data=e,i.update()}}),[m,i,b,g,d.primary]),r.a.createElement(s.d,{className:"pt-0 h-100 stats-small"},r.a.createElement("div",{className:"stats-small__data mx-auto"},r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center mb-0 pt-0 mt-0"},r.a.createElement("b",null,"Speed")),r.a.createElement("h2",{className:"my-3 mx-auto"},t.current),r.a.createElement("h6",{className:"stats-small__label under text-uppercase text-center"},t.unit,"/Second")),r.a.createElement("canvas",{height:"100",ref:a,className:"stats-small-1"}))};var la=function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(null),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)("messages"),m=Object(l.a)(u,2),d=m[0],p=m[1],f=Object(Xe.f)().palette,b=e[d],g=Object(n.useCallback)((function(){return{animation:{duration:0},tooltips:{callbacks:{title:function(e){return"Pod: ".concat(e[0].xLabel)},label:function(e,t){var a="".concat(t.datasets[e.datasetIndex].label,": ").concat("bytes"===d?Object(It.c)(e.value):e.value);return a},afterLabel:function(e){return"\nProcess ID: "+b[e.index].process}}},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{callback:function(e){return"bytes"===d?Object(It.c)(e):e>999?"".concat((e/1e3).toFixed(0),"k"):e}}}]},maintainAspectRatio:!1}}),[b,d]),h=Object(n.useCallback)((function(e){return{type:"bar",options:e,data:{labels:b.map((function(e){return e.node})),datasets:[{label:"msg sent",fill:"start",data:b.map((function(e){return e.sent})),backgroundColor:f.primary,borderColor:f.primary,pointBackgroundColor:f.background,pointHoverBackgroundColor:f.primary,borderWidth:1.5},{label:"msg received",fill:"start",data:b.map((function(e){return e.received})),backgroundColor:f.success,borderColor:f.success,pointBackgroundColor:f.background,pointHoverBackgroundColor:f.success,borderWidth:1.5}]}}}),[b,f.success,f.primary,f.background]),v=Object(n.useCallback)((function(){return{labels:b.map((function(e){return e.node})),datasets:[{label:"".concat(d," sent"),fill:"start",data:b.map((function(e){return e.sent})),backgroundColor:f.primary,borderColor:f.primary,pointBackgroundColor:f.background,pointHoverBackgroundColor:f.primary,borderWidth:1.5},{label:"".concat(d," received"),fill:"start",data:b.map((function(e){return e.received})),backgroundColor:f.success,borderColor:f.success,pointBackgroundColor:f.background,pointHoverBackgroundColor:f.success,borderWidth:1.5}]}}),[b,d,f.success,f.primary,f.background]);return Object(n.useEffect)((function(){if(t.current){var e=g(),a=h(e),n=new $e.a(t.current,a);i(n)}}),[]),Object(n.useEffect)((function(){if(o){var e=v(),t=g();o.options=t,o.data=e,o.update()}}),[b,o,d,v,g]),r.a.createElement(s.d,{small:!0,className:"h-100 mb-4"},r.a.createElement(s.f,{className:"border-bottom"},r.a.createElement("h6",{className:"m-0"},"Network Load")),r.a.createElement(s.e,{className:"pt-0"},r.a.createElement(s.p,{className:"border-bottom py-2 bg-light"},r.a.createElement(s.g,{sm:"6",className:"col d-flex mb-2 mb-sm-0"},r.a.createElement(s.c,null,r.a.createElement(s.b,{theme:"white",active:"messages"===d,onClick:function(){return p("messages")}},"Messages"),r.a.createElement(s.b,{theme:"white",active:"bytes"===d,onClick:function(){return p("bytes")}},"Bytes")))),r.a.createElement("div",{style:{position:"relative",height:300}},r.a.createElement("canvas",{ref:t}))))};var sa=function(e){var t=e.qps,a=Object(n.useRef)(null),c=Object(n.useState)(null),o=Object(l.a)(c,2),i=o[0],u=o[1],m=t.history,d=Math.max.apply(Math,Object(ca.a)(m)),p=Math.min.apply(Math,Object(ca.a)(m)),f=Object(n.useCallback)((function(){var e=d-p;return{maintainAspectRatio:!0,responsive:!0,animation:{duration:0},legend:{display:!1},tooltips:{enabled:!1},elements:{point:{radius:0},line:{tension:.33}},layout:{padding:{bottom:-10,left:-10}},scales:{xAxes:[{gridLines:{display:!1},ticks:{display:!1}}],yAxes:[{gridLines:{display:!1},scaleLabel:{display:!1},ticks:{display:!1,suggestedMax:d+.1*e,suggestedMin:p-.1*e}}]}}}),[d,p]),b=Object(n.useCallback)((function(e){return{type:"line",data:{labels:new Array(m.length).fill(null),datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(50, 200, 205, 0.25)",borderColor:"#32c8cd",data:m}]},options:e}}),[m]);return Object(n.useEffect)((function(){if(a.current){var e=f(),t=b(e),n=new $e.a(a.current,t);u(n)}}),[]),Object(n.useEffect)((function(){if(i){var e=Object(Ae.a)(Object(Ae.a)({},i.data),{datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(50, 200, 205, 0.25)",borderColor:"#32c8cd",data:m}]});i.options=f(),i.data=e,i.update()}}),[m,i,f,b]),r.a.createElement(s.d,{className:"pt-0 h-100 stats-small"},r.a.createElement("div",{className:"stats-small__data mx-auto"},r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center mb-0 pt-0 mt-0"},r.a.createElement("b",null,"QPS")),r.a.createElement("h2",{className:"my-3 mx-auto"},t.current),r.a.createElement("h6",{className:"stats-small__label under text-uppercase text-center"},"Queries/Second")),r.a.createElement("canvas",{height:"100",ref:a,className:"stats-small-1"}))},ia=function(e){return e.taskState.taskData};var ua=function(){var e=Object(B.c)(ia);return r.a.createElement(Ve.a,{fluid:!0,className:"main-content-container px-0"},r.a.createElement("div",{className:"px-4"},r.a.createElement(k.a,{noGutters:!0,className:"page-header mb-4"},r.a.createElement(ut,{title:"Task",className:"text-sm-left mb-3"})),r.a.createElement(k.a,null,r.a.createElement(N.a,{md:"6",lg:"6",xl:"3",className:"mb-4"},r.a.createElement(na,{elapsed:e.elapsed})),r.a.createElement(N.a,{md:"6",lg:"6",xl:"3",className:"mb-4"},r.a.createElement(ra,{progress:e.progress})),r.a.createElement(N.a,{md:"6",lg:"6",xl:"3",className:"mb-4"},r.a.createElement(sa,{qps:e.qps})),r.a.createElement(N.a,{md:"6",lg:"6",xl:"3",className:"mb-4"},r.a.createElement(oa,{speed:e.speed}))),r.a.createElement(la,{messages:e.messages,bytes:e.bytes,lastUpdate:e.lastUpdateChart})))},ma=a(90),da=a(92),pa=a(91),fa=[{label:"Host",placeholder:"0.0.0.0",value:"host"},{label:"Port",placeholder:"5000",value:"port"}],ba=[{label:"Log",placeholder:"/stream/log",value:"log"},{label:"Profile",placeholder:"/stream/profile",value:"profile"},{label:"YAML",placeholder:"/data/yaml",value:"yaml"},{label:"Shutdown",placeholder:"/action/shutdown",value:"shutdown"},{label:"Ready",placeholder:"/status/isready",value:"ready"}];function ga(e){var t=e.colSpan,a=void 0===t?6:t,n=e.label,c=e.value,o=e.placeholder,l=e.onChange;return r.a.createElement(s.g,{md:a,className:"form-group"},r.a.createElement("label",null,n),r.a.createElement(s.j,{placeholder:o,value:c,onChange:l}))}var ha=a(101);var va=function(e){return e.settingsState.settings};var Ea=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],m=i[1],d=Object(B.c)(va),p=Object(B.b)();function f(e,t){var n=Object(Ae.a)({},a);n[e]=t,c(n)}return r.a.createElement(s.d,{small:!0,className:"mb-4"},r.a.createElement(s.f,{className:"border-bottom"},r.a.createElement("h6",{className:"m-0"},"Connection Preferences")),r.a.createElement(s.e,null,r.a.createElement(s.i,null,r.a.createElement(s.p,{form:!0},fa.map((function(e){var t=e.label,n=e.placeholder,c=e.value;return r.a.createElement(ga,{key:c,label:t,placeholder:n,value:c in a?a[c]:d[c],onChange:function(e){return f(c,e.target.value)}})}))),r.a.createElement(s.p,null,r.a.createElement(s.g,{xs:"6"},r.a.createElement("strong",{"aria-controls":"collapsed-form","aria-expanded":u,onClick:function(){m(!u)},className:"text-primary d-inline-block mb-3 cursor-pointer"},"Advanced"," ",r.a.createElement("i",{className:"material-icons"},u?"arrow_drop_up":"arrow_drop_down"))),r.a.createElement(s.g,{xs:"6",className:"text-right"},r.a.createElement(s.b,{onClick:function(){p(function(e){return{type:ha.a,payload:e}}(a))}},"Save Changes"))),r.a.createElement(St.a,{in:u},r.a.createElement("div",{id:"collapsed-form"},r.a.createElement("strong",{className:"text-muted d-block mb-3"},"Endpoints"),r.a.createElement(s.p,{form:!0},ba.map((function(e){var t=e.label,n=e.placeholder,c=e.value;return r.a.createElement(ga,{key:c,label:t,placeholder:n,value:c in a?a[c]:d[c],onChange:function(e){return f(c,e.target.value)}})}))))))))},ya=function(e){Object(da.a)(a,e);var t=Object(pa.a)(a);function a(){var e;Object(ma.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).render=function(){return r.a.createElement(Ve.a,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(k.a,{noGutters:!0,className:"page-header mb-4"},r.a.createElement(ut,{title:"Settings",className:"text-sm-left mb-3"})),r.a.createElement(Ea,null))},e}return a}(r.a.Component),wa=a(69),xa=a(68),Oa=a.n(xa),ja=a(198),ka=function(){var e=Object(pt.a)(dt.a.mark((function e(t){var a;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa.a.get("https://hubapi.jina.ai/images",{params:t,paramsSerializer:function(e){return Ca(e)}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Na=function(){var e=Object(pt.a)(dt.a.mark((function e(t){var a,n,r;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Sa(t),e.next=3,Oa.a.get(a);case 3:return n=e.sent,e.next=6,Oa.a.post("https://api.github.com/markdown",{text:n.data});case 6:return r=e.sent,e.abrupt("return",r.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ca=function(e){return ja.stringify(e,{arrayFormat:"comma",skipNull:!0})},Sa=function(e){return e.includes("/blob/master/")?e.replace("github","raw.githubusercontent").replace("/blob",""):"https://raw.githubusercontent.com/jina-ai/jina-hub/master/README.md"},_a={kind:[],keywords:[]},Aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_a;return function(){var t=Object(pt.a)(dt.a.mark((function t(a){var n;return dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:wa.a}),t.next=4,ka(e);case 4:n=t.sent,a(La(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(Fa(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},La=function(e){return{type:wa.c,payload:{images:e}}},Fa=function(e){return{type:wa.b,payload:{error:e}}};function Ta(){var e=Object(K.a)(["\n  background: ",";\n  border-radius: 10px;\n  border: none;\n  padding: 1rem 1.5rem;\n  font-size: 1rem;\n  font-weight: 600;\n  color: ",";\n"]);return Ta=function(){return e},e}function Ia(){var e=Object(K.a)(["\n  font-weight: 600;\n  font-size: 1.5rem;\n"]);return Ia=function(){return e},e}function Da(){var e=Object(K.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: space-between;\n  border-radius: 0.75rem;\n  padding: 1.5rem;\n  width: 35%;\n"]);return Da=function(){return e},e}var Ra=$.a.div(Da()),Pa=$.a.span(Ia()),Ma=$.a.button(Ta(),(function(e){return e.theme.palette.primary}),(function(e){return e.theme.palette.background})),Ba=function(e){var t=e.overviewAction,a=t.title,n=t.description,c=t.buttonLabel,o=t.buttonAction;return r.a.createElement(Ra,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Pa,{"data-name":"hubOverviewActionTitle"},a),r.a.createElement("p",null,n)),r.a.createElement(Ma,{"data-name":"hubOverviewActionButtonLabel",onClick:o},c))},Ha=function(){var e=Object(o.g)(),t=[{title:"Explore",description:"Find out what you can do in Jina hub and how you platform works.",buttonLabel:"Read more",buttonAction:function(){return e.push("/hub/explore")}},{title:"Create",description:"Create flow",buttonLabel:"Let's Go",buttonAction:function(){return e.push("/flow")}}];return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(Ba,{overviewAction:e,key:e.title})})))};function Wa(){var e=Object(K.a)(["\n  color: unset;\n  &:hover {\n    text-decoration: none;\n  }\n"]);return Wa=function(){return e},e}function Ga(){var e=Object(K.a)(["\n  font-weight: 600;\n  opacity: 0.5;\n"]);return Ga=function(){return e},e}function Ua(){var e=Object(K.a)(["\n  font-size: 1.25em;\n  font-weight: 700;\n  line-height: normal;\n"]);return Ua=function(){return e},e}function za(){var e=Object(K.a)(["\n  background: ",";\n  border-radius: 6px;\n  display: inline-block;\n  padding: 0.25rem;\n  margin-right: 1rem;\n  margin-bottom: 1rem;\n  white-space: nowrap;\n"]);return za=function(){return e},e}var Ja=$.a.div(za(),(function(e){return e.theme.palette.tagBackground})),qa=$.a.div(Ua()),Va=$.a.div(Ga()),Ya=Object($.a)(c.b)(Wa());function Ka(e){var t=e.image,a=e.index,n=t.name,c=t.author,o=t.keywords,l=t.description;return r.a.createElement(Ya,{to:"/package/".concat(a)},r.a.createElement(Ye.a,{className:"clickable mb-4 h-100 image-card","data-name":"hubImage"},r.a.createElement(Ye.a.Body,{className:"pb-0 mb-0 pt-3"},r.a.createElement(k.a,null,r.a.createElement(N.a,{xs:"12",className:"px-0"},r.a.createElement(qa,{className:"mb-2"},n),o.map((function(e,t){return r.a.createElement(Ja,{"data-name":"hubImageTags",key:t},e)})),r.a.createElement(Va,{className:"mb-2"},c)),r.a.createElement(N.a,{sm:"12",className:"px-0 pb-0"},r.a.createElement("div",{className:"description-container"},r.a.createElement("div",{className:"description-overlay"}),r.a.createElement("div",{className:"app-description"},l)))))))}var $a=["Some keywords to describe the executor","separated by commas"],Qa=function(e){return e.hubState.images.map((function(e){var t=e.keywords;return Object(Ae.a)(Object(Ae.a)({},e),{},{keywords:t.filter((function(e){return!$a.includes(e)}))})}))},Xa=function(e){return e.hubState.loading};function Za(){var e=Object(K.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Za=function(){return e},e}function en(){var e=Object(K.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 48px;\n  width: 48px;\n  background: transparent;\n  border-radius: 50%;\n  animation: "," 1s infinite ease-in-out;\n"]);return en=function(){return e},e}function tn(){var e=Object(K.a)(["\n  50%{\n    border-color: transparent;\n  }\n  100%{\n    transform:rotatez(360deg);\n  }\n"]);return tn=function(){return e},e}function an(){var e=Object(K.a)(["\n  position: absolute;\n  height: 32px;\n  width: 32px;\n  animation: "," 1s infinite ease-in;\n"]);return an=function(){return e},e}function nn(){var e=Object(K.a)(["\n  border-radius: 50%;\n  border: 8px solid white;\n  border-color: ",";\n"]);return nn=function(){return e},e}function rn(){var e=Object(K.a)(["\n  100%{\n    transform:rotatez(-720deg);\n  }\n"]);return rn=function(){return e},e}var cn=Object(wt.b)(rn()),on=$.a.div(nn(),(function(e){var t=e.theme.palette,a=t.primary,n=t.background;return"".concat(a," ").concat(n," ").concat(a," ").concat(n)})),ln=Object($.a)(on)(an(),cn),sn=Object(wt.b)(tn()),un=Object($.a)(on)(en(),sn),mn=$.a.div(Za()),dn=function(){return Object(wt.a)(mn,null,Object(wt.a)(un,null,Object(wt.a)(ln,null)))};function pn(){var e=Object(K.a)(["\n  font-weight: 500;\n  font-size: 1.5rem;\n"]);return pn=function(){return e},e}var fn=$.a.span(pn()),bn=function(){var e=Object(B.c)(Qa).slice(0,6),t=Object(B.c)(Xa);return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(dn,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(fn,{"data-name":"hubImagesPreviewSubtitle"},"Latest"),r.a.createElement(k.a,null,e.map((function(e,t){return r.a.createElement(N.a,{key:"".concat(e.name,".").concat(e.version,".").concat(e["jina-version"]),md:"4",className:"mb-4"},r.a.createElement(Ka,{image:e,index:t}))})))))};function gn(){var e=Object(K.a)(["\n  border: ",";\n  border-radius: 0.25rem;\n  padding: 0.25rem 0.5rem;\n"]);return gn=function(){return e},e}function hn(){var e=Object(K.a)(["\n  margin-right: -1rem;\n  opacity: 0;\n"]);return hn=function(){return e},e}function vn(){var e=Object(K.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return vn=function(){return e},e}function En(){var e=Object(K.a)(["\n  font-weight: 500;\n  font-size: 1.25rem;\n"]);return En=function(){return e},e}var yn=function(e){return{kind:wn(e[0]),keywords:wn(e[1])}},wn=function(e){return Object.keys(e.values).reduce((function(t,a){return e.values[a]?[].concat(Object(ca.a)(t),[a]):t}),[])},xn=$.a.div(En()),On=$.a.div(vn()),jn=$.a.input(hn()),kn=$.a.label(gn(),(function(e){return e.checked?"1px solid ".concat(e.highlightColor):"none"})),Nn=function(e){e.filter;var t=e.value,a=e.label,c=e.filterCategoryIndex,o=e.handleFilterChange,s=Object(n.useState)(t),i=Object(l.a)(s,2),u=i[0],m=i[1],d=Object(Xe.f)().palette.highlight;return r.a.createElement(kn,{checked:u,highlightColor:d||"cyan"},r.a.createElement(jn,{type:"checkbox",checked:u,onChange:function(){return m(!u),void o(c,a,!u)}}),a)},Cn=function(e){var t=e.filters,a=e.setFilters,n=e.getHubImages,c=function(e,r,c){t[e].values[r]=c,a(t),n(yn(t))};return r.a.createElement("div",{"data-name":"hubImagesFilter"},t&&t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(xn,null,e.filterLabel),r.a.createElement(On,null,Object.keys(e.values).map((function(a){return r.a.createElement(Nn,{filter:e,value:e.values[a],key:a,label:a,filterCategoryIndex:t,handleFilterChange:c})}))))})))};function Sn(){var e=Object(K.a)(["\n  flex-direction: row-reverse;\n  padding: 1rem;\n"]);return Sn=function(){return e},e}var _n=function(e){return e.filter((function(t,a){return e.indexOf(t)===a}))},An=function(e,t){return e.reduce((function(e,a){return Object(Ae.a)(Object(Ae.a)({},e),{},Object(be.a)({},a,(null===t||void 0===t?void 0:t.values)&&t.values[a]||!1))}),{})},Ln=Object($.a)(k.a)(Sn()),Fn=function(){var e=Object(B.b)(),t=Object(B.c)(Qa),a=Object(B.c)(Xa),c=Object(n.useState)([]),o=Object(l.a)(c,2),s=o[0],i=o[1],u=Object(n.useState)(""),m=Object(l.a)(u,2),d=m[0],p=m[1];0!==t.length||a||e(Aa()),Object(n.useEffect)((function(){t&&i(function(e,t){return[{filterLabel:"Type of image",values:An(_n(e.reduce((function(e,t){return[].concat(Object(ca.a)(e),[t.kind])}),[])),t[0])},{filterLabel:"Key domain of the image",values:An(_n(e.reduce((function(e,t){return[].concat(Object(ca.a)(e),Object(ca.a)(t.keywords))}),[])),t[1])}]}(t,s))}),[t]);var f=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;e(Aa(Object(Ae.a)(Object(Ae.a)({},t),{},{name:a})))}),[e,d]);return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(dn,null):r.a.createElement(k.a,null,r.a.createElement(N.a,{md:"2"},r.a.createElement(Cn,{filters:s,setFilters:i,getHubImages:f})),r.a.createElement(N.a,{md:"10"},r.a.createElement(Ln,null,r.a.createElement(Ct,{placeholder:"search hub images...",value:d,onChange:p,onSearch:function(e){f(yn(s),e)}})),r.a.createElement(k.a,{"data-name":"hubImagesList"},t.map((function(e,t){return r.a.createElement(N.a,{key:"".concat(e.name,".").concat(e.version,".").concat(e["jina-version"]),md:"4",className:"mb-4"},r.a.createElement(Ka,{image:e,index:t}))}))))))},Tn=function(){var e=Object(o.j)().path,t=Object(B.b)();return Object(n.useEffect)((function(){t(Aa())}),[t]),r.a.createElement(Ve.a,{fluid:!0,className:"main-content-container px-0"},r.a.createElement("div",{className:"px-4"},r.a.createElement(k.a,{className:"page-header"},r.a.createElement(ut,{title:"Jina Hub",className:"text-sm-left mb-3"})),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:e},r.a.createElement(k.a,null,r.a.createElement(Ha,null)),r.a.createElement(bn,null)),r.a.createElement(o.b,{path:"".concat(e,"/explore")},r.a.createElement(Fn,null)))))};function In(){var e=Object(K.a)(["\n  background-color: ",";\n"]);return In=function(){return e},e}function Dn(){var e=Object(K.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Dn=function(){return e},e}function Rn(){var e=Object(K.a)(["\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: ",";\n"]);return Rn=function(){return e},e}var Pn=$.a.div(Rn(),(function(e){return e.theme.palette.headerTextColor})),Mn=$.a.div(Dn()),Bn=Object($.a)(Ja)(In(),(function(e){return e.theme.palette.tagPlatformBackground}));function Hn(e){var t=e.image,a=t.keywords,n=t.platform,c=t.author,o=t["docker-command"];return r.a.createElement(s.d,{className:"readme-container mb-4"},r.a.createElement(s.e,{className:"pt-0 pb-2"},r.a.createElement(Mn,null,r.a.createElement(Pn,null,"Tags"),r.a.createElement("div",null,a.map((function(e){return r.a.createElement(Ja,{"data-name":"hubImageTags",key:e},e)})))),r.a.createElement(Mn,null,r.a.createElement(Pn,null,"Platform"),r.a.createElement("div",null,n.map((function(e){return r.a.createElement(Bn,{"data-name":"hubImageTags",key:e},e)})))),r.a.createElement(Mn,null,r.a.createElement(Pn,null,"Docker Pull Command"),r.a.createElement("div",null,o)),r.a.createElement(Mn,null,r.a.createElement(Pn,null,"Owner"),r.a.createElement("div",null,c))))}function Wn(e){var t=e.documentation,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){Object(pt.a)(dt.a.mark((function e(){var a;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na(t);case 2:a=e.sent,i(a);case 4:case"end":return e.stop()}}),e)})))()}),[t]),r.a.createElement(s.d,{className:"readme-container mb-4"},r.a.createElement(s.f,{className:"border-bottom d-flex flex-row"},r.a.createElement("h6",{className:"m-0 d-inline-block"},"README.md"),r.a.createElement("div",{className:"flex-fill d-inline-block"}),r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"cursor-pointer text-primary"},r.a.createElement("i",{className:"fab fa-github"})," View on GitHub")),r.a.createElement(s.e,null,o?r.a.createElement("div",{className:"markup",dangerouslySetInnerHTML:{__html:o}}):r.a.createElement(dn,null)))}function Gn(){var e=Object(K.a)(["\n  color: ",";\n  padding: 1rem;\n"]);return Gn=function(){return e},e}function Un(){var e=Object(K.a)(["\n  color: ",";\n  padding: 1rem;\n"]);return Un=function(){return e},e}var zn=$.a.h2(Un(),(function(e){return e.theme.palette.headerTextColor})),Jn=$.a.p(Gn(),(function(e){return e.theme.palette.headerTextColor}));function qn(){var e=Object(K.a)(["\n  padding: 0 1.75rem;\n"]);return qn=function(){return e},e}var Vn=$.a.div(qn()),Yn=function(){var e=Object(B.b)(),t=Object(o.i)().packageId,a=Object(B.c)(Qa),n=Object(B.c)(Xa),c=a[parseInt(t,10)];return 0!==a.length||n||e(Aa()),r.a.createElement(r.a.Fragment,null," ",0===a.length?r.a.createElement(dn,null):r.a.createElement(Vn,null,r.a.createElement(k.a,null,r.a.createElement(N.a,{md:"8"},r.a.createElement(s.d,null,r.a.createElement(zn,{"data-name":"imageOverviewTitle"},c.name),r.a.createElement(Jn,{"data-name":"imageOverviewDescription"},c.description)),r.a.createElement(Wn,{documentation:c.documentation})),r.a.createElement(N.a,{md:"4"},r.a.createElement(Hn,{image:c})))))},Kn=function(e){Object(da.a)(a,e);var t=Object(pa.a)(a);function a(){var e;Object(ma.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).componentDidMount=function(){window.location.href.indexOf("code")},e.render=function(){return r.a.createElement(s.h,{fluid:!0,className:"main-content-container px-0"},r.a.createElement(s.p,{noGutters:!0,className:"h-100"},r.a.createElement(s.g,{lg:"3",md:"5",className:"auth-form mx-auto"},r.a.createElement(s.d,null,r.a.createElement(s.e,null,r.a.createElement("img",{className:"auth-form__logo d-table mx-auto mb-3",src:"/jina-light.svg",style:{maxWidth:"100px"},alt:"Jina"}),r.a.createElement("h5",{className:"auth-form__title text-center mb-4"},"Log in"),r.a.createElement("a",{id:"github-button",className:"btn btn-block btn-social btn-github"},r.a.createElement("i",{className:"fab fa-github"})," Sign in with GitHub"))))))},e}return a}(r.a.Component);function $n(e){var t=e.title,a=e.content,n=e.icon,c=e.theme,o=e.link,l=e.dataName;return r.a.createElement("a",{className:"unstyled-link",href:o,target:"_blank",rel:"noopener noreferrer","data-name":l},r.a.createElement(Ye.a,{className:"h-100"},r.a.createElement(Ye.a.Body,{className:"pt-3"},r.a.createElement(k.a,{className:"align-items-center"},r.a.createElement(N.a,{xs:"8"},r.a.createElement("h4",null,t)),r.a.createElement(N.a,{xs:"4"},r.a.createElement("h1",{className:"float-right"},r.a.createElement("span",{className:"".concat(n," log-").concat(c)})))),r.a.createElement(k.a,null,r.a.createElement(N.a,null,a)))))}var Qn=function(){return r.a.createElement(s.h,{fluid:!0,className:"main-content-container px-4","data-name":"helpPage"},r.a.createElement(s.p,{noGutters:!0,className:"page-header mb-4"},r.a.createElement(ut,{title:"Resources",className:"text-sm-left mb-3"})),r.a.createElement(s.p,null,r.a.createElement(s.g,{md:"4",lg:"3",className:"mb-4"},r.a.createElement($n,{title:"Jina 101",content:"Understanding all key concepts of Jina in 3 minutes!",link:"https://101.jina.ai",icon:"fas fa-egg",theme:"warning",dataName:"jina-101-card"})),r.a.createElement(s.g,{md:"4",lg:"3",className:"mb-4"},r.a.createElement($n,{title:"Jina Docs",content:"The best way to learn Jina in depth.",link:"https://docs.jina.ai",icon:"fas fa-book",theme:"primary",dataName:"jina-docs-card"})),r.a.createElement(s.g,{md:"4",lg:"3",className:"mb-4"},r.a.createElement($n,{title:'Jina "Hello World"',content:"A simple demo of image neural search for Fashion-MNIST.",link:"https://github.com/jina-ai/jina#jina-hello-world-",icon:"fas fa-globe-europe",theme:"error",dataName:"jina-hello-world-card"})),r.a.createElement(s.g,{md:"4",lg:"3",className:"mb-4"},r.a.createElement($n,{title:r.a.createElement("span",null,"Visit us on ",r.a.createElement("span",{className:"text-nowrap"},"Github!")),content:"Explore more exciting open-source projects from us.",link:"https://opensource.jina.ai",icon:"fab fa-github",theme:"info",dataName:"jina-github-card"})),r.a.createElement(s.g,{md:"4",lg:"3",className:"mb-4"},r.a.createElement($n,{title:"We are hiring!",content:"Join us and build the next neural search eco system!",link:"https://www.linkedin.com/company/jinaai/jobs/",icon:"fab fa-linkedin",theme:"linkedin",dataName:"jina-linkedin-card"}))))};function Xn(){var e=Object(K.a)(["\n  color: ",";\n  font-size: 1.25rem;\n  width: 20%;\n  padding: 1rem;\n  &:hover {\n    text-decoration: none;\n  }\n"]);return Xn=function(){return e},e}var Zn=Object($.a)(c.b)(Xn(),(function(e){return e.theme.palette.mutedText})),er=function(e){var t=e.label,a=e.path;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Zn,{to:a}," ",t," "))};function tr(){var e=Object(K.a)(["\n      cursor: pointer;\n      position: absolute;\n      top: 0;\n      right: 0;\n      background: linear-gradient(\n        to right,\n        transparent 0%,\n        "," 40%\n      );\n      padding-left: 1rem;\n      color: ",";\n    "]);return tr=function(){return e},e}function ar(){var e=Object(K.a)(["\n    cursor: pointer;\n    font-weight: 600;\n    font-size: 14px;\n    margin-bottom: 1rem;\n    color: ",";\n  "]);return ar=function(){return e},e}function nr(){var e=Object(K.a)(["\n    position: absolute;\n    height: 1.75rem;\n    width: 2rem;\n    top: 0;\n    right: 0;\n    background: linear-gradient(\n      to right,\n      transparent 0%,\n      "," 40%\n    );\n  "]);return nr=function(){return e},e}function rr(){var e=Object(K.a)(["\n    cursor: pointer;\n    font-weight: ",";\n    font-size: 14px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-left: 1rem;\n    margin-bottom: 1rem;\n    white-space: nowrap;\n    overflow: hidden;\n    position: relative;\n    padding-top: 0.15rem;\n    padding-bottom: 0.15rem;\n  "]);return rr=function(){return e},e}function cr(){var e=Object(K.a)(["\n    position: relative;\n    font-weight: 600;\n    font-size: 20px;\n    color: ",";\n    margin-bottom: 1rem;\n    white-space: nowrap;\n    overflow: hidden;\n  "]);return cr=function(){return e},e}function or(){var e=Object(K.a)(['\n    font-family: "Montserrat", serif;\n    min-width: 12rem;\n    margin-right: 3rem;\n  ']);return or=function(){return e},e}function lr(){var e=Object(K.a)(["\n    font-size: 1.15rem;\n    position: absolute;\n    top: 0;\n    right: 0;\n  "]);return lr=function(){return e},e}var sr="untitled flow";function ir(e){var t=e.connected;return e.show?t?r.a.createElement("i",{className:"material-icons ml-2 text-success"},"wifi"):r.a.createElement("i",{className:"material-icons ml-2 text-warning"},"wifi_off"):null}function ur(e){var t=e.connected;return e.show?t?r.a.createElement("i",{className:"material-icons text-white ml-1 mr-2"},"wifi"):r.a.createElement("i",{className:"material-icons text-warning ml-1 mr-2"},"wifi_off"):null}function mr(e){var t=e.deleteFlow,a=e.idx,n=$.a.div(lr());return r.a.createElement(n,null,r.a.createElement("i",{"data-name":"deleteFlowButton-".concat(a),onClick:t,className:"material-icons"},"delete"))}function dr(){var e=Object(B.c)(ee),t=Object(B.c)(ne),a=Object(B.c)(q),n=Object(Xe.f)().palette,c=Object(B.b)(),o=$.a.div(or()),s=$.a.div(cr(),n.headerTextColor),i=$.a.div(rr(),(function(e){return e.selected?"bold":500})),u=$.a.div(nr(),n.bodyBackground),m=$.a.div(ar(),n.headerTextColor);function d(){var e=$.a.div(tr(),n.bodyBackground,n.mutedText);return r.a.createElement(e,{"data-name":"settingsButton",onClick:function(){c(Object(Q.e)("flowSettings"))}},r.a.createElement("i",{className:"material-icons",onClick:function(){c(Object(Q.e)("flowSettings"))}},"settings"))}var p=Object.entries(e).filter((function(e){var t=Object(l.a)(e,2);t[0];return"example"!==t[1].type})),f=Object.entries(e).filter((function(e){var t=Object(l.a)(e,2);t[0];return"example"===t[1].type})),b=e[t];return r.a.createElement(o,null,r.a.createElement(s,null,b.name||r.a.createElement("i",null,sr),"example"!==b.type&&r.a.createElement(d,null),r.a.createElement(ur,{show:"remote"===b.type,connected:a})),r.a.createElement(i,{"data-name":"newFlowButton",selected:!1,onClick:function(){return c(Object(Q.e)("newFlow"))}},"New Flow ",r.a.createElement("i",{className:"material-icons plus-icon"},"add")),r.a.createElement(m,null,"My Flows "),p.map((function(e,n){var o=Object(l.a)(e,2),s=o[0],m=o[1];return r.a.createElement(i,{"data-name":"".concat(m.name.replaceAll(" ","")),selected:t===s,key:n},r.a.createElement("span",{onClick:function(){return c(Object(X.i)(s))}},m.name||sr),r.a.createElement(ir,{show:"remote"===m.type,connected:a}),r.a.createElement(u,null),r.a.createElement(mr,{idx:n,deleteFlow:function(){return c(Object(X.d)(s))}}))})),r.a.createElement(m,null,"Example Flows"),f.map((function(e,a){var n=Object(l.a)(e,2),c=n[0],o=n[1];return r.a.createElement(i,{selected:t===c,onClick:function(){return Object(X.i)(c)},key:a},o.name)})))}var pr=a.p+"static/media/Play.bef61d4b.svg",fr=a.p+"static/media/Save.fb5eb30a.svg",br=a.p+"static/media/Stop.484e40df.svg",gr=a.p+"static/media/Upload.3efa525a.svg",hr=a.p+"static/media/Yaml.010ee2a0.svg";function vr(){var e=Object(K.a)(["\n  margin: 0 2rem;\n"]);return vr=function(){return e},e}function Er(){var e=Object(K.a)(["\n  background: ",";\n  border: 0;\n  margin-right: 1rem;\n  cursor: pointer;\n  :focus {\n    outline: 0px;\n  }\n"]);return Er=function(){return e},e}function yr(){var e=Object(K.a)(["\n  height: 3.125rem;\n  background: ",";\n  border-radius: 8px;\n  display: flex;\n"]);return yr=function(){return e},e}var wr=$.a.div(yr(),(function(e){return e.theme.palette.primary})),xr=$.a.button(Er(),(function(e){return e.theme.palette.primary})),Or=Object($.a)(xr)(vr());function jr(e){var t=e.startFlow,a=e.stopFlow,n=e.importChart,c=e.copyChart,o=e.exportImage;return r.a.createElement("div",{className:"command-bar-container"},r.a.createElement("div",{className:"command-bar"},r.a.createElement(wr,null,r.a.createElement(Or,{"data-name":"playButton",onClick:t},r.a.createElement("img",{alt:"Play",src:pr})),r.a.createElement(xr,{"data-name":"stopButton",onClick:a},r.a.createElement("img",{alt:"Stop",src:br})),r.a.createElement(xr,{onClick:function(){return o("png")}},r.a.createElement("img",{alt:"Save",src:fr})),r.a.createElement(xr,{onClick:n},r.a.createElement("img",{alt:"Upload",src:gr})),r.a.createElement(xr,{onClick:c},r.a.createElement("img",{style:{width:"3rem",height:"auto",marginLeft:"-0.5rem",marginTop:"0.15rem"},alt:"Upload",src:hr})))))}var kr=a(67);function Nr(){var e=Object(K.a)(["\n    min-width: 16rem;\n    cursor: move;\n    text-align: center;\n    font-size: 14px;\n    font-weight: 500;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n    border-radius: 0.25em;\n    transition: 0.2s;\n    border: 1px solid ",";\n  "]);return Nr=function(){return e},e}function Cr(){var e=Object(K.a)(["\n    bottom: -0.45rem;\n  "]);return Cr=function(){return e},e}function Sr(){var e=Object(K.a)(["\n    margin-top: -0.2rem;\n    background-color: white;\n    width: 1rem;\n    height: 1rem;\n    border-radius: 0.5rem;\n    border: 1px solid ",';\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &:after {\n      display: block;\n\n      content: "";\n      background-color: #099;\n      color: white;\n      border-radius: 0.25rem;\n      width: 0.5rem;\n      height: 0.5rem;\n    }\n  ']);return Sr=function(){return e},e}function _r(e){var t=e.type,a=Object(Xe.f)(),n=Object($.a)(kr.a)(Sr(),a.palette.primary),c=Object($.a)(n)(Cr());switch(t){case"source":return r.a.createElement(n,{type:t,position:kr.b.Top});case"target":return r.a.createElement(c,{type:t,position:kr.b.Bottom})}}function Ar(e){var t=Object(B.c)(Z).type,a=Object(B.b)(),n=Object(Xe.f)(),c=$.a.div(Nr(),n.palette.primary);if(void 0!==e.id){var o,l,s=e;return r.a.createElement(c,{onDoubleClick:function(){"user-generated"===t&&a(Object(Q.e)("podEdit",{nodeId:null===s||void 0===s?void 0:s.id}))}},"gateway"!==s.id&&r.a.createElement(_r,{type:"source"}),r.a.createElement("div",{id:"chart-node-".concat(null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.label)},r.a.createElement("div",{className:"node-header"},r.a.createElement("div",{className:"p-1"},r.a.createElement("p",{className:"m-1"},r.a.createElement("span",{className:"text-bold"},(null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.label)||r.a.createElement("span",{className:"text-warning"},"Empty Pod"))))))," ",r.a.createElement(_r,{type:"target"}))}return r.a.createElement(c,{id:"chart-node-".concat(e.label)},r.a.createElement("div",{className:"node-header"},r.a.createElement("div",{className:"p-1"},r.a.createElement("p",{className:"m-1"},r.a.createElement("span",{className:"text-bold"},e.label||r.a.createElement("span",{className:"text-warning"},"Empty Pod"))))))}function Lr(e){var t=e.label,a=e.idx,r=n.createRef();return n.createElement("div",{"data-name":"SideBarItem-".concat(a),ref:r,className:"mb-3 draggable-container",draggable:!0,onDragStart:function(e){var a=JSON.stringify({label:t});e.dataTransfer.setData("application/reactflow",a),e.dataTransfer.effectAllowed="move"}},n.createElement(Ar,{label:t}))}var Fr=[{},{name:"reader",yaml_path:"pods/extract.yml"},{name:"loader",yaml_path:"yaml/craft-load.yml",parallel:3,read_only:"true"},{name:"splittor",yaml_path:"pods/craft-split.yml",parallel:3,read_only:"true"},{name:"encoder",yaml_path:"pods/encode.yml",parallel:3,timeout_ready:12e5,read_only:"true"},{name:"chunk_indexer",yaml_path:"pods/index-chunk.yml",parallel:3,separated_workspace:"true"},{name:"doc_indexer",yaml_path:"pods/index-doc.yml"},{name:"join_all",yaml_path:"_merge",read_only:"true"},{name:"ranker",yaml_path:"MinRanker"},{name:"flipper",yaml_path:"yaml/craft-flip.yml",parallel:3,read_only:"true"},{name:"normalizer",yaml_path:"yaml/craft-normalize.yml",parallel:3,read_only:"true"},{name:"crafter",yaml_path:"pods/craft.yml",read_only:"true"},{name:"chunk_seg",yaml_path:"pods/craft.yml",parallel:3}];function Tr(e){var t=e.duplicateFlow;return r.a.createElement("div",{className:"readonly-overlay py-4 px-4 text-center"},r.a.createElement("h4",{className:"my-4"},r.a.createElement("b",null,"This flow is ",r.a.createElement("span",{className:"text-muted"},"readonly"))),r.a.createElement("p",{className:"my-4"},"To edit this flow, please duplicate it."),r.a.createElement(w.a,{onClick:t},"Duplicate Flow"))}function Ir(){return r.a.createElement("div",{className:"d-flex flex-column h-100"},r.a.createElement("h5",{className:"px-3 py-2 mb-0 border-bottom"},r.a.createElement("b",null,"Add Pods")),r.a.createElement("div",{className:"p-3 scrollable flex-fill"},Fr.map((function(e,t){return r.a.createElement(Lr,{label:e.name||"Empty Pod",idx:t})}))))}var Dr=function(e){var t=e.readonly,a=e.duplicateFlow;return r.a.createElement(Ye.a,{className:"flowchart-sidebar mb-4"},t?r.a.createElement(Tr,{duplicateFlow:a}):r.a.createElement(Ir,null))},Rr=a(199),Pr=a.n(Rr),Mr=a(42),Br={pod:Ar,gateway:Ar};function Hr(e){var t=Object(B.b)(),a=Object(B.c)(Z),c=Object(n.useState)(null),o=Object(l.a)(c,2),s=o[0],i=o[1],u=Object(n.useRef)(null);return r.a.createElement("div",{className:"reactflow-wrapper",ref:u,style:{height:"100%",width:"100%"}},r.a.createElement(kr.c,{elements:e.elements,onConnect:function(e){e.source&&e.target&&t(Object(X.a)(e.source,e.target))},onElementsRemove:function(e){e.forEach((function(e){Object(Mr.d)(e)&&t(Object(X.e)(e.id)),Object(Mr.e)(e)&&t(Object(X.f)(e.id))}))},onLoad:function(e){return i(e)},onDrop:function(e){var a;e.preventDefault();var n=(null===u||void 0===u||null===(a=u.current)||void 0===a?void 0:a.getBoundingClientRect())||new DOMRect,r=JSON.parse(e.dataTransfer.getData("application/reactflow")),c=(null===s||void 0===s?void 0:s.project({x:e.clientX-n.left,y:e.clientY-n.top}))||{x:0,y:0};t(Object(X.b)(r.label,c,r))},onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},onNodeDragStop:function(e,a){t(Object(X.m)(a.id,{position:a.position}))},nodeTypes:Br,nodesDraggable:"example"!==a.type}))}function Wr(){var e=Object(K.a)(["\n  display: flex;\n  min-height: 58rem;\n"]);return Wr=function(){return e},e}var Gr=$.a.div(Wr());var Ur=[{path:"/",exact:!0,layout:qe,component:function(){return r.a.createElement(o.a,{to:"/logs"})}},{path:"/logs",layout:qe,component:function(){var e=Object(B.b)(),t=Object(B.c)(Qt),a=Object(B.c)(Kt),c=Object(B.c)($t),o=Object(n.useState)((function(){return aa()})),s=Object(l.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)((function(){return Object(Xt.d)(ta[i],60,t,new Date)})),d=Object(l.a)(m,2),p=d[0],f=d[1];Object(n.useEffect)((function(){var e=new Date,a=Object(Xt.d)(ta[i],60,t,e);f(Object(Ae.a)({},a))}),[i,t]);var b=ea[i];return r.a.createElement(Ve.a,{fluid:!0,className:"main-content-container px-0"},r.a.createElement("div",{className:"px-4"},r.a.createElement(k.a,{noGutters:!0,className:"page-header mb-4"},r.a.createElement(ut,{title:"Log Stream",className:"text-sm-left mb-3"})),r.a.createElement(k.a,null,r.a.createElement(N.a,{md:"10",className:"mb-4"},r.a.createElement(lt,{data:p,showLog:function(t){var a=p.data,n=t[0]&&t[0]._index;if(n&&"undefined"!==typeof n){var r=a[n].lastLog;e(Object(Yt.b)(r))}},setTimeSelection:function(e){var t;u(e),t=e,localStorage.setItem(Zt,t)},timeOptions:ea,selectedTime:i,timeLabels:b.chartLabels})),r.a.createElement(N.a,{md:"2",className:"mb-4"},r.a.createElement(it,{data:c}))),r.a.createElement(Vt,{data:a,showLogDetails:function(t){e(Object(Q.e)("logDetails",{log:t}))}})))},props:{usesConnection:!0,usesAuth:!1}},{path:"/flow",layout:qe,component:function(){var e=Object(B.b)(),t=Object(B.c)(ne),a=Object(B.c)(te),c=Object(B.c)(Z),o=c.flowChart,i=c.type,u=Object(n.useCallback)((function(){M.a.log("copyChartAsYAML | chart:",o),Object(It.a)(Object(It.b)(o,a)),alert("Chart copied to clipboard as YAML")}),[o,a]),m=Object(n.useState)(!1),d=Object(l.a)(m,2),p=d[0],f=d[1];console.log(p);var b=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];f(e)};return r.a.createElement(s.h,{fluid:!0,className:"main-content-container px-0"},r.a.createElement("div",{className:"px-4"},r.a.createElement("a",{href:"/#",id:"download-link",style:{display:"none"}},"download"),r.a.createElement(s.p,{noGutters:!0,className:"page-header mb-4"},r.a.createElement(ut,{title:"Flow Design",className:"text-sm-left mb-3"})),r.a.createElement(Gr,null,r.a.createElement(dr,null),r.a.createElement(s.d,{className:"chart-section-container mr-md-4 mb-4"},r.a.createElement(jr,{startFlow:function(){return e(Object(X.k)(t))},stopFlow:function(){return e(Object(X.l)(t))},copyChart:u,importChart:function(){return e(Object(Q.e)("import"))},exportImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"png",t=document.querySelector(".chart-container"),a=document.querySelector(".capture-overlay");if(t){a&&a.classList.add("fade-out"),b(),setTimeout((function(){return b(!1)}),500);var n={foreignObjectRendering:!0,logging:!0,x:0,y:0,scrollX:0,scrollY:0,scale:5};Pr()(t,n).then((function(t){var a=t.toDataURL("image/".concat(e)),n=document.getElementById("download-link");n&&(n.setAttribute("download","jina-flow-visual.".concat(e)),n.setAttribute("href",a),n.click())}))}}}),r.a.createElement(Hr,{elements:o.elements})),r.a.createElement(Dr,{arguments:a.pod,duplicateFlow:function(){var t=Object(It.b)(o,a);e(Object(X.g)(t))},readonly:"user-generated"!==i,elements:o.elements,deleteSelection:function(){}}))))},props:{usesConnection:!0,usesAuth:!1}},{path:"/task",layout:qe,component:ua,props:{usesConnection:!0,usesAuth:!1}},{path:"/settings",layout:qe,component:ya,props:{usesConnection:!0,usesAuth:!1}},{path:"/help",layout:qe,component:Qn,props:{usesConnection:!1,usesAuth:!1}},{path:"/home",layout:qe,component:Qn,props:{usesConnection:!1,usesAuth:!1}},{path:"/hub",layout:qe,component:Tn,props:{usesConnection:!1,usesAuth:!0}},{path:"/package/:packageId",layout:qe,component:Yn,props:{navigateButton:function(){return r.a.createElement(er,{label:"\u276e  Back",path:"/hub/explore"})}}},{path:"/login",layout:qe,component:Kn,props:{usesConnection:!1,usesAuth:!0}}],zr=a(200),Jr=a(124);Jr.a.initialize(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TARGET:"dashboard",REACT_APP_HUB_API:"https://hubapi.jina.ai",REACT_APP_JINA_API:"https://api.jina.ai"}).REACT_APP_GAID||"UA-164627626-1");var qr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=function(e){Jr.a.set(Object(Ae.a)({page:e},t)),Jr.a.pageview(e)},n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TARGET:"dashboard",REACT_APP_HUB_API:"https://hubapi.jina.ai",REACT_APP_JINA_API:"https://api.jina.ai"}).REACT_APP_BASENAME||"",c=function(t){Object(da.a)(o,t);var c=Object(pa.a)(o);function o(){return Object(ma.a)(this,o),c.apply(this,arguments)}return Object(zr.a)(o,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname+this.props.location.search;a("".concat(n).concat(e))}},{key:"componentDidUpdate",value:function(e){var t=e.location.pathname+e.location.search,r=this.props.location.pathname+this.props.location.search;t!==r&&a("".concat(n).concat(r))}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),o}(r.a.Component);return c},Vr=a(201);function Yr(e){var t=e.error,a=e.resetErrorBoundary;return r.a.createElement(Ve.a,{fluid:!0,className:"main-content-container p-5"},r.a.createElement(k.a,{noGutters:!0,className:"page-header mb-4"},r.a.createElement(ut,{title:"Error",subtitle:"This should not have happened",className:"text-sm-left my-3"})),r.a.createElement(k.a,{noGutters:!0,className:"page-header mb-4"},r.a.createElement(N.a,{xs:"12",sm:"3"},r.a.createElement("p",null,"Something went wrong:"),r.a.createElement("pre",null,r.a.createElement("code",{className:"text-warning"},t.message)))),r.a.createElement(k.a,{noGutters:!0,className:"page-header"},r.a.createElement(N.a,null,r.a.createElement(s.b,{onClick:a},"Try again"))))}var Kr=function(){return document.title="Jina Dashboard",r.a.createElement(c.a,{basename:"/"},r.a.createElement("div",null,Ur.map((function(e,t){return r.a.createElement(o.b,{path:e.path,exact:e.exact,component:qr((function(t){return r.a.createElement(e.layout,Object.assign({},t,e.props),r.a.createElement(Vr.ErrorBoundary,{FallbackComponent:Yr},r.a.createElement(e.component,t)))}),{})})}))))}},330:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(27),l=a.n(o),s=a(36),i=a(14),u="#009999",m="#FFCC66",d={palette:{bodyBackground:"#f5f6f8",background:"#FFFFFF",headerTextColor:"#000000",primary:u,secondary:m,warning:m,error:"#ff6666",success:"#32C8CD",info:u,critical:"#ff4540",debug:"#7E7278",tagBackground:"#DAD7FE",tagPlatformBackground:"#FFCC66",mutedText:"#A6A6A6",highlight:"#007AFF"}},p=a(342),f=a(203),b=(a(217),a(218),a(219),a(40)),g=a(243).version,h=localStorage.getItem("version");(null===h||h<g)&&(localStorage.clear(),window.location.reload(),localStorage.setItem("version",g)),n=a(325).Dashboard,p.a({dsn:"https://085edd94ec3e479cb20f2c65f7b8cb82@o525420.ingest.sentry.io/5639443",integrations:[new f.a.BrowserTracing],tracesSampleRate:1}),l.a.render(c.a.createElement(s.c,{theme:d},c.a.createElement(i.a,{store:b.a},c.a.createElement(n,null))),document.getElementById("root"))},34:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"j",(function(){return r})),a.d(t,"g",(function(){return c})),a.d(t,"e",(function(){return o})),a.d(t,"h",(function(){return l})),a.d(t,"i",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"f",(function(){return d})),a.d(t,"k",(function(){return p}));var n="HANDLE_CONNECTION_STATUS",r="TOGGLE_SIDE_BAR",c="SHOW_BANNER",o="HIDE_BANNER",l="SHOW_ERROR",s="SHOW_MODAL",i="CLOSE_MODAL",u="FETCH_ARGUMENTS_FROM_API",m="FETCH_ARGUMENTS_FROM_DAEMON",d=5e3,p={user:null,banner:null,connected:!1,currentTab:"logStream",loading:!0,menuVisible:!1,modal:null,modalParams:null,navItems:[{title:"Home",to:"/home",iconName:"home",matches:["home"]},{title:"Log Stream",to:"/logs",iconName:"insert_comment",matches:["logs"]},{title:"Flow Design",to:"/flow",iconName:"device_hub",matches:["flow"]},{title:"Hub",to:"/hub",iconName:"store",matches:["hub","package"]},{title:"Settings",to:"/settings",iconName:"settings",matches:["settings"]},{title:"Help",to:"/help",iconName:"help",matches:["help"]}],processes:{}}},40:function(e,t,a){"use strict";var n=a(77),r=a(12),c=a(15),o=a(78),l=a.n(o),s={pokedex:{name:"Pokedex Query",type:"example",yaml:"!Flow\n    with:\n      read_only: true\n      rest_api: true\n      port_expose: $JINA_PORT\n      board:\n        canvas:\n          gateway:\n            x: 250\n            y: 150\n          chunk_seg:\n            x: 250\n            y: 268\n          tf_encode:\n            x: 250\n            y: 420\n          chunk_idx:\n            x: 250\n            y: 600\n          ranker:\n            x: 250\n            y: 836\n          doc_idx:\n            x: 249\n            y: 985\n    pods:\n      gateway: {}\n      chunk_seg:\n        uses: pods/craft.yml\n        parallel: $PARALLEL\n        needs: gateway\n      tf_encode:\n        uses: pods/encode.yml\n        parallel: $PARALLEL\n        timeout_ready: 600000\n        needs: chunk_seg\n      chunk_idx:\n        uses: pods/chunk.yml\n        separated_workspace: true\n        polling: all\n        uses_reducing: _merge_all\n        timeout_ready: 100000\n        needs: tf_encode\n      ranker:\n        uses: BiMatchRanker\n        needs: chunk_idx\n      doc_idx:\n        uses: pods/doc.yml\n        needs: ranker\n    \n    "},flower:{name:"Flower Search Query",type:"example",yaml:"!Flow\n    with:\n      read_only: true\n      port_expose: $JINA_PORT\n      board:\n        canvas:\n          gateway:\n            x: 250\n            y: 150\n          loader:\n            x: 250\n            y: 257\n          flipper:\n            x: 252\n            y: 407\n          normalizer:\n            x: 239\n            y: 563\n          encoder:\n            x: 252\n            y: 712\n          chunk_indexer:\n            x: 250\n            y: 872\n          ranker:\n            x: 252\n            y: 1066\n          doc_indexer:\n            x: 253\n            y: 1199\n    pods:\n      gateway: {}\n      loader:\n        uses: yaml/craft-load.yml\n        read_only: true\n        needs: gateway\n      flipper:\n        uses: yaml/craft-flip.yml\n        read_only: true\n        needs: loader\n      normalizer:\n        uses: yaml/craft-normalize.yml\n        read_only: true\n        needs: flipper\n      encoder:\n        uses: $ENCODER\n        timeout_ready: 600000\n        read_only: true\n        needs: normalizer\n      chunk_indexer:\n        uses: yaml/index-chunk.yml\n        separated_workspace: true\n        polling: all\n        uses_reducing: _merge_all\n        needs: encoder\n      ranker:\n        uses: MinRanker\n        needs: chunk_indexer\n      doc_indexer:\n        uses: yaml/index-doc.yml\n        needs: ranker  \n    "},southpark:{name:"Southpark Query",type:"example",yaml:"!Flow\n    with:\n      read_only: true\n      port_expose: $JINA_PORT\n      board:\n        canvas:\n          gateway:\n            x: 254\n            y: 147\n          splittor:\n            x: 254\n            y: 270\n          encoder:\n            x: 254\n            y: 448\n          chunk_indexer:\n            x: 251\n            y: 645\n          ranker:\n            x: 255\n            y: 862\n          doc_indexer:\n            x: 256\n            y: 1002\n    pods:\n      gateway: {}\n      splittor:\n        uses: pods/craft-split.yml\n        parallel: $PARALLEL\n        read_only: true\n        needs: gateway\n      encoder:\n        uses: pods/encode.yml\n        parallel: $PARALLEL\n        timeout_ready: 60000\n        read_only: true\n        needs: splittor\n      chunk_indexer:\n        uses: pods/index-chunk.yml\n        separated_workspace: true\n        polling: all\n        reducing_uses: _merge_all\n        needs: encoder\n      ranker:\n        uses: MinRanker\n        needs: chunk_indexer\n      doc_indexer:\n        uses: pods/index-doc.yml\n        needs: ranker\n    "},blankFlow:{name:"Test Flow",type:"example",yaml:"!Flow\n    with:\n      rest_api: true\n      port_expose: 5555\n    pods:\n      pod1:\n        read_only: true\n      pod2:\n        read_only: true\n      pod3:\n        read_only: true"}},i=a(29),u=a(24),m=a(119),d=a(49);var p=a(42);var f={selectedFlowId:"_userFlow",flows:Object(r.a)(Object(r.a)({},function(){var e=localStorage.getItem("userFlows"),t=e?JSON.parse(e):null;return l.a.isEmpty(t)?{_userFlow:{name:"Custom Flow 1",type:"user-generated",flowChart:u.n}}:t}()),function(){var e={};return Object.entries(s).forEach((function(t){var a=Object(c.a)(t,2),n=a[0],o=a[1],l=Object(i.f)(o.yaml);if(null===l||void 0===l?void 0:l.data){var s=Object(i.d)(l.data);e[n]=Object(r.a)(Object(r.a)({},o),{},{isConnected:!1,flowChart:s})}})),e}()),flowArguments:{version:"0.0",flow:[],pea:[],pod:[]},tooltipConfig:{tooltipsGlobal:{showTooltip:!0,toogleOffWhenClicked:"global",text:"Hold Shift and click to select multiple nodes"}}};function b(e,t){var a="Custom Flow",n=Object.values(e.flows).filter((function(e){return e.name.startsWith(a)})).map((function(e){return parseInt(e.name.substring(a.length))||0})).sort((function(e,t){return e-t})),r=n[n.length-1]||0,c=Object(m.a)(),o=u.n;if(t){var l=Object(i.f)(t);(null===l||void 0===l?void 0:l.data)&&(o=Object(i.d)(l.data))}return e.flows[c]={isConnected:!1,name:"".concat(a," ").concat(r+1),type:"user-generated",flowChart:o},e.selectedFlowId=c,e}var g=Object(d.a)((function(e,t){switch(t.type){case u.c:e=b(e);break;case u.g:case u.h:e=b(e,t.payload);break;case u.d:var a=t.payload;e.flows=l.a.omit(e.flows,a);var n=Object.entries(e.flows).filter((function(e){var t=Object(c.a)(e,2);t[0];return"example"!==t[1].type}));if(e.selectedFlowId===a&&n.length){var o=n[0][0];e.selectedFlowId=o}else n.length||(e.flows._userFlow={name:"Custom Flow 1",type:"user-generated",isConnected:!1,flowChart:u.n},e.selectedFlowId="_userFlow");break;case u.m:var s=t.payload;if(e.selectedFlowId){var i=e.flows[e.selectedFlowId];e.flows[e.selectedFlowId]=Object(r.a)(Object(r.a)({},i),s)}break;case u.j:e.flowArguments=t.payload;break;case u.i:e.selectedFlowId=t.payload;break;case u.k:var m=t.payload,d=m.nodeUpdate,f=m.nodeId,g=e.selectedFlowId,h=e.flows[g].flowChart.elements.findIndex((function(e){return e.id===f}));if(h>=0){var v=e.flows[g].flowChart.elements[h],E=Object(r.a)(Object(r.a)({},v),d);e.flows[g].flowChart.elements[h]=E}break;case u.l:var y=t.payload,w=y.nodeDataUpdate,x=y.nodeId,O=e.selectedFlowId,j=e.flows[O].flowChart.elements.findIndex((function(e){return e.id===x}));if(j>=0){var k=e.flows[O].flowChart.elements[j],N=Object(r.a)(Object(r.a)({},k.data),w);e.flows[O].flowChart.elements[j].data=N}break;case u.b:var C=t.payload,S=C.data,_=C.id,A=C.position,L=Object(p.b)(_,S,A);e.flows[e.selectedFlowId].flowChart.elements.push(L);break;case u.f:var F=t.payload,T=e.flows[e.selectedFlowId].flowChart.elements.filter((function(e){return Object(p.e)(e)?e.id!==F:!Object(p.d)(e)||e.source!==F&&e.target!==F}));e.flows[e.selectedFlowId].flowChart.elements=T;break;case u.a:var I=t.payload,D=I.source,R=I.target,P=Object(p.a)(D,R);e.flows[e.selectedFlowId].flowChart.elements.push(P);break;case u.e:if(void 0!==t.payload.source){var M=t.payload,B=M.source,H=M.target;e.flows[e.selectedFlowId].flowChart.elements=e.flows[e.selectedFlowId].flowChart.elements.filter((function(e){return!(Object(p.d)(e)&&(e.source===B||e.target===H))}))}else{var W=t.payload;e.flows[e.selectedFlowId].flowChart.elements=e.flows[e.selectedFlowId].flowChart.elements.filter((function(e){return W!==e.id}))}}!function(e){var t={},a=e.flows;Object.entries(a).forEach((function(e){var a=Object(c.a)(e,2),n=a[0],r=a[1];"user-generated"===r.type&&(t[n]=r)})),localStorage.setItem("userFlows",JSON.stringify(t))}(e)}),f),h=a(69),v=Object(d.a)((function(e,t){switch(t.type){case h.a:e.loading=!0;break;case h.c:e.loading=!1,e.images=t.payload.images;break;case h.b:e.loading=!1,e.error=t.payload.error}}),h.d),E=a(186),y=a(101),w=a(17);var x=Object(d.a)((function(e,t){switch(t.type){case y.a:e.settings=Object(r.a)(Object(r.a)({},e.settings),t.payload),w.a.log("saveSettings - settings",e.settings),a=e.settings,Object.keys(a).forEach((function(e){localStorage.setItem("preferences-".concat(e),a[e])}))}var a}),y.b),O=a(52),j=Object(d.a)((function(e,t){switch(t.type){case O.b:e.logIndex=t.payload;break;case O.a:!function(){var a=t.payload;w.a.log("_handleNewLog");var n=Object(i.j)(a,e.logs.length),c=n.name,o=n.level,l=n.unixTime;e.logs.push(n);var s=e.logSources[c]?e.logSources[c]+1:1;e.logSources[c]=s;var u=e.logLevels[o]?e.logLevels[o]+1:1;e.logLevels[o]=u;var m=e.logLevelOccurrences[l]?Object(r.a)({},e.logLevelOccurrences[l]):Object(O.c)();e.logLevelOccurrences[l]=m,e.logLevelOccurrences[l].levels[o]++,e.logLevelOccurrences[l].lastLog=n.idx}()}}),O.d),k=a(34),N=Object(d.a)((function(e,t){switch(t.type){case k.d:w.a.log("handleLogConnectionStatus - status",t.payload.connected),w.a.log("handleLogConnectionStatus - message",t.payload.message),e.loading=!1,e.connected=t.payload.connected;break;case k.j:e.menuVisible=!e.menuVisible;break;case k.g:e.banner={message:t.payload.message,theme:t.payload.theme};break;case k.e:e.banner=null;break;case k.h:e.banner={message:t.payload.message,theme:"error"};break;case k.i:e.modal=t.payload.modal,e.modalParams=t.payload.modalParams;break;case k.a:e.modal=null,e.modalParams=null;break;case O.a:e.processes[t.payload.process]=t.payload.name}}),k.k),C=a(187),S=a(21),_={taskData:{qps:{current:"0",history:new Array(30).fill(0)},elapsed:{task_name:"No Current Task",seconds:"0s"},progress:{currentRequest:0,bar_len:0,num_bars:0},speed:{current:"0",unit:"units",history:new Array(30).fill(0)},lastUpdateChart:new Date,messages:[],bytes:[]}},A=Object(d.a)((function(e,t){switch(t.type){case"HANDLE_TASK":return function(){var a=t.payload,n=a.taskEvent,c=a.processes,o=Object(r.a)({},n),l=o.task_name,s=o.process,u=o.bar_len,m=o.num_bars,d=o.elapsed,p=o.speed,f=o.speed_unit,b=o.bytes_recv,g=o.bytes_sent,h=o.msg_recv,v=o.msg_sent,E=o.num_reqs,y=o.qps;u&&m&&(e.taskData.progress.currentRequest=E,e.taskData.progress.bar_len=u,e.taskData.progress.num_bars=m);if(h&&v){var w=e.taskData.messages.map((function(e){return e.process})).indexOf(s),x={process:s,sent:v,received:h,node:c[s]},O={process:s,sent:g,received:b,node:c[s]};w<0?(e.taskData.messages.push(x),e.taskData.bytes.push(O)):(e.taskData.messages[w]=x,e.taskData.bytes[w]=O),e.taskData.messages=e.taskData.messages.sort((function(e,t){return t.sent+t.received-(e.sent+e.received)})).slice(0,20),e.taskData.bytes=e.taskData.bytes.sort((function(e,t){return t.sent+t.received-(e.sent+e.received)})).slice(0,20)}e.taskData.lastUpdateChart=new Date,y&&(e.taskData.qps.current=parseFloat(y).toFixed(1),e.taskData.qps.history.push(parseFloat(y).toFixed(3)),e.taskData.qps.history.shift());p&&f&&(e.taskData.speed.unit=f,e.taskData.speed.current=parseFloat(p).toFixed(1),e.taskData.speed.history.push(parseFloat(p).toFixed(3)),e.taskData.speed.history.shift());d&&(e.taskData.elapsed.seconds=Object(i.e)(parseInt(d)),e.taskData.elapsed.task_name="Task: ".concat(l))}()}}),_),L=a(45),F=Object(n.combineReducers)({flowState:g,hubState:v,settingsState:x,logStreamState:j,globalState:N,taskState:A}),T=Object(n.createStore)(F,Object(E.composeWithDevTools)(Object(n.applyMiddleware)(C.a)));L.a.connect(T.getState().settingsState.settings,(function(e){var t=e.connected,a=e.message;T.dispatch(Object(S.c)(t,a))}));t.a=T},42:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return m}));var n=a(37),r=a(12),c=a(67),o=a(221),l=c.d,s=c.e,i=function(e,t,a){return{id:e,type:"gateway"===e?"gateway":"pod",data:t,position:a}},u=function(e,t){return{id:"e-".concat(e,"-to-").concat(t),source:e,target:t,type:"step"}},m=function(e){var t,a,n,c,l=e.pods,s=null===(t=e.with)||void 0===t||null===(a=t.board)||void 0===a?void 0:a.canvas,m={with:e.with},p=[],f=[];if(null===(n=e.version)||void 0===n?void 0:n.includes("1")){var b={};l.forEach((function(e){var t=e.name;delete e.name,b[t]=Object(r.a)({},e)})),l=b}l.gateway||(l=Object(r.a)({gateway:null},l)),Object.keys(l).forEach((function(e){var t,a=l[e]||{},n=i(e,a,{});if(n.data.label=e,c&&!n.data.needs&&"gateway"!==e&&(!n.data.needs&&(n.data.needs=[]),n.data.needs.push(c)),(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.needs)&&n.data.needs.forEach((function(t){return f.push(u(t,e))})),s&&s[e]){var r=s[e],o=r.x,m=r.y;n.position={x:parseInt(o),y:parseInt(m)}}p.push(n),c=e}));var g={},h=o.nodeOffset.x,v=o.nodeOffset.y;return p.forEach((function(e){var t=d(p,e);e.data.depth=t,void 0===g[t]?g[t]=1:g[t]=g[t]+1,e.position.x||(e.position={y:t*v+v,x:g[t]*h})})),m.elements=[].concat(p,f),m};function d(e,t){var a=t.data.needs;if(a&&0!==a.length){var r=a.map((function(t){var a=e.find((function(e){return e.id===t}));return a.data.depth?a.data.depth:d(e,a)}));return Math.max.apply(Math,Object(n.a)(r))+1}return 0}},45:function(e,t,a){"use strict";var n=a(15),r=a(9),c=a.n(r),o=a(18),l=a(68),s=a.n(l),i=a(106),u=a(17),m=s.a.create(),d={connect:function(){var e=Object(o.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.a.log("api - connect - settings",t),n="".concat(t.host,":").concat(t.port),m=s.a.create({baseURL:n,timeout:3e4}),e.prev=3,e.next=6,m.get("/");case 6:if(200!==e.sent.status){e.next=10;break}return u.a.log("api - connect successfully connected to jinad"),e.abrupt("return",a({connected:!0,message:"Successfully connected to Jina at ".concat(n)}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),u.a.log("api - connect could not connect to jinad:",e.t0);case 15:return e.abrupt("return",a({connected:!1,message:"failed to connect"}));case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,a){return e.apply(this,arguments)}}(),getJinaFlowArguments:function(){var e=Object(o.a)(c.a.mark((function e(){var t,a,n,r,o,l,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/status");case 2:return t=e.sent,a=t.data.jina.jina,e.next=6,m.get("/flows/arguments");case 6:return n=e.sent,r=f(n.data),e.next=10,m.get("/pods/arguments");case 10:return o=e.sent,l=f(o.data),e.next=14,m.get("/peas/arguments");case 14:return s=e.sent,i=f(s.data),e.abrupt("return",{version:a,flow:r,pod:l,pea:i});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getDaemonStatus:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("/status");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",daemonStatus:t.data});case 6:return e.abrupt("return",{status:"error",message:t.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),getWorkspaces:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("/workspaces");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",workspaces:t.data});case 6:return e.abrupt("return",{status:"error",message:t.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),createWorkspace:function(){var e=Object(o.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FormData,t.forEach((function(e){"string"===typeof e?a.append("files",new Blob([e])):a.append("files",e)})),n={headers:{"Content-Type":"multipart/form-data"}},e.prev=3,e.next=6,m.post("/workspaces",a,n);case 6:if(201!==(r=e.sent).status){e.next=9;break}return e.abrupt("return",{status:"success",workspace:r.data});case 9:return e.abrupt("return",{status:"error",message:r.data});case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",{status:"error",message:e.t0});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),deleteWorkspace:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.delete("/workspaces/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - deleteWorkspace ".concat(t," error: "),e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),deleteAllWorkspaces:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.delete("/workspaces/all");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - deleteAllWorkspaces error: ",e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),getArgumentsForFlow:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("/flows/arguments");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",arguments:t.data});case 6:return e.abrupt("return",{status:"error",message:t.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),getFlow:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("/flows/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",flow:a.data});case 6:return e.abrupt("return",{status:"error",message:a.data});case 9:e.prev=9,e.t0=e.catch(0),u.a.log("api - getFlow error getting flow: ",e.t0);case 12:return e.abrupt("return",{status:"error",message:"Could not get flow\nFlowId:".concat(t)});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),startFlow:function(){var e=Object(o.a)(c.a.mark((function e(t,a){var n,r,o,l,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.a.log("yamlString:",t),(n=new FormData).append("flow",new Blob([t])),a&&n.append("workspace_id",a),r={headers:{"Content-Type":"multipart/form-data"}},e.prev=5,e.next=8,m.post("/flows",n,r);case 8:if(201!==(o=e.sent).status){e.next=13;break}return l=o.data,s="Successfuly started flow\nid: ".concat(l),e.abrupt("return",{status:"success",message:s,flow_id:l});case 13:return e.abrupt("return",{status:"error",message:o.data});case 16:return e.prev=16,e.t0=e.catch(5),u.a.log("api - startFlow error: ",e.t0),e.abrupt("return",{status:"error",message:e.t0.message});case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t,a){return e.apply(this,arguments)}}(),terminateFlow:function(){var e=Object(o.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.delete("/flows/".concat(t));case 3:if(a=e.sent,u.a.log("terminate result",a),200!==a.status){e.next=8;break}return n="Successfuly terminated flow ".concat(t),e.abrupt("return",{status:"success",message:n,flow:a.data});case 8:return e.abrupt("return",{status:"error",message:a.data});case 11:return e.prev=11,e.t0=e.catch(0),u.a.log("api - terminateFlow error: ",e.t0),e.abrupt("return",{status:"error",message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),terminateAllFlows:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.delete("/flows/all");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - terminateAllFlows error: ",e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),getLogs:function(){var e=Object(o.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("/logs/".concat(t,"/").concat(a));case 3:if(200!==(n=e.sent).status){e.next=7;break}return r=n.data.split("\n").filter((function(e){return""!==e})).map(JSON.parse),e.abrupt("return",{status:"success",logs:r});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),u.a.log("api - getLogs error: ",e.t0);case 12:return e.abrupt("return",{status:"error",message:"Could not get logs for flow.\nFlowId:".concat(a)});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),waitForFlow:function(){var e=Object(o.a)(c.a.mark((function e(t,a){var n,r,o,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>2&&void 0!==l[2]?l[2]:10,r=l.length>3&&void 0!==l[3]?l[3]:3e3,o=0;case 3:if(!(o<n)){e.next=21;break}return u.a.log("checking for flow logs [".concat(o+1,"]")),e.prev=5,e.next=8,m.get("/logs/".concat(t,"/").concat(a));case 8:if(200!==e.sent.status){e.next=11;break}return e.abrupt("return",{status:"success",message:"Successfuly stablished logstream.\nFlowId:".concat(a)});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),u.a.log("no flow logs yet [".concat(o+1,"]"));case 16:return e.next=18,Object(i.b)(r);case 18:++o,e.next=3;break;case 21:return e.abrupt("return",{status:"error",message:"Could not establish log stream for flow.\nFlowId:".concat(a)});case 22:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,a){return e.apply(this,arguments)}}(),listenForLogs:function(){var e=Object(o.a)(c.a.mark((function e(t,a,n,r,o){var l,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=n.host.replace("http://","ws://").replace("https://","wss://"),s="".concat(l,":").concat(n.port,"/logstream/").concat(t,"/").concat(a),u.a.log("api - listenForLogs - baseURl:",s),e.prev=3,i=new WebSocket(s),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",r({connected:!1,message:e.t0}));case 10:i.addEventListener("open",(function(){r({connected:!0,message:"Successfully Connected"}),i.send(JSON.stringify({from:0}))})),i.addEventListener("message",(function(e){u.a.log("api - logstream - message received: ",e);var t=JSON.parse(e.data);o(t)})),i.addEventListener("close",(function(e){r({connected:!1,message:"Connection closed"})})),i.addEventListener("error",(function(e){r({connected:!1,message:"Socket error"})}));case 14:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),getArgumentsForPod:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("/pods/arguments");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",arguments:t.data});case 6:return e.abrupt("return",{status:"error",message:t.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),getPod:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("/pods/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",pod:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - getPod ".concat(t," error: "),e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),startPod:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.post("/pods",t);case 3:if(201!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",pod:a.data});case 6:return e.abrupt("return",{status:"error",message:a.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),terminatePod:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.delete("/pods/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - terminatePod ".concat(t," error: "),e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),terminateAllPods:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.delete("/pods/all");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - terminateAllPods error: ",e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),getArgumentsForPea:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("/peas/arguments");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",arguments:t.data});case 6:return e.abrupt("return",{status:"error",message:t.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),getPea:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("/peas/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",pea:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - getPea error getting pea ".concat(t,": "),e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),startPea:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.post("/peas",t);case 3:if(201!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",pea:a.data});case 6:return e.abrupt("return",{status:"error",message:a.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),terminatePea:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.delete("/peas/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - terminatePea ".concat(t," error: "),e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),terminateAllPeas:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.delete("/peas/all");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - terminateAllPeas error: ",e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},p={string:"string",boolean:"boolean",integer:"integer",array:"string"},f=function(e){return Object.entries(e).map((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1],c=r.description,o=r.default,l=r.type,s=p[l];return"undefined"===typeof o||null===o?{name:a,description:c,type:s}:{name:a,description:c,defaultValue:o,type:s}}))};t.a=d},52:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return o}));var n="SHOW_LOG_INDEX",r="HANDLE_NEW_LOG",c={logIndex:0,logLevelOccurrences:{},logs:[],logLevels:{INFO:0,SUCCESS:0,WARNING:0,ERROR:0,CRITICAL:0,DEBUG:0},logSources:{}},o=function(){return{lastLog:0,levels:{INFO:0,SUCCESS:0,WARNING:0,ERROR:0,CRITICAL:0,DEBUG:0}}}},63:function(e,t,a){"use strict";a.d(t,"e",(function(){return d})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return b})),a.d(t,"d",(function(){return g}));var n=a(12),r=a(15),c=a(143),o=a(52),l=a(78),s=a.n(l),i=Object(n.a)(Object(n.a)({},{depth:0}),{label:"string"}),u=a(42),m=Object.keys(i),d=function(e){var t=/^!/.test(e)?e.split("\n").slice(1).join("\n"):e;try{var a=c.parse(t);if("object"!==typeof a||null===a)throw new Error("Invalid YAML");return Object.keys(a.pods).forEach((function(e){a.pods[e].needs&&!Array.isArray(a.pods[e].needs)&&(a.pods[e].needs=[a.pods[e].needs])})),{data:a}}catch(n){alert("Error Parsing YAML:\n"+n.message)}},p=function(e,t){var a=e.with,o=e.elements,l=[],s=[];o.forEach((function(e){Object(u.d)(e)&&s.push(e),Object(u.e)(e)&&l.push(e)}));var i=t.pod,d=s.reduce((function(e,t){var a=t.source,n=t.target;return e[n]||(e[n]=[]),e[n].push(a),e}),{}),p=l.filter((function(e){return"gateway"!==e.data.label})).reduce((function(e,t){var a,c=t.data.label,o=Object.entries(t.data).reduce((function(e,t){var a=Object(r.a)(t,2),n=a[0],c=a[1];return m.includes(n)||(e[n]=function(e,t,a){var n=a.find((function(t){return t.name===e}));return n&&"boolean"===n.type?"true"===String(t):t}(n,c,i)),e}),{});return d[c]&&(o.needs=(a=d[c],Array.isArray(a)&&1===a.length?a[0]:a)),e[c]=Object(n.a)({},o),e}),{}),f=l.reduce((function(e,t){var a=t.position,n=a.x,r=a.y;return e[t.data.label||t.data.name]={x:parseInt(n),y:parseInt(r)},e}),{}),b={with:Object(n.a)(Object(n.a)({},a),{},{board:{canvas:f}}),pods:p};return"!Flow\n".concat(c.stringify(b))},f=function(e){var t=60,a=3600;return e<t?"".concat(Math.floor(e),"s"):e<a?"".concat(Math.floor(e/t),"m ").concat(Math.floor(e%t),"s"):"".concat(Math.floor(e/a),"h ").concat(Math.floor(e%a/t),"m ").concat(Math.floor(e%t),"s")},b=function(e){return e<1024?"".concat(e," Bytes"):e<Math.pow(1024,2)?"".concat((e/1024).toFixed(1)," KB"):e<Math.pow(1024,3)?"".concat((e/Math.pow(1024,2)).toFixed(1)," MB"):"".concat((e/Math.pow(1024,3)).toFixed(1)," GB")};function g(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=Object(o.c)(),c=e/t,l=[],i=Math.ceil(n/1e3/c)*c,u=Math.floor(n/1e3),m=function(e){for(var t=s.a.cloneDeep(r),n=e;n<e+c;++n){var o=a[n];o&&(t.lastLog=o.lastLog,Object.entries(o.levels).forEach((function(e){var a=e[0],n=e[1];t.levels[a]=t.levels[a]+n})))}l.push(t)},d=i-e;d<i;d+=c)m(d);return{data:l,numSeconds:e,numTicks:t,lastTimestamp:u}}},69:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return o}));var n="FETCH_HUB_IMAGES",r="FETCH_HUB_IMAGES_SUCCESS",c="FETCH_HUB_IMAGES_FAILURE",o={images:[],loading:!1,error:null}}},[[330,1,2]]]);
//# sourceMappingURL=main.09bfadcb.chunk.js.map
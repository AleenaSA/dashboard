(this["webpackJsonpdashboard-v1"]=this["webpackJsonpdashboard-v1"]||[]).push([[0],{114:function(e,t,a){e.exports=a.p+"static/media/jina-light.07aba578.svg"},122:function(e){e.exports=JSON.parse('[{"name":"uses","type":"str"},{"name":"replicas","type":"int"},{"name":"read_only","type":"bool"},{"name":"separated_workspace","type":"bool"},{"name":"host","type":"str"},{"name":"port_grpc","type":"int"},{"name":"identity","type":"str"},{"name":"image","type":"str"},{"name":"entrypoint","type":"str"},{"name":"pull_latest","type":"bool"},{"name":"volumes","type":"str"},{"name":"port_in","type":"int"},{"name":"port_out","type":"int"},{"name":"host_in","type":"str"},{"name":"host_out","type":"str"},{"name":"socket_in","type":"SocketType"},{"name":"socket_out","type":"SocketType"},{"name":"port_ctrl","type":"int"},{"name":"ctrl_with_ipc","type":"bool"},{"name":"timeout","type":"int"},{"name":"timeout_ctrl","type":"int"},{"name":"timeout_ready","type":"int"},{"name":"dump_interval","type":"int"},{"name":"exit_no_dump","type":"bool"},{"name":"replica_id","type":"int"},{"name":"check_version","type":"bool"},{"name":"array_in_pb","type":"bool"},{"name":"num_part","type":"int"},{"name":"memory_hwm","type":"int"},{"name":"runtime","type":"str"},{"name":"max_idle_time","type":"int"},{"name":"log_sse","type":"bool"},{"name":"log_remote","type":"bool"},{"name":"log_profile","type":"bool"},{"name":"max_message_size","type":"int"},{"name":"proxy","type":"bool"},{"name":"replica_type","type":"ReplicaType"},{"name":"shutdown_idle","type":"bool"}]')},187:function(e,t){e.exports={flow1:"!Flow\n  with:\n    board:\n      canvas:\n        chunk_seg:\n          x: 862\n          y: 138\n        encode1:\n          x: 198\n          y: 311\n        encode2:\n          x: 428\n          y: 309\n        pod_3:\n          x: 652\n          y: 308\n        pod_4:\n          x: 863\n          y: 307\n        pod_5:\n          x: 1084\n          y: 309\n        pod_6:\n          x: 1305\n          y: 311\n        connector:\n          x: 861\n          y: 477\n        midleft_1:\n          x: 530\n          y: 601\n        midright_1:\n          x: 1210\n          y: 598\n        midleft_2:\n          x: 331\n          y: 739\n        midright_2:\n          x: 1399\n          y: 733\n        pod_left:\n          x: 508\n          y: 862\n        pod_right:\n          x: 1226\n          y: 865\n        end_pod:\n          x: 870\n          y: 1083.6666641235352\n        pod_7:\n          x: 1526\n          y: 311.66666412353516\n  pods:\n    gateway:\n    chunk_seg:\n      replicas: 3\n    encode1:\n      replicas: 2\n      needs: chunk_seg\n    encode2:\n      replicas: 2\n      needs: chunk_seg\n    pod_3:\n      needs: chunk_seg\n    pod_4:\n      needs: chunk_seg\n    pod_5:\n      needs: chunk_seg\n    pod_6:\n      needs: chunk_seg\n    connector:\n      needs:\n        - encode1\n        - encode2\n        - pod_3\n        - pod_4\n        - pod_5\n        - pod_6\n        - pod_7\n    midleft_1:\n      needs: connector\n    midright_1:\n      needs: connector\n    midleft_2:\n      needs: midleft_1\n    midright_2:\n      needs: midright_1\n    pod_left:\n      needs:\n        - midleft_2\n        - midleft_1\n        - connector\n    pod_right:\n      needs:\n        - midright_2\n        - midright_1\n        - connector\n    end_pod:\n      needs:\n        - pod_left\n        - pod_right\n    pod_7:\n      needs: chunk_seg\n  ",pokedex:"!Flow\n  with:\n    read_only: true\n    rest_api: true\n    port_expose: $JINA_PORT\n    board:\n      canvas:\n        gateway:\n          x: 250\n          y: 150\n        chunk_seg:\n          x: 250\n          y: 268\n        tf_encode:\n          x: 250\n          y: 420\n        chunk_idx:\n          x: 250\n          y: 600\n        ranker:\n          x: 250\n          y: 836\n        doc_idx:\n          x: 249\n          y: 985\n  pods:\n    gateway: {}\n    chunk_seg:\n      uses: pods/craft.yml\n      parallel: $PARALLEL\n      needs: gateway\n    tf_encode:\n      uses: pods/encode.yml\n      parallel: $PARALLEL\n      timeout_ready: 600000\n      needs: chunk_seg\n    chunk_idx:\n      uses: pods/chunk.yml\n      shards: $SHARDS\n      separated_workspace: true\n      polling: all\n      uses_reducing: _merge_all\n      timeout_ready: 100000\n      needs: tf_encode\n    ranker:\n      uses: BiMatchRanker\n      needs: chunk_idx\n    doc_idx:\n      uses: pods/doc.yml\n      needs: ranker\n  \n  ",flower:"!Flow\n  with:\n    read_only: true\n    port_expose: $JINA_PORT\n    board:\n      canvas:\n        gateway:\n          x: 250\n          y: 150\n        loader:\n          x: 250\n          y: 257\n        flipper:\n          x: 252\n          y: 407\n        normalizer:\n          x: 239\n          y: 563\n        encoder:\n          x: 252\n          y: 712\n        chunk_indexer:\n          x: 250\n          y: 872\n        ranker:\n          x: 252\n          y: 1066\n        doc_indexer:\n          x: 253\n          y: 1199\n  pods:\n    gateway: {}\n    loader:\n      uses: yaml/craft-load.yml\n      read_only: true\n      needs: gateway\n    flipper:\n      uses: yaml/craft-flip.yml\n      read_only: true\n      needs: loader\n    normalizer:\n      uses: yaml/craft-normalize.yml\n      read_only: true\n      needs: flipper\n    encoder:\n      uses: $ENCODER\n      timeout_ready: 600000\n      read_only: true\n      needs: normalizer\n    chunk_indexer:\n      uses: yaml/index-chunk.yml\n      separated_workspace: true\n      polling: all\n      uses_reducing: _merge_all\n      needs: encoder\n    ranker:\n      uses: MinRanker\n      needs: chunk_indexer\n    doc_indexer:\n      uses: yaml/index-doc.yml\n      needs: ranker  \n  ",southpark:"!Flow\n  with:\n    read_only: true\n    port_expose: $JINA_PORT\n    board:\n      canvas:\n        gateway:\n          x: 254\n          y: 147\n        splittor:\n          x: 254\n          y: 270\n        encoder:\n          x: 254\n          y: 448\n        chunk_indexer:\n          x: 251\n          y: 645\n        ranker:\n          x: 255\n          y: 862\n        doc_indexer:\n          x: 256\n          y: 1002\n  pods:\n    gateway: {}\n    splittor:\n      uses: pods/craft-split.yml\n      parallel: $PARALLEL\n      read_only: true\n      needs: gateway\n    encoder:\n      uses: pods/encode.yml\n      parallel: $PARALLEL\n      timeout_ready: 60000\n      read_only: true\n      needs: splittor\n    chunk_indexer:\n      uses: pods/index-chunk.yml\n      shards: $SHARDS\n      separated_workspace: true\n      polling: all\n      reducing_uses: _merge_all\n      needs: encoder\n    ranker:\n      uses: MinRanker\n      needs: chunk_indexer\n    doc_indexer:\n      uses: pods/index-doc.yml\n      needs: ranker\n  "}},198:function(e){e.exports=JSON.parse('[{"name":"reader","yaml_path":"pods/extract.yml"},{"name":"loader","yaml_path":"yaml/craft-load.yml","replicas":3,"read_only":"true"},{"name":"splittor","yaml_path":"pods/craft-split.yml","replicas":3,"read_only":"true"},{"name":"encoder","yaml_path":"pods/encode.yml","replicas":3,"timeout_ready":1200000,"read_only":"true"},{"name":"chunk_indexer","yaml_path":"pods/index-chunk.yml","replicas":3,"separated_workspace":"true"},{"name":"doc_indexer","yaml_path":"pods/index-doc.yml"},{"name":"join_all","yaml_path":"_merge","read_only":"true"},{"name":"ranker","yaml_path":"MinRanker"},{"name":"flipper","yaml_path":"yaml/craft-flip.yml","replicas":3,"read_only":"true"},{"name":"normalizer","yaml_path":"yaml/craft-normalize.yml","replicas":3,"read_only":"true"},{"name":"crafter","yaml_path":"pods/craft.yml","read_only":"true"},{"name":"chunk_seg","yaml_path":"pods/craft.yml","replicas":3}]')},211:function(e,t,a){e.exports=a(584)},216:function(e,t,a){},234:function(e,t){e.exports={nodeOffset:{x:250,y:150}}},29:function(e,t){e.exports={TOGGLE_SIDEBAR:"TOGGLE_SIDEBAR",SET_CURRENT_TAB:"SET_CURRENT_TAB",SELECT_NODE:"SELECT_NODE",IMPORT_CUSTOM_YAML:"IMPORT_CUSTOM_YAML",SHOW_MODAL:"SHOW_MODAL",CLOSE_MODAL:"CLOSE_MODAL",SHOW_LOG_AT_INDEX:"SHOW_LOG_AT_INDEX",SAVE_SETTINGS:"SAVE_SETTINGS",RECONNECT:"RECONNECT",POST_REVIEW:"POST_REVIEW",POST_RATING:"POST_RATING",LOG_OUT:"LOG_OUT",SEARCH_HUB:"SEARCH_HUB",SHOW_BANNER:"SHOW_BANNER",LOAD_EXAMPLE:"LOAD_EXAMPLE",SHOW_POD_IN_FLOW:"SHOW_POD_IN_FLOW"}},582:function(e,t,a){},583:function(e,t,a){},584:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),c=a.n(o),s=(a(216),a(42)),l=a(22),i=a(8),m=a(10),u=a(9),d=a(595),p=a(596),h=a(189),g=a(602),f=a(601),b=a(190),v=a(87),y=a.n(v),E=new(a(185).Dispatcher),k=a(16),w=a.n(k),N=a(20),x=a(38),O=a(17),_=a(186),C=a(29),j=a.n(C),S=a(14),L=a(229),A=a(234),I=a(122),R={};function T(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}function D(e){try{var t=L.parse(e);return console.log("data:",t),{data:t}}catch(a){return alert("Error Parsing YAML:\n"+a),{error:a}}}function M(e,t){var a={offset:{x:0,y:0},nodes:{},links:{},selected:{},hovered:{},scale:1},n={},r={},o=!1;if(!e.gateway){var c;c=Object(S.a)({gateway:null},e),e=c}Object.keys(e).forEach((function(a){var c=e[a]||{},s={id:a,label:a,ports:{},needs:{},send_to:{},position:{},properties:Object(S.a)({},c)};if(s.properties.needs&&delete s.properties.needs,s.ports.inPort={id:"inPort",type:"input"},s.ports.outPort={id:"outPort",type:"output"},o&&!c.needs&&"gateway"!==a&&(c.needs=o),c.needs)for(var l=Array.isArray(c.needs)?c.needs:[c.needs],i=0;i<l.length;++i){var m=l[i];s.needs[m]=!0;var u="".concat(m,"-to-").concat(a),d={color:"red",id:u,from:{nodeId:m,portId:"outPort"},to:{nodeId:a,portId:"inPort"}};r[u]=d}if(t&&t[a]){var p=t[a],h=p.x,g=p.y;s.position={x:parseInt(h),y:parseInt(g)}}n[a]=s,o=a}));var s={},l=A.nodeOffset.x,i=A.nodeOffset.y;return Object.keys(n).forEach((function(e){var t=function e(t,a,n){for(var r=Object.keys(t[a].needs),o=0,c=0;c<r.length;++c){var s=r[c];console.log("\tparent:",s);var l=void 0;(l=t[s].depth?t[s].depth+1:e(t,s,1))>o&&(o=l)}return n+o}(n,e,0);n[e].depth=t,s[t]>=0?s[t]++:s[t]=0,n[e].position.x||(n[e].position={y:t*i+i,x:s[t]*l+l})})),a.nodes=n,a.links=r,a}function P(e){return e<1024?"".concat(e," Bytes"):e<Math.pow(1024,2)?"".concat(parseFloat(e).toFixed(1)," KB"):e<Math.pow(1024,3)?"".concat(parseFloat(e/Math.pow(1024,2)).toFixed(1)," MB"):"".concat(parseFloat(e/Math.pow(1024,3)).toFixed(1)," GB")}I.forEach((function(e){return R[e.name]=e.type}));var B,W,F,H=a(106),U=a.n(H),G=a(68),Y=U.a.create({baseURL:G.hubURL,withCredentials:!0,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}}),V={checkConnection:function(e){console.log("checking connection");var t="".concat(e.host,":").concat(e.port).concat(e.ready.startsWith("/")?e.ready:"/"+e.ready);return console.log("checkConnection string:",t),U.a.get(t)},connect:function(e,t,a){var n="".concat(e.host,":").concat(e.port).concat(e.log.startsWith("/")?e.log:"/"+e.log);console.log("logs connectionString: ",n),B&&B.close(),(B=new EventSource(n)).onopen=function(){t({type:"connect",data:"Log connection established at ".concat(n)})},B.onmessage=function(e){t({type:"log",data:JSON.parse(e.data)})},B.onerror=function(e){t({type:"error",data:"Could not get log data from ".concat(n)}),B.close()};var r="".concat(e.host,":").concat(e.port).concat(e.profile.startsWith("/")?e.profile:"/"+e.profile);console.log("task connectionString:",r),W&&W.close(),(W=new EventSource(r)).onopen=function(){a({type:"connect",data:"Task connection established at ".concat(r)})},W.onmessage=function(e){a({type:"event",data:JSON.parse(e.data)})},W.onerror=function(e){a({type:"error",data:"Could not get profile data from ".concat(r)}),W.close()}},getProfile:function(){var e=Object(N.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("profile");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getYAML:function(){var e=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("YAML connectionString: ",t),e.next=3,U.a.get(t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getImages:function(){var e=Object(N.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("get images..."),e.next=3,Y.get("images");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getImage:function(){var e=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("get image",t),e.next=3,Y.get("/images/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postRating:function(){var e=Object(N.a)(w.a.mark((function e(t,a){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("post rating",t,a),e.next=3,Y.post("/images/".concat(t,"/ratings"),{stars:a});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),postReview:function(){var e=Object(N.a)(w.a.mark((function e(t,a){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("post review",t,a),e.next=3,Y.post("/images/".concat(t,"/reviews"),{content:a});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),searchHub:function(){var e=Object(N.a)(w.a.mark((function e(t,a,n){var r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("search hub",t,a,n),e.next=3,Y.get("/images?category=".concat(t,"&q=").concat(a,"&sort=").concat(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),logOut:function(){var e=Object(N.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.post("/auth/logout");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},q=a(122),z=a(187),J=a.n(z),Q=["INFO","SUCCESS","WARNING","ERROR","CRITICAL","DEBUG"];var $=new(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).registerActions=function(t){var a,n=t.actionType,r=t.payload;switch(n){case j.a.TOGGLE_SIDEBAR:e.toggleSidebar();break;case j.a.SHOW_MODAL:e.showModal(r);break;case j.a.SHOW_BANNER:(a=e).showBanner.apply(a,Object(x.a)(r));break;case j.a.IMPORT_CUSTOM_YAML:e.importCustomYAML(r);break;case j.a.CLOSE_MODAL:e.closeModal();break;case j.a.SHOW_LOG_AT_INDEX:e.showLogAtIndex(r);break;case j.a.SAVE_SETTINGS:e.saveSettings(r);break;case j.a.RECONNECT:e.reconnect(r);break;case j.a.POST_RATING:e.postRating(r);break;case j.a.POST_REVIEW:e.postReview(r);break;case j.a.SEARCH_HUB:e.searchHub(r);break;case j.a.LOG_OUT:e.logOut();break;case j.a.LOAD_EXAMPLE:e.loadExample(r);break;case j.a.SHOW_POD_IN_FLOW:e.showPodByLabel(r)}},e.checkNetwork=Object(N.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.connected,t.prev=1,t.next=4,V.checkConnection(F.settings);case 4:e.connected=!0,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e.connected=!1;case 10:if(console.log("prevStatus:",a,"connected:",e.connected),a===e.connected){t.next=13;break}return t.abrupt("return",e.init());case 13:case"end":return t.stop()}}),t,null,[[1,7]])}))),e.init=Object(N.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.clearIntervals(),F={settings:{host:localStorage.getItem("preferences-host")||"http://localhost",port:localStorage.getItem("preferences-port")||5e3,log:localStorage.getItem("preferences-log")||"/stream/log",profile:localStorage.getItem("preferences-profile")||"/stream/profile",yaml:localStorage.getItem("preferences-yaml")||"/data/yaml",shutdown:localStorage.getItem("preferences-shutdown")||"/action/shutdown",ready:localStorage.getItem("preferences-ready")||"/status/ready"},images:{},hub:[],banner:{flow:!1,logs:!1},connected:{logs:!1,flow:!1,status:!1},loading:!0,modal:!1,menuVisible:!1,navItems:[{title:"Navigation",items:[{title:"Home",to:"/home",htmlBefore:'<i class="material-icons">home</i>',htmlAfter:"",matches:["home"]},{title:"Log Stream",to:"/logs",htmlBefore:'<i class="material-icons">insert_comment</i>',htmlAfter:"",matches:["logs"]},{title:"Task",to:"/task",htmlBefore:'<i class="material-icons">assessment</i>',htmlAfter:"",matches:["task"]},{title:"Flow Design",to:"/flow",htmlBefore:'<i class="material-icons">device_hub</i>',htmlAfter:"",matches:["flow"]},{title:"Hub",to:"/hub",htmlBefore:'<i class="material-icons">store</i>',htmlAfter:"",matches:["hub","package"]},{title:"Settings",to:"/settings",htmlBefore:'<i class="material-icons">settings</i>',htmlAfter:"",matches:["settings"]},{title:"Help",to:"/help",htmlBefore:'<i class="material-icons">help</i>',htmlAfter:"",matches:["help"]}]}],flowchart:{selected:{},hovered:{},scale:1,nodes:{gateway:{id:"gateway",label:"gateway",ports:{outPort:{id:"outPort",type:"output"}},properties:{},position:{x:629,y:72}}},links:{},offset:{x:0,y:0}},logs:[],logSources:{},logLevels:{},occurences:{current:{},previous:{},lastLog:[]},logIndex:!1,summaryCharts:{},processes:{},taskData:{qps:{current:0,history:new Array(30).fill(0)},elapsed:{task_name:"No Current Task",seconds:"0s"},progress:{currentRequest:0,bar_len:0,num_bars:0},speed:{current:0,unit:"units",history:new Array(30).fill(0)},lastUpdateChart:new Date,messages:[],bytes:[]},selectedNode:null,modalParams:null,currentTab:"logStream"},console.log("settings: ",F.settings),e.startNetworkMonitor(),t.next=6,e.initFlowChart();case 6:e.initLogStream(),e.initCharts(),e.initHub(),e.initUser(),F.loading=!1,e.emit("update-ui"),e.emit("update-settings");case 13:case"end":return t.stop()}}),t)}))),e.startNetworkMonitor=Object(N.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.checkNetworkInterval||(e.checkNetworkInterval=setInterval(e.checkNetwork,1e3));case 1:case"end":return t.stop()}}),t)}))),e.clearIntervals=function(){e.updateChartInterval&&clearInterval(e.updateChartInterval),e.updateTaskInterval&&clearInterval(e.updateTaskInterval)},e.initFlowChart=function(){var t=Object(N.a)(w.a.mark((function t(a){var n,r,o,c,s,l;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=F.settings,o="".concat(r.host,":").concat(r.port).concat(r.yaml.startsWith("/")?r.yaml:"/"+r.yaml),!a){t.next=7;break}n=D(a),F.connected.flow=!1,t.next=21;break;case 7:return t.prev=7,t.next=10,V.getYAML(o);case 10:c=t.sent,n=D(c),F.connected.flow=!0,e.showBanner("flow","Getting YAML from ".concat(o),"success"),t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(7),F.connected.flow=!1,e.showBanner("flow","Could not get YAML flow from ".concat(o),"error"),t.abrupt("return");case 21:try{s=n.data.with.board.canvas}catch(i){console.log("could not find canvas"),s={}}console.log("pods: ",n.data.pods),l=M(n.data.pods,s),console.log("parsed: ",l),l.with=n.data.with,F.flowchart=l,e.emit("update-ui"),e.emit("update-flowchart");case 29:case"end":return t.stop()}}),t,null,[[7,16]])})));return function(e){return t.apply(this,arguments)}}(),e.initLogStream=function(){V.connect(F.settings,e.handleNewLog,e.handleNewTaskEvent),e.updateTaskInterval=setInterval((function(){return e.emit("update-task")}),500)},e.handleNewLog=function(t){var a=t.type,n=t.data;if("connect"===a)return F.connected.logs=!0,e.showBanner("logs",n,"success");if("error"===a)return F.connected.logs=!1,e.showBanner("logs",n,"error");var r=n;r.formattedTimestamp=new Date(1e3*r.created).toLocaleString(),r.idx=F.logs.length,F.logs.push(r),F.processes[r.process]=r.name,F.logSources[r.name]=!0,F.logLevels[r.levelname]=!0,Q.includes(r.levelname)&&F.occurences.current[r.levelname]++,e.emit("update-logs")},e.handleNewTaskEvent=function(t){var a=t.type,n=t.data;if("connect"===a)return F.connected.task=!0,e.showBanner("task",n,"success");if("error"===a)return F.connected.task=!1,e.showBanner("task",n,"error");var r,o=n,c=o.task_name,s=o.process,l=o.bar_len,i=o.num_bars,m=o.elapsed,u=o.speed,d=o.speed_unit,p=o.bytes_recv,h=o.bytes_sent,g=o.msg_recv,f=o.msg_sent,b=o.num_reqs,v=o.qps;if(l&&i&&(F.taskData.progress.currentRequest=b,F.taskData.progress.bar_len=l,F.taskData.progress.num_bars=i),g&&f){var y=F.taskData.messages.map((function(e){return e.process})).indexOf(s),E={process:s,sent:f,received:g,node:F.processes[s]},k={process:s,sent:h,received:p,node:F.processes[s]};y<0?(F.taskData.messages.push(E),F.taskData.bytes.push(k)):(F.taskData.messages[y]=E,F.taskData.bytes[y]=k),F.taskData.messages=F.taskData.messages.sort((function(e,t){return t.sent+t.received-(e.sent+e.received)})).slice(0,20),F.taskData.bytes=F.taskData.bytes.sort((function(e,t){return t.sent+t.received-(e.sent+e.received)})).slice(0,20),F.taskData.lastUpdateChart=new Date}v&&(F.taskData.qps.current=parseFloat(v).toFixed(1),F.taskData.qps.history.push(parseFloat(v).toFixed(3)),F.taskData.qps.history.shift()),u&&d&&(F.taskData.speed.unit=d,F.taskData.speed.current=parseFloat(u).toFixed(1),F.taskData.speed.history.push(parseFloat(u).toFixed(3)),F.taskData.speed.history.shift()),m&&(F.taskData.elapsed.seconds=(r=parseInt(m))<60?"".concat(r,"s"):r<3600?"".concat(parseInt(r/60),"m ").concat(parseInt(r%60),"s"):"".concat(parseInt(r/3600),"h ").concat(parseInt(r%3600/60),"m ").concat(parseInt(r%60),"s"),F.taskData.elapsed.task_name="Task: ".concat(c))},e.initCharts=function(){for(var t=0;t<Q.length;++t){var a=Q[t];F.occurences.current[a]=0,F.occurences.previous[a]=0,F.summaryCharts[a]=new Array(60).fill(0)}F.occurences.lastLog=new Array(60).fill({}),console.log("initial Occurences: ",F.occurences),console.log("initial summary charts: ",F.summaryCharts),e.updateChartInterval=setInterval(e.updateSummaryCharts,1e3)},e.initHub=Object(N.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.getImages();case 3:a=t.sent,F.hub=a,F.connected.hub=!0,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),F.connected.hub=!1;case 11:e.emit("update-hub");case 12:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.initUser=Object(N.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.getProfile();case 2:a=t.sent,console.log("user",a),F.user=a,e.emit("update-user");case 6:case"end":return t.stop()}}),t)}))),e.updateSummaryCharts=function(){for(var t=F.occurences,a=t.current,n=t.previous,r=0;r<Q.length;++r){var o=Q[r],c=a[o],s=n[o];F.summaryCharts[o].push(c-s),F.summaryCharts[o].shift(),F.occurences.previous[o]=c}F.occurences.lastLog.push(F.logs.length-1),F.occurences.lastLog.shift(),e.emit("update-summary-chart")},e.showLogAtIndex=function(t){console.log("index: ",t);var a=F.occurences.lastLog[t];console.log("logIndex: ",a),a&&(F.logIndex=F.occurences.lastLog[t],e.emit("show-log"))},e.showPodByLabel=function(e){window.location.hash="#/flow",setTimeout((function(){return document.getElementById("chart-node-".concat(e)).click()}),10)},e.importCustomYAML=function(t){e.initFlowChart(t),e.closeModal(),e.emit("update-flowchart")},e.loadExample=function(t){var a=J.a[t];e.initFlowChart(a),e.emit("update-flowchart")},e.saveSettings=function(t){Object.keys(t).forEach((function(e){localStorage.setItem("preferences-".concat(e),t[e])})),setTimeout(e.init,100)},e.postRating=function(){var t=Object(N.a)(w.a.mark((function t(a){var n,r,o,c,s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.imageId,r=a.stars,console.log("posting rating: ",n,r),F.user){t.next=4;break}return t.abrupt("return",window.location.hash="#/login");case 4:return t.prev=4,t.next=7,V.postRating(n,r);case 7:o=t.sent,t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(4),c=String(t.t0).includes("409")?"Already Rated":t.t0,t.abrupt("return",e.showError("hub",c));case 14:o.error?e.showError("hub",o.error):o.data&&(s=o.data,F.images[s.id]=s,e.showBanner("hub","Rating successfully posted","success")),e.emit("update-hub");case 16:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),e.postReview=function(){var t=Object(N.a)(w.a.mark((function t(a){var n,r,o,c,s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.imageId,r=a.content,F.user){t.next=4;break}return e.closeModal(),t.abrupt("return",window.location.hash="#/login");case 4:return e.closeModal(),t.prev=5,t.next=8,V.postReview(n,r);case 8:o=t.sent,t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(5),c=String(t.t0).includes("409")?"Already Reviewed":t.t0,t.abrupt("return",e.showError("hub",c));case 15:o.error?e.showError("hub",o.error):o.data&&(s=o.data,F.images[s.id]=s,e.showBanner("hub","Review successfully posted","success")),e.emit("update-hub");case 17:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}(),e.logOut=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.logOut();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)}))),e.searchHub=function(){var t=Object(N.a)(w.a.mark((function t(a){var n,r,o,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.category,r=a.q,o=a.sort,t.next=3,V.searchHub(n,r,o);case 3:c=t.sent,console.log("found",c.length,"images"),F.hub=c,e.emit("update-hub");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.showBanner=function(t,a,n){e.bannerTimeout&&clearTimeout(e.bannerTimeout),F.banner[t]={message:String(a),theme:n},e.bannerTimeout=setTimeout(e.hideBanner,5e3),e.emit("update-ui")},e.hideBanner=function(){F.banner={logs:!1,flow:!1},e.emit("update-ui")},e.showError=function(t,a){e.showBanner(t,a,"error")},e.showModal=function(t){var a=t.modal,n=t.params;F.modal=a,F.modalParams=n,e.emit("update-ui")},e.closeModal=function(){F.modal=!1,F.modalParams="",e.emit("update-ui")},e.getCurrentTab=function(){return F.currentTab},e.getUser=function(){return F.user},e.getHubImages=function(){return F.hub},e.getHubImage=function(){var e=Object(N.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F.images[t]){e.next=4;break}return e.next=3,V.getImage(t);case 3:F.images[t]=e.sent;case 4:return e.abrupt("return",F.images[t]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.getSettings=function(){return F.settings},e.getBanner=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"logs";return F.banner[e]},e.getModal=function(){return F.modal},e.getModalParams=function(){return F.modalParams},e.getLogs=function(){return F.logs},e.getLogSources=function(){return F.logSources},e.getLogLevels=function(){return F.logLevels},e.getSummaryCharts=function(){return F.summaryCharts},e.getOccurencesByName=function(){return F.occurences.current},e.getTaskData=function(){return F.taskData},e.getActivePanel=function(){var e=window.location.hash.substring(2,window.location.hash.length);return e.startsWith("flow")?"flow":e.startsWith("logs")?"logs":e.startsWith("hub")||e.startsWith("package")?"hub":e.startsWith("task")?"task":"neither"},e.getConnectionStatus=function(){var t=e.getActivePanel();return F.connected[t]},e.isLoading=function(){return F.loading},e.getFlowchart=function(){return F.flowchart},e.getAvailableProperties=function(){return q},e.getIndexedLog=function(){return F.logIndex},E.register(e.registerActions),e.init(),e}return Object(O.a)(a,[{key:"reconnect",value:function(){this.init()}},{key:"toggleSidebar",value:function(){F.menuVisible=!F.menuVisible,this.emit("update-ui")}},{key:"getMenuState",value:function(){return F.menuVisible}},{key:"getSidebarItems",value:function(){return F.navItems}}]),a}(_.EventEmitter)),X=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={},e.style={overlay:{backgroundColor:"rgba(38, 50, 56, 0.5)"},content:{border:"none",bottom:"auto",maxHeight:"80%",left:"50%",padding:"2rem",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)",width:"90%",maxWidth:"800px",overflow:"hidden"}},e.listenForEnter=function(t){13===parseInt(t.charCode)&&e.importYAML()},e.importYAML=function(){var t=e.inputRef.value;E.dispatch({actionType:j.a.IMPORT_CUSTOM_YAML,payload:t})},e.close=function(){E.dispatch({actionType:j.a.CLOSE_MODAL})},e.render=function(){var t=e.props.open;return r.a.createElement(y.a,{ariaHideApp:!1,isOpen:t,contentLabel:"Action Modal",className:"modal-content tiny-modal px-4 pt-3 pb-4",shouldCloseOnOverlayClick:!0,style:e.style,onRequestClose:e.close,closeTimeoutMS:100},r.a.createElement("div",{className:"modal-header p-0"},r.a.createElement("h4",null,r.a.createElement("b",null,"Import YAML")),r.a.createElement("h4",null,r.a.createElement("span",{className:"float-right close-icon"},r.a.createElement("i",{className:"material-icons",onClick:e.close},"close")))),r.a.createElement("div",{className:"modal-body px-0 pb-0"},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Custom YAML:"),r.a.createElement(f.a.Control,{placeholder:"Paste Here",ref:function(t){return e.inputRef=t},as:"textarea",rows:"10"}))),r.a.createElement(b.a,{className:"btn-primary",onClick:e.importYAML},"Continue"))},e}return a}(n.Component),K=(r.a.Component,a(2)),Z=a(4),ee=a.n(Z),te=function(){return r.a.createElement("div",{className:"main-navbar__search w-100 d-none d-md-flex d-lg-flex"})},ae=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={connected:$.getConnectionStatus()},e.componentWillMount=function(){$.on("update-ui",e.getData)},e.componentWillUnmount=function(){$.removeListener("update-ui",e.getData)},e.getData=function(){var t=$.getConnectionStatus();e.setState({connected:t})},e.reconnect=function(){E.dispatch({actionType:j.a.RECONNECT})},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.state.connected;return r.a.createElement(K.u,{className:"border-right dropdown notifications",onClick:this.reconnect},r.a.createElement(K.v,{className:"nav-link-icon text-center",onClick:this.toggleNotifications},r.a.createElement("div",{className:"nav-link-icon__wrapper"},r.a.createElement("i",{className:"material-icons"},"language"),e?r.a.createElement(K.a,{pill:!0,theme:"success",className:"connection-indicator p-1"},r.a.createElement("i",{className:"material-icons"},"done")):r.a.createElement(K.a,{pill:!0,theme:"danger",className:"connection-indicator p-1"},r.a.createElement("i",{className:"material-icons"},"close")))))}}]),a}(r.a.Component),ne=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,user:$.getUser()},e.componentWillMount=function(){$.on("update-user",e.getData)},e.componentWillUnmount=function(){$.removeListener("update-user",e.getData)},e.getData=function(){var t=$.getUser();e.setState({user:t})},e.toggleUserActions=function(){e.setState({visible:!e.state.visible})},e.logOut=function(){E.dispatch({actionType:j.a.LOG_OUT})},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.state.user;return r.a.createElement(K.u,{tag:K.j,caret:!0,toggle:this.toggleUserActions},e?r.a.createElement(K.m,{caret:!0,tag:K.v,className:"text-nowrap px-3"},r.a.createElement("img",{className:"user-avatar rounded-circle mr-2",src:e._json.avatar_url,alt:"User Avatar"})," ",r.a.createElement("span",{className:"d-none d-md-inline-block"},e.username)):r.a.createElement(s.b,{to:"/login",className:"nav-link px-3"},r.a.createElement(K.b,{className:"text-nowrap mb-0 mt-1"},"Log in")),r.a.createElement(K.h,{tag:K.l,right:!0,small:!0,open:this.state.visible},r.a.createElement(K.k,{tag:s.b,to:"/",className:"text-danger",onClick:this.logOut},r.a.createElement("i",{className:"material-icons text-danger"},"\ue879")," Logout")))}}]),a}(r.a.Component),re=function(){return r.a.createElement(K.t,{navbar:!0,className:"border-left flex-row"},r.a.createElement(ae,null),r.a.createElement(ne,null))},oe=a(36),ce=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(oe.a)(n)),n}return Object(O.a)(a,[{key:"handleClick",value:function(){E.dispatch({actionType:j.a.TOGGLE_SIDEBAR})}},{key:"render",value:function(){return r.a.createElement("nav",{className:"nav cursor-pointer"},r.a.createElement("span",{onClick:this.handleClick,className:"nav-link nav-link-icon toggle-sidebar d-sm-inline d-md-inline d-lg-none text-center"},r.a.createElement("i",{className:"material-icons"},"\ue5d2")))}}]),a}(r.a.Component),se=function(e){e.layout,e.stickyTop;var t=ee()("main-navbar","bg-white","sticky-top");return r.a.createElement("div",{className:t},r.a.createElement(K.i,{fluid:!0,className:"p-0"},r.a.createElement(K.w,{type:"light",className:"align-items-stretch flex-md-nowrap p-0"},!1,r.a.createElement(te,null),r.a.createElement(re,null),r.a.createElement(ce,null))))},le=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleToggleSidebar=a.handleToggleSidebar.bind(Object(oe.a)(a)),a}return Object(O.a)(n,[{key:"handleToggleSidebar",value:function(){E.dispatch({actionType:j.a.TOGGLE_SIDEBAR})}},{key:"render",value:function(){return r.a.createElement("div",{className:"main-navbar"},r.a.createElement(K.w,{className:"align-items-stretch bg-white flex-md-nowrap border-bottom p-0",type:"light"},r.a.createElement(K.x,{className:"w-100 mr-0",href:"#",style:{lineHeight:"25px"}},r.a.createElement("div",{className:"d-table m-auto"},r.a.createElement("img",{id:"main-logo",className:"d-inline-block align-top",style:{maxWidth:"50px"},src:a(114),alt:"Jina Dashboard"}))),r.a.createElement("a",{className:"toggle-sidebar d-sm-inline d-md-none d-lg-none",onClick:this.handleToggleSidebar},r.a.createElement("i",{className:"material-icons"},"\ue5c4"))))}}]),n}(r.a.Component),ie=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).toggleDropdown=n.toggleDropdown.bind(Object(oe.a)(n)),n}return Object(O.a)(a,[{key:"toggleDropdown",value:function(e){E.dispatch({actionType:j.a.TOGGLE_SIDEBAR_DROPDOWN,payload:e})}},{key:"render",value:function(){var e=this,t=this.props.item,a=t.items&&t.items.length,n=window.location.hash.substring(2,window.location.hash.length),o=!1;return t.matches.forEach((function(e){n.startsWith(e)&&(o=!0)})),r.a.createElement(K.u,{style:{position:"relative"}},r.a.createElement(K.v,{className:a&&"dropdown-toggle",tag:a?"a":s.c,to:a?"#":t.to,active:o,onClick:function(){return e.toggleDropdown(t)}},t.htmlBefore&&r.a.createElement("div",{className:"d-inline-block item-icon-wrapper",dangerouslySetInnerHTML:{__html:t.htmlBefore}}),t.title&&r.a.createElement("span",null,t.title),t.htmlAfter&&r.a.createElement("div",{className:"d-inline-block item-icon-wrapper",dangerouslySetInnerHTML:{__html:t.htmlAfter}})),a&&r.a.createElement(K.h,{tag:K.l,small:!0,open:t.open,style:{top:0}},t.items.map((function(e,t){return r.a.createElement(K.k,{key:t,tag:s.c,to:e.to},e.title)}))))}}]),a}(r.a.Component),me=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={navItems:$.getSidebarItems()},n.onChange=n.onChange.bind(Object(oe.a)(n)),n}return Object(O.a)(a,[{key:"componentWillMount",value:function(){$.on("update-ui",this.onChange)}},{key:"componentWillUnmount",value:function(){$.removeListener("update-ui",this.onChange)}},{key:"onChange",value:function(){this.setState(Object(S.a)(Object(S.a)({},this.state),{},{navItems:$.getSidebarItems()}))}},{key:"render",value:function(){var e=this.state.navItems;return r.a.createElement("div",{className:"nav-wrapper"},e.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("h6",{className:"main-sidebar__nav-title"},e.title),"undefined"!==typeof e.items&&e.items.length&&r.a.createElement(K.t,{className:"nav--no-borders flex-column"},e.items.map((function(e,t){return r.a.createElement(ie,{key:t,item:e})}))))})))}}]),a}(r.a.Component),ue=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={menuVisible:!1,sidebarNavItems:$.getSidebarItems()},n.onChange=n.onChange.bind(Object(oe.a)(n)),n}return Object(O.a)(a,[{key:"componentWillMount",value:function(){$.on("update-ui",this.onChange)}},{key:"componentWillUnmount",value:function(){$.removeListener("update-ui",this.onChange)}},{key:"onChange",value:function(){this.setState(Object(S.a)(Object(S.a)({},this.state),{},{menuVisible:$.getMenuState(),sidebarNavItems:$.getSidebarItems()}))}},{key:"render",value:function(){var e=ee()("main-sidebar","px-0","col-12",this.state.menuVisible&&"open");return r.a.createElement(K.g,{tag:"aside",className:e,lg:{size:2},md:{size:3}},r.a.createElement(le,{hideLogoText:this.props.hideLogoText}),r.a.createElement(me,null))}}]),a}(r.a.Component),de=function(e){e.contained;var t=e.menuItems,a=e.copyright;return r.a.createElement("footer",{className:"main-footer d-flex p-2 px-3 bg-white border-top"},r.a.createElement(K.i,{fluid:!0},r.a.createElement(K.y,null,r.a.createElement(K.t,null,t.map((function(e,t){return r.a.createElement("a",{key:t,href:e.to,className:"nav-link"},e.title)}))),r.a.createElement("span",{className:"copyright ml-auto my-auto mr-2"},a))))};de.defaultProps={contained:!1,copyright:"Copyright \xa9 Jina AI Limited",menuItems:[{title:"Home",to:"https://jina.ai"},{title:"Opensource",to:"https://opensource.jina.ai"},{title:"Learn",to:"https://docs.jina.ai"},{title:"Community",to:"https://twitter.com/JinaAI_"},{title:"Jobs",to:"https://www.linkedin.com/company/jinaai/jobs/"},{title:"Privacy & Terms",to:"https://github.com/jina-ai/legal"}]};var pe=de,he=function(e){var t=e.children,a=e.noNavbar,n=e.noFooter;return r.a.createElement(K.i,{fluid:!0},r.a.createElement(K.y,null,r.a.createElement(ue,null),r.a.createElement(K.g,{className:"main-content p-0",lg:{size:10,offset:2},md:{size:9,offset:3},sm:"12",tag:"main"},!a&&r.a.createElement(se,null),t,!n&&r.a.createElement(pe,null))))},ge=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).acceptCookies=function(){localStorage.setItem("accepted-cookies",!0),e.setState({accepted:!0})},e.render=function(){var t=e.state.accepted;return r.a.createElement("div",{className:"cookies-banner ".concat(t?"hidden":"")},r.a.createElement("p",{className:"mb-2"},'We and third parties use cookies or similar technologies ("Cookies") as described below to collect and process personal data, such as your IP address or browser information. You can learn more about how this site uses Cookies by reading our privacy policy linked below. By clicking "I consent to cookies", you accept the placement and use of these Cookies for these purposes. You can change your mind and revisit your preferences at any time by accessing the \u201cCookie Preferences\u201d link in the footer of this site.'),r.a.createElement(b.a,{className:"ml-auto d-block",onClick:e.acceptCookies},"I consent to cookies"))},e.state={accepted:localStorage.getItem("accepted-cookies")},e}return a}(r.a.Component),fe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={},e.style={overlay:{backgroundColor:"rgba(38, 50, 56, 0.5)"},content:{border:"none",bottom:"auto",maxHeight:"80%",left:"50%",padding:"2rem",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)",width:"90%",maxWidth:"800px",overflow:"hidden"}},e.listenForEnter=function(t){13===parseInt(t.charCode)&&e.importYAML()},e.submitReview=function(){var t=$.getModalParams().imageId,a=e.inputRef.value;E.dispatch({actionType:j.a.POST_REVIEW,payload:{content:a,imageId:t}})},e.close=function(){E.dispatch({actionType:j.a.CLOSE_MODAL})},e.render=function(){var t=e.props.open;return r.a.createElement(y.a,{ariaHideApp:!1,isOpen:t,contentLabel:"Action Modal",className:"modal-content tiny-modal px-4 pt-3 pb-4",shouldCloseOnOverlayClick:!0,style:e.style,onRequestClose:e.close,closeTimeoutMS:100},r.a.createElement("div",{className:"modal-header p-0"},r.a.createElement("h4",null,r.a.createElement("b",null,"Write a Review")),r.a.createElement("h4",null,r.a.createElement("span",{className:"float-right close-icon"},r.a.createElement("i",{className:"material-icons",onClick:e.close},"close")))),r.a.createElement("div",{className:"modal-body px-0 pb-0"},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Control,{placeholder:"Tell the world about your experience",ref:function(t){return e.inputRef=t},as:"textarea",rows:"10"}))),r.a.createElement(b.a,{className:"btn-primary",onClick:e.submitReview},"Submit"))},e}return a}(n.Component),be=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={modal:$.getModal(),loading:$.isLoading()},e.componentWillMount=function(){$.on("update-ui",e.getData)},e.componentWillUnmount=function(){$.removeListener("update-ui",e.getData)},e.getData=function(){var t=$.getModal(),a=$.isLoading();e.setState({modal:t,loading:a})},e.render=function(){var t=e.state.modal,a=e.props,n=a.noNavbar,o=a.children,c=a.noFooter;return r.a.createElement(K.i,{fluid:!0,className:"icon-sidebar-nav"},r.a.createElement(K.y,null,r.a.createElement(ue,{hideLogoText:!0}),r.a.createElement(K.g,{className:"main-content col",tag:"main"},!n&&r.a.createElement(se,null),o,r.a.createElement(ge,null),!c&&r.a.createElement(pe,null))),r.a.createElement(X,{open:"import"===t}),r.a.createElement(fe,{open:"review"===t}))},e}return a}(r.a.Component);be.defaultProps={noNavbar:!1,noFooter:!1};var ve=be,ye=a(95),Ee=a(40),ke=a(64),we=a(209),Ne=function(e){var t=e.title,a=e.subtitle,n=e.className,o=Object(we.a)(e,["title","subtitle","className"]),c=ee()(n,"text-center","text-md-left","mb-sm-0");return r.a.createElement(K.g,Object.assign({xs:"12",sm:"3",className:c},o),r.a.createElement("span",{className:"text-uppercase page-subtitle"},a),r.a.createElement("h3",{className:"page-title"},t))},xe=a(197),Oe=a.n(xe),_e=a(597),Ce=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).render=function(){return r.a.createElement("div",{className:"command-bar-container"},r.a.createElement("div",{className:"command-bar"},r.a.createElement(_e.a,null,r.a.createElement(b.a,{variant:"secondary",disabled:!0},r.a.createElement("i",{className:"material-icons"},"play_arrow")),r.a.createElement(b.a,{variant:"secondary",disabled:!0},r.a.createElement("i",{className:"material-icons"},"stop")),r.a.createElement(b.a,{variant:"secondary",disabled:!0},r.a.createElement("i",{className:"material-icons"},"schedule")),r.a.createElement(b.a,{variant:"secondary",onClick:e.props.importChart},r.a.createElement("i",{className:"material-icons"},"save_alt")),r.a.createElement(b.a,{variant:"secondary",onClick:e.props.copyChart},r.a.createElement("i",{className:"material-icons"},"assignment")),r.a.createElement(b.a,{variant:"secondary",onClick:function(){return e.props.exportImage("png")}},r.a.createElement("i",{className:"material-icons"},"camera_alt")))))},e}return a}(r.a.Component),je=a(598),Se=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).getPropertiesString=function(){var t=e.props.node.properties||{},a="";return Object.keys(t).forEach((function(e){a=a.concat("pod-".concat(e,"-").concat(t[e]," "))})),a},e.getIcons=function(){var t=e.props.node.properties,a=[];return Object.keys(t).forEach((function(e){"image"===e&&t[e]&&a.push(r.a.createElement("span",{className:"fab fa-docker mx-1"})),"num_part"===e&&t[e]&&a.push(r.a.createElement("span",{className:"fas fa-code-branch mx-1"})),"read_only"===e&&t[e]&&a.push(r.a.createElement("span",{className:"fas fa-lock mx-1"})),"host"===e&&t[e]&&a.push(r.a.createElement("span",{className:"fas fa-network-wired mx-1"})),"separated_workspace"===e&&t[e]&&a.push(r.a.createElement("span",{className:"fas fa-columns mx-1"})),"py_modules"===e&&t[e]&&a.push(r.a.createElement("span",{className:"fab fa-python mx-1"}))})),a},e.getPropertiesList=function(){var t=e.props.node.properties,a=[];return Object.keys(t).forEach((function(e){t[e]&&"name"!==e&&a.push(r.a.createElement("div",null,r.a.createElement("span",{className:"text-bold mr-1"},e,":"),t[e]))})),a},e.render=function(){var t=e.props.node,a=t.label,n=t.properties,o=e.getPropertiesList(),c=Object.keys(n).length>0,s="gateway"===a,l="undefined"===typeof a?n.name:a||"";return r.a.createElement("div",{className:"chart-node ".concat(s?"gateway":""),id:"chart-node-".concat(a)},r.a.createElement("div",{className:"node-header"},r.a.createElement("div",{className:"p-1 ".concat(c?"special":"")},r.a.createElement("p",{className:"m-1"},r.a.createElement("span",{className:"text-bold"},l||r.a.createElement("span",{className:"text-warning"},"Empty Pod")),r.a.createElement(je.a,{variant:"primary",className:"ml-2 mt-1 py-1 px-2"},n.replicas)))),o.length>0&&r.a.createElement("div",{className:"node-info border-top px-2"},o))},e}return a}(r.a.Component),Le=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).render=function(){var e=r.props,t=e.label,a=e.ports,o=e.properties;return n.createElement("div",{ref:r.ref,className:"mb-3 draggable-container",draggable:!0,onDragStart:function(e){e.dataTransfer.setData(Ee.REACT_FLOW_CHART,JSON.stringify({label:t,ports:a,properties:o,type:"hello world"}))}},n.createElement(Se,{node:{properties:o}}))},r.ref=n.createRef(),r}return a}(n.Component),Ae=a(198),Ie=a(96),Re=a.n(Ie),Te=a(188),De=a(604),Me=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={availableProperties:$.getAvailableProperties(),node:{},searchResults:[],searchQuery:""},e.componentWillReceiveProps=function(t){var a=t.chart,n=a.selected,r=a.nodes,o=n.id,c=n.type;if(o!==e.state.node.id&&(e.setState({searchResults:[],searchQuery:""}),console.log("test"),o&&"node"===c&&o!==e.state.node.id)){var s=r[o];e.setInitialNode(s)}},e.setInitialNode=function(t){console.log("setInititailNode:",t);var a={},n=t.label;Object.keys(t.properties).forEach((function(e){a[e]=t.properties[e]})),e.setState({node:{label:n,id:t.id,properties:a,newProperties:{}}})},e.updateLabel=function(t){e.setState((function(e){var a=e.node;return a.label=t,{node:a}}),e.saveChanges)},e.updateExistingValue=function(t,a){e.setState((function(e){var n=e.node;return n.properties[t]=a,{node:n}}),e.saveChanges)},e.updateNewValue=function(t,a){e.setState((function(e){var n=e.node;return n.newProperties[t]=a,{node:n}}),e.saveChanges)},e.saveChanges=function(){var t=e.state.node;e.props.updateNode(t),console.log("save changes: ",t)},e.updateSearchQuery=function(t){e.setState({searchQuery:t.target.value},e.searchProperties)},e.searchProperties=function(){var t=e.state.searchQuery;if(console.log("search query: ",t),!t)return e.setState({searchResults:!1});e.indexProperties();var a=e.index.search("".concat(t," ").concat(t,"*"));e.setState({searchResults:a}),console.log("search results: ",a)},e.indexProperties=function(){var t=e.state.availableProperties;console.log("indexing",t.length,"properties for search"),e.index=Re()((function(){var e=this;this.field("name"),t.forEach((function(t,a){t.id=parseInt(a),e.add(t)}))}))},e.renderEditNode=function(){var t=e.state,a=t.availableProperties,n=t.node,o=t.searchQuery,c=t.searchResults,s="undefined"===typeof n.label?n.properties.name:n.label||"";return r.a.createElement("div",{className:"h-100 d-flex flex-column"},r.a.createElement("div",{className:"p-2 mb-1"},r.a.createElement("p",{className:"mb-1"},r.a.createElement("b",null,"Pod Name")),r.a.createElement(Te.a,{spellCheck:!1,value:s,onChange:function(t){return e.updateLabel(t.target.value)},className:"pod-name-input"})),r.a.createElement("p",{className:"mb-0 px-2"},r.a.createElement("b",null,"Properties")),r.a.createElement("div",{className:"m-2"},r.a.createElement(Te.a,{spellCheck:!1,placeholder:"search properties...",value:o,onChange:e.updateSearchQuery})),r.a.createElement("div",{className:"property-table flex-fill mx-2"},o&&c?c.map((function(t){var o=a[t.ref],c=o.name,s=o.type,l=n.properties[c];return"undefined"==typeof l?r.a.createElement("div",{key:c,className:"property-item mb-2"},r.a.createElement("p",{className:"property-label mb-1"},c),r.a.createElement(Te.a,{spellCheck:!1,placeholder:s,value:n.newProperties[c]||"",onChange:function(t){return e.updateNewValue(c,t.target.value)},className:"property-value-input"})):r.a.createElement("div",{key:c,className:"property-item mb-2"},r.a.createElement("p",{className:"property-label mb-1"},c),r.a.createElement(Te.a,{spellCheck:!1,value:l||"",onChange:function(t){return e.updateExistingValue(c,t.target.value)},className:"property-value-input"}))})):r.a.createElement("div",null,Object.keys(n.properties).map((function(t){var a=n.properties[t];return"name"===t?"":r.a.createElement("div",{key:t,className:"property-item mb-2"},r.a.createElement("p",{className:"property-label mb-1"},t),r.a.createElement(Te.a,{spellCheck:!1,value:a||"",onChange:function(a){return e.updateExistingValue(t,a.target.value)},className:"property-value-input"}))})),a.map((function(t){return"undefined"==typeof n.properties[t.name]?r.a.createElement("div",{key:t.name,className:"property-item mb-2"},r.a.createElement("p",{className:"property-label mb-1"},t.name),r.a.createElement(Te.a,{spellCheck:!1,placeholder:t.type,value:n.newProperties[t.name]||"",onChange:function(a){return e.updateNewValue(t.name,a.target.value)},className:"property-value-input"})):""})))),r.a.createElement("div",{className:"p-2"},r.a.createElement(b.a,{variant:"danger",className:"w-100",onClick:e.props.deleteSelection},"Delete Pod")))},e.renderEditLink=function(t){var a=e.props.chart,n=a.nodes,o=a.links,c=n[t.from.nodeId],s=n[t.to.nodeId],l=Object.keys(n).map((function(e){return{label:n[e].label||n[e].properties.name,id:e}}));return console.log("links:",o,"\nlink:",t,"\nnodes:",n),r.a.createElement("div",{className:"h-100 d-flex flex-column"},r.a.createElement("h5",{className:"px-3 py-2 mb-0 border-bottom"},r.a.createElement("b",null,"Edit Connection")),r.a.createElement("div",{className:"flex-fill px-2"},r.a.createElement("div",{className:"p-2 mb-1"},r.a.createElement("p",{className:"mb-1"},r.a.createElement("b",null,"From")),r.a.createElement(Te.a,{className:"mb-2",as:"select",onChange:function(a){return e.props.updateLink(t.id,a.target.value,s.id)},value:c.id},l.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.label)}))),r.a.createElement("p",{className:"mb-1"},r.a.createElement("b",null,"To")),r.a.createElement(Te.a,{className:"mb-2",as:"select",onChange:function(a){return e.props.updateLink(t.id,c.id,a.target.value)},value:s.id},l.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.label)}))))),r.a.createElement("div",{className:"p-2"},r.a.createElement(b.a,{variant:"danger",className:"w-100",onClick:e.props.deleteSelection},"Delete Connection")))},e.renderPodMenu=function(){return r.a.createElement("div",{className:"d-flex flex-column h-100"},r.a.createElement("h5",{className:"px-3 py-2 mb-0 border-bottom"},r.a.createElement("b",null,"Add Pods")),r.a.createElement("div",{className:"p-3 scrollable flex-fill"},r.a.createElement(Le,{ports:{inPort:{id:"inPort",type:"input"},outPort:{id:"outPort",type:"output"}},properties:{}}),Ae.map((function(e){return r.a.createElement(Le,{ports:{inPort:{id:"inPort",type:"input"},outPort:{id:"outPort",type:"output"}},properties:e})}))))},e.render=function(){var t=e.props.chart,a=t.selected,n=t.nodes,o=t.links,c=Object.keys(a).length>0;return r.a.createElement(De.a,{className:"flowchart-sidebar mb-4"},c?"link"===a.type?e.renderEditLink(o[a.id],n):e.renderEditNode(n[a.id]):e.renderPodMenu())},e}return a}(r.a.Component),Pe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).render=function(){return r.a.createElement("div",{className:"node-port"},r.a.createElement("i",{className:"fa fa-chevron-down","data-html2canvas-ignore":"true"}))},e}return a}(r.a.Component),Be=a(599),We=a(206),Fe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).render=function(){return r.a.createElement("div",{className:"example-selection"},r.a.createElement(Be.a,{as:_e.a,title:"Load Example",id:"bg-nested-dropdown"},r.a.createElement(We.a.Item,{onClick:function(){return e.props.loadExample("pokedex")}},"Pokedex Query"),r.a.createElement(We.a.Item,{onClick:function(){return e.props.loadExample("southpark")}},"South Park Query"),r.a.createElement(We.a.Item,{onClick:function(){return e.props.loadExample("flower")}},"Flower Search Query")))},e}return a}(r.a.Component),He=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).componentWillMount=function(){$.on("update-flowchart",n.getData),$.on("update-ui",n.getBanner)},n.componentDidMount=function(){},n.componentWillUnmount=function(){$.removeListener("update-flowchart",n.getData),$.removeListener("update-ui",n.getBanner)},n.exportImage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"png";document.querySelector(".capture-overlay").classList.add("fade-out"),n.showCaptureOverlay(),setTimeout((function(){return n.showCaptureOverlay(!1)}),500);var t={foreignObjectRendering:!0,logging:!0,x:0,y:0,scrollX:0,scrollY:0,scale:5};Oe()(document.querySelector(".chart-container"),t).then((function(t){var a=t.toDataURL("image/".concat(e)),n=document.getElementById("download-link");n.setAttribute("download","jina-flow-visual.".concat(e)),n.setAttribute("href",a),n.click()}))},n.showCaptureOverlay=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({showOverlay:e})},n.getData=function(){var e=$.getFlowchart();n.updateChart(e)},n.getBanner=function(){var e=$.getBanner("flow");n.setState({banner:e})},n.updateNode=function(e,t){var a=n.state.chart,r=Object(ye.cloneDeep)(a);console.log("newChart: ",r),r.nodes[e.id].label=e.label;var o=Object(S.a)(Object(S.a)({},e.properties),e.newProperties);return Object.keys(o).forEach((function(e){""!==o[e]&&"undefined"!==typeof o[e]||delete o[e]})),r.nodes[e.id].properties=o,n.updateChart(Object(S.a)(Object(S.a)({},a),r)),r.nodes[e.id]},n.updateLink=function(e,t,a){if(t!==a){var r=n.state.chart,o=Object(ye.cloneDeep)(r);o.links[e].from.nodeId=t,o.links[e].to.nodeId=a,n.updateChart(Object(S.a)(Object(S.a)({},r),o))}},n.cancelChanges=function(){n.stateActionCallbacks.onCanvasClick({})},n.deleteSelection=function(){n.stateActionCallbacks.onDeleteKey({})},n.updateChart=function(e){n.setState({chart:e})},n.selectNode=function(e){E.dispatch({actionType:j.a.SELECT_NODE,payload:e.nodeId})},n.copyChartAsYAML=function(){T(function(e){console.log("formatAsYAML input: ",e);var t={with:e.with||{},pods:{}};return t.with.board={canvas:{}},Object.keys(e.nodes).forEach((function(t){var a=e.nodes[t];a.label=a.label||a.properties.name,a.properties.name&&delete a.properties.name})),Object.keys(e.nodes).forEach((function(a){var n=e.nodes[a];n.label&&(t.pods[n.label]={},Object.keys(n.properties).forEach((function(e){var a=R[e];t.pods[n.label][e]="bool"===a?"true"===String(n.properties[e]):"int"===a?parseInt(n.properties[e]):n.properties[e]})),t.with.board.canvas[n.label]={x:n.position.x,y:n.position.y})})),Object.keys(e.links).forEach((function(a){var n=e.links[a],r=e.nodes[n.from.nodeId].label,o=e.nodes[n.to.nodeId].label;r&&o&&(t.pods[o].needs?(Array.isArray(t.pods[o].needs)||(t.pods[o].needs=[t.pods[o].needs]),t.pods[o].needs.push(r)):t.pods[o].needs=r)})),"!Flow\n".concat(L.stringify(t))}(n.state.chart)),alert("Chart copied to clipboard as YAML")},n.validateLink=function(e){var t=e.fromNodeId,a=e.toNodeId,n=e.fromPortId,r=e.toPortId;e.chart;return"outPort"===n&&"inPort"===r&&t!==a},n.showImportModal=function(){E.dispatch({actionType:j.a.SHOW_MODAL,payload:{modal:"import"}})},n.loadExample=function(e){E.dispatch({actionType:j.a.LOAD_EXAMPLE,payload:e})},n.render=function(){var e=n.state,t=e.chart,a=e.banner,o=e.showOverlay;return r.a.createElement(K.i,{fluid:!0,className:"main-content-container px-0"},a&&r.a.createElement("div",{className:"mr-4"},r.a.createElement("div",{className:"mb-0 banner px-4 banner-".concat(a.theme)},a.message)),r.a.createElement("div",{className:"px-4"},r.a.createElement("a",{href:"/#",id:"download-link",style:{display:"none"}},"download"),r.a.createElement(K.y,{noGutters:!0,className:"page-header py-4"},r.a.createElement(Ne,{title:"Flow Design",subtitle:"Network",className:"text-sm-left mb-3"})),r.a.createElement("div",{className:"flow-container d-flex flex-column flex-md-row"},r.a.createElement(K.d,{className:"chart-section-container p-1 mr-md-4 mb-4"},r.a.createElement(Fe,{loadExample:n.loadExample}),r.a.createElement(Ce,{copyChart:n.copyChartAsYAML,importChart:n.showImportModal,exportImage:n.exportImage}),r.a.createElement("div",{className:"chart-container"},r.a.createElement("div",{className:"capture-overlay",style:{display:o?"":"none"}},r.a.createElement("div",{className:"capture-overlay-top"}),r.a.createElement("div",{className:"capture-overlay-bottom"})),r.a.createElement(Ee.FlowChart,{chart:t,Components:{NodeInner:Se,Port:Pe},callbacks:n.stateActionCallbacks,config:{validateLink:n.validateLink}}))),r.a.createElement(Me,{chart:t,cancelChanges:n.cancelChanges,deleteSelection:n.deleteSelection,updateNode:n.updateNode,updateLink:n.updateLink}))))};var o=$.getFlowchart(),c=$.getBanner("flow");return n.state={chart:o,banner:c,showOverlay:!1},console.log("actions:",ke),n.stateActionCallbacks=Object.keys(ke).reduce((function(e,t,a){return e[t]=function(){var e=n.state.chart,a=ke[t],r=a.apply(void 0,arguments),o=r(e);return n.updateChart(Object(S.a)(Object(S.a)({},e),o)),o},e}),{}),n}return a}(r.a.Component),Ue=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).render=function(){var t=e.props,a=t.data,n=t.showPodInFlow,o=a.name,c=a.msg,s=a.levelname,l=a.process,i=a.formattedTimestamp,m=a.idx,u=a.pod,d=String(o);d=d.length>20?d.substring(0,20):d;var g=String(s)[0];return r.a.createElement("div",{className:"log log-".concat(String(s).toLowerCase()," px-4 border-bottom py-1")},r.a.createElement(p.a,null,r.a.createElement(h.a,{lg:"2",md:"3",className:"log-prefix text-muted px-0 d-flex flex-row"},r.a.createElement("div",{className:"text-bold mr-2"},m),r.a.createElement("div",{className:"ml-auto"},i)),r.a.createElement(h.a,{lg:"3",md:"4",className:"log-prefix px-0 text-left text-md-right text-bold cursor-pointer",onClick:function(){return n(u)}},d,"@",l,"[",g,"]:"),r.a.createElement(h.a,{sm:"12",md:"5",lg:"7",className:"px-0"},c)))},e}return a}(r.a.Component),Ge=a(203),Ye=a(140),Ve=a.n(Ye),qe=a(141),ze=a.n(qe),Je=a(79),Qe=a.n(Je),$e=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o)))._cache=new Je.CellMeasurerCache({defaultHeight:10,fixedWidth:!0}),e._resultsCache=new Je.CellMeasurerCache({defaultHeight:10,fixedWidth:!0}),e._mostRecentWidth=0,e._mostRecentHeight=0,e._resizeAllFlag=!1,e._startIndex=0,e._scrollIndex=0,e._scrollTop=0,e._scrolledToBottom=!0,e.state={allLogs:$.getLogs(),logs:$.getLogs(),sources:$.getLogSources(),levels:$.getLogLevels(),searchQuery:"",prevQuery:"",results:[],showHelper:!1,selectedSource:!1,selectedLevel:!1},e.componentWillMount=function(){$.on("update-logs",e.getData),$.on("show-log",e.getIndexedLog)},e.componentWillUnmount=function(){$.removeListener("update-logs",e.getData),$.removeListener("show-log",e.getIndexedLog)},e.downloadLogs=function(t){var a=e.state.allLogs,n="";"json"===t?n="[\n":"csv"===t&&(n="created,formatted timestamp,name,process,level name,message,filename,line number,module,funcname,pathname\n");for(var r=0;r<a.length;++r){var o=a[r];n+="json"===t?JSON.stringify(a[r])+"".concat(r<a.length-1?",":"","\n"):"csv"===t?"".concat(o.created,',"').concat(o.formattedTimestamp,'",').concat(o.name,",").concat(o.process,",").concat(o.levelname,',"').concat(o.msg,'",').concat(o.filename,",").concat(o.lineno,",").concat(o.module,",").concat(o.funcname,",").concat(o.pathname,"\n"):"".concat(o.formattedTimestamp," ").concat(o.name,"@").concat(o.process," [").concat(o.levelname,"]: ").concat(o.msg,"\n")}"json"===t&&(n+="]");var c="jina-logs-".concat(new Date,".").concat(t),s=new Blob([n],{type:"text,plain;charset=utf-8"});Object(Ge.saveAs)(s,c)},e.componentDidMount=function(){setTimeout((function(){e._list&&(e._resizeAll(),e.backToBottom())}),1)},e.getData=function(){var t=$.getLogs(),a=$.getLogSources(),n=$.getLogLevels();e.setState({sources:a,levels:n,allLogs:t},e.filterLogs),e._scrolledToBottom&&e._list&&e.scrollToBottom()},e.getIndexedLog=function(){var t=$.getIndexedLog(),a=e.state.allLogs;e.setState({selectedSource:!1,selectedLevel:!1,logs:a}),console.log("scrolling to index: ",t),e.scrollToLog(t)},e.filterLogs=function(){var t=e.state,a=t.allLogs,n=t.selectedSource,r=t.selectedLevel;if("false"===n&&(n=!1),"false"===r&&(r=!1),!n&&!r)return e.setState({logs:a});var o=a.filter((function(e){return n&&r?e.levelname===r&&e.name===n:n?e.name===n:!!r&&e.levelname===r}));e.setState({logs:o},e._resizeAll)},e.setSelectedSource=function(t){e.setState({selectedSource:t},e.filterLogs)},e.setSelectedLevel=function(t){e.setState({selectedLevel:t},e.filterLogs)},e.search=function(){var t=e.state.searchQuery;if(console.log("search query: ",t),!t)return e.setState({results:!1},e._resizeAll);e.indexLogs();var a=e.index.search("".concat(t,"*"));e.setState({results:a},e._resizeSearchResults),console.log("search results: ",a)},e.listenForEnter=function(t){13===parseInt(t.charCode)&&e.search()},e.indexLogs=function(){var t=e.state.logs;console.log("indexing",t.length,"logs for search"),e.index=Re()((function(){var e=this;this.field("filename"),this.field("funcName"),this.field("msg"),this.field("name"),this.field("module"),this.field("pathname"),t.forEach((function(t,a){t.id=parseInt(a),e.add(t)}))}))},e.scrollToLog=function(t){e._list.scrollToRow(t)},e.scrollToBottom=function(){e._list.scrollToRow(e.state.logs.length),e._scrolledToBottom=!0},e.scrollToBottomResults=function(){e._resultsList.scrollToRow(e.state.results.length),e._scrolledToBottom=!0},e.backToBottom=function(){e.scrollToBottom(),setTimeout(e.scrollToBottom,1)},e.updateSearchQuery=function(t){e.setState({searchQuery:t.target.value},e.search)},e.clearSearchResults=function(){e.setState({results:!1,searchQuery:""})},e.showPodInFlow=function(e){E.dispatch({actionType:j.a.SHOW_POD_IN_FLOW,payload:e})},e.renderSearchResults=function(){var t=e.state.results;return r.a.createElement(ze.a,null,(function(a){var n=a.height,o=a.width;return e._mostRecentWidth!==o&&(e._mostRecentWidth=o,setTimeout(e._resizeSearchResults,0)),e._mostRecentHeight!==n&&(e._mostRecentHeight=n,setTimeout(e._resizeSearchResults,0)),r.a.createElement(Ve.a,{width:o,height:n,ref:function(t){return e._resultsList=t},deferredMeasurementCache:e._resultsCache,rowHeight:e._resultsCache.rowHeight,rowCount:t.length,rowRenderer:e.renderSearchResultRow})}))},e.renderLogRow=function(t){var a=t.index,n=(t.isScrolling,t.key),o=t.parent,c=t.style,s=e.state.logs[a];return r.a.createElement(Qe.a,{cache:e._cache,columnIndex:0,key:n,parent:o,rowIndex:a},r.a.createElement("div",{style:Object(S.a)(Object(S.a)({},c),{},{wordBreak:"break-word"})},r.a.createElement(Ue,{showPodInFlow:e.showPodInFlow,index:a,data:s})))},e.renderSearchResultRow=function(t){var a=t.index,n=(t.isScrolling,t.key),o=t.parent,c=t.style,s=e.state.results[a],l=e.state.logs[s.ref];return r.a.createElement(Qe.a,{cache:e._resultsCache,columnIndex:0,key:n,parent:o,rowIndex:a},r.a.createElement("div",{style:Object(S.a)(Object(S.a)({},c),{},{wordBreak:"break-word"})},r.a.createElement(Ue,{showPodInFlow:e.showPodInFlow,data:l})))},e.render=function(){var t=e.state,a=t.results,n=t.searchQuery,o=t.logs,c=t.showHelper,s=t.sources,l=t.levels;return r.a.createElement(De.a,{className:"mb-4"},r.a.createElement(De.a.Header,{className:"p-3"},r.a.createElement(p.a,null,r.a.createElement(h.a,{md:"8",xs:"6"},r.a.createElement(Te.a,{as:"select",onChange:function(t){return e.setSelectedSource(t.target.value)},className:"logstream-select mb-2 mr-0 mb-md-0 mr-md-2"},r.a.createElement("option",{value:!1},"All Logs"),Object.keys(s).map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(Te.a,{as:"select",onChange:function(t){return e.setSelectedLevel(t.target.value)},className:"logstream-select mb-2 mr-0 mb-md-0 mr-md-2"},r.a.createElement("option",{value:!1},"All Levels"),Object.keys(l).map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(Be.a,{as:_e.a,title:"Download Logs",id:"bg-nested-dropdown"},r.a.createElement(We.a.Item,{onClick:function(){return e.downloadLogs("csv")}},"Download as CSV"),r.a.createElement(We.a.Item,{onClick:function(){return e.downloadLogs("json")}},"Download as JSON"),r.a.createElement(We.a.Item,{onClick:function(){return e.downloadLogs("txt")}},"Download as TXT"))),r.a.createElement(h.a,{md:"4",xs:"6"},r.a.createElement(Te.a,{placeholder:"search logs...",onKeyPress:e.listenForEnter,onChange:e.updateSearchQuery,value:n})))),r.a.createElement(De.a.Body,{className:"log-stream-container p-1 border-top",id:"log-stream-container"},n&&a?"":r.a.createElement("div",{onClick:e.backToBottom,className:"back-to-bottom ".concat(c&&"active")},r.a.createElement("i",{className:"material-icons"},"arrow_downward")," Back to Bottom"),n&&a?e.renderSearchResults():r.a.createElement(ze.a,null,(function(t){var a=t.height,n=t.width;return e._mostRecentWidth!==n&&(e._mostRecentWidth=n,setTimeout(e._resizeAll,0),setTimeout(e.backToBottom,1)),e._mostRecentHeight!==a&&(e._mostRecentHeight=a,setTimeout(e._resizeAll,0),setTimeout(e.backToBottom,1)),r.a.createElement(Ve.a,{width:n,height:a,ref:function(t){return e._list=t},deferredMeasurementCache:e._cache,rowHeight:e._cache.rowHeight,rowCount:o.length,rowRenderer:e.renderLogRow,onScroll:e._onScroll,scrollToAlignment:"center"})}))))},e._onRowsRendered=function(t,a){var n=t.startIndex;e._startIndex=n},e._onScroll=function(t){var a=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;e._scrollTop=a;var o=n-(a+r);e._scrolledToBottom=o<10,o>75&&!e.state.showHelper?e.setState({showHelper:!0}):o<=75&&e.state.showHelper&&e.setState({showHelper:!1})},e._resizeAll=function(){e._resizeAllFlag=!1,e._cache.clearAll(),e._list&&e._list.recomputeRowHeights()},e._resizeSearchResults=function(){e._resizeAllFlag=!1,e._resultsCache.clearAll(),e._resultsList&&e._resultsList.recomputeRowHeights()},e}return a}(r.a.Component),Xe=a(37),Ke=a.n(Xe),Ze={INFO:{border:"#009999",background:"rgba(0, 153, 153, 0.9)"},SUCCESS:{border:"#32c8cd",background:"rgba(50, 200, 205, 0.9)"},WARNING:{border:"#ffcc66",background:"rgba(255, 204, 102, 0.9)"},ERROR:{border:"#ff6666",background:"rgba(255, 102, 102, 0.9)"},CRITICAL:{border:"#ff4540",background:"rgba(255, 70, 64, 0.9)"},DEBUG:{border:"#6E7278",background:"rgba(110, 114, 120, 0.9)"}},et=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.renderChart()},n.renderChart=function(){var e=n.props.data,t={events:["click"],onClick:n.onClick,maintainAspectRatio:!0,responsive:!0,legend:{position:"bottom",labels:{padding:10,boxWidth:20}},tooltips:{enabled:!1,custom:!1},elements:{point:{radius:0,hitRadius:10}},scales:{xAxes:[{gridLines:!1,color:"red",ticks:{display:!1}}],yAxes:[{gridLines:{borderDash:[2.5,5],zeroLineColor:"#6c757d",drawBorder:!1,color:"#6c757d"},ticks:{padding:5,suggestedMin:0}}]}},a=Object(S.a)({onClick:n.onClick,type:"line",labels:n.getLabels(60),data:{datasets:Object.keys(e).map((function(t){var a=e[t];return{label:t,fill:"start",borderWidth:1.5,borderColor:Ze[t].border,backgroundColor:Ze[t].background,data:a}}))},options:t},n.props.chartConfig);n.chart=new Ke.a(n.canvasRef.current,a)},n.onClick=function(e){var t=n.chart.getElementsAtEvent(e);n.props.onClick(t)},n.getLabels=function(e){for(var t=[],a=0;a<e;++a)t.push(a);return t},n.updateChart=function(){var e=n.props.data,t={labels:n.getLabels(60),datasets:Object.keys(e).map((function(t){var a=e[t];return{label:t,fill:"start",borderWidth:1.5,borderColor:Ze[t].border,backgroundColor:Ze[t].background,data:a}}))};n.chart.data=t,n.chart.options.animation=!1,n.chart.update()},n.render=function(){n.canvasRef.current&&n.chart&&n.updateChart();var e=n.props,t=e.width,a=e.height;return r.a.createElement("div",{className:"graph-container"},r.a.createElement("canvas",{height:a||10,width:t||100,ref:n.canvasRef}))},n.canvasRef=r.a.createRef(),n}return a}(r.a.Component),tt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={chartData:$.getSummaryCharts()},e.componentWillMount=function(){$.on("update-summary-chart",e.getData)},e.componentWillUnmount=function(){$.removeListener("update-summary-chart",e.getData)},e.showLog=function(e){var t=e[0]&&e[0]._index;E.dispatch({actionType:j.a.SHOW_LOG_AT_INDEX,payload:t})},e.getData=function(){var t=$.getSummaryCharts();e.setState({chartData:t})},e.render=function(){var t=e.state.chartData;return r.a.createElement(De.a,{className:"h-100"},r.a.createElement(De.a.Body,{className:"d-none d-md-block pb-2"},r.a.createElement(et,{data:t,height:10,width:70,onClick:e.showLog})),r.a.createElement(De.a.Body,{className:"d-md-none pb-2"},r.a.createElement(et,{data:t,height:20,width:50,onClick:e.showLog})))},e}return a}(r.a.Component),at=[{border:"#fff",background:"rgba(0, 153, 153, 0.85)"},{border:"#fff",background:"rgba(0, 153, 153, 0.75)"},{border:"#fff",background:"rgba(0, 153, 153, 0.65)"},{border:"#fff",background:"rgba(0, 153, 153, 0.55)"},{border:"#fff",background:"rgba(0, 153, 153, 0.45)"},{border:"#fff",background:"rgba(0, 153, 153, 0.35)"},{border:"#fff",background:"rgba(0, 153, 153, 0.25)"},{border:"#fff",background:"rgba(0, 153, 153, 0.15)"},{border:"#fff",background:"rgba(0, 153, 153, 0.05)"}],nt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.renderChart()},n.getColor=function(e){for(var t=!1;!t;)at[e]?t=at[e]:e-=at.length;return t},n.renderChart=function(){var e=n.props.data,t=Object.keys(e),a=Object(S.a)({type:"pie",labels:t,data:{datasets:[{borderWidth:1,data:t.map((function(t){return e[t]})),borderColor:t.map((function(e,t){return n.getColor(t).border})),backgroundColor:t.map((function(e,t){return n.getColor(t).background}))}]},options:{legend:{display:!1,position:"bottom",labels:{padding:25,boxWidth:20}},tooltips:{custom:!1,mode:"index",position:"nearest"}}},n.props.chartConfig);n.chart=new Ke.a(n.canvasRef.current,a)},n.updateChart=function(){var e=n.props.data,t=Object.keys(e),a={labels:t,datasets:[{borderWidth:1,data:t.map((function(t){return e[t]})),borderColor:t.map((function(e,t){return n.getColor(t).border})),backgroundColor:t.map((function(e,t){return n.getColor(t).background}))}]};n.chart.data=a,n.chart.options.animation=!1,n.chart.update()},n.render=function(){n.canvasRef.current&&n.chart&&n.updateChart();var e=n.props,t=e.width,a=e.height;return r.a.createElement("div",{className:"graph-container"},r.a.createElement("canvas",{height:a||50,width:t||50,ref:n.canvasRef}))},n.canvasRef=r.a.createRef(),n}return a}(r.a.Component),rt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={chartData:$.getOccurencesByName()},e.componentWillMount=function(){$.on("update-summary-chart",e.getData)},e.componentWillUnmount=function(){$.removeListener("update-summary-chart",e.getData)},e.getData=function(){var t=$.getOccurencesByName();e.setState({chartData:t})},e.render=function(){var t=e.state.chartData;return r.a.createElement(De.a,{className:"h-100"},r.a.createElement(De.a.Body,null,r.a.createElement(nt,{data:t})))},e}return a}(r.a.Component),ot=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={banner:$.getBanner("logs")},e.componentWillMount=function(){$.on("update-ui",e.getData)},e.componentWillUnmount=function(){$.removeListener("update-ui",e.getData)},e.getData=function(){var t=$.getBanner("logs");e.setState({banner:t})},e.render=function(){var t=e.state.banner;return r.a.createElement(d.a,{fluid:!0,className:"main-content-container px-0"},t&&r.a.createElement("div",{className:"mr-4"},r.a.createElement("div",{className:"mb-0 banner px-4 banner-".concat(t.theme)},t.message)),r.a.createElement("div",{className:"px-4"},r.a.createElement(p.a,{noGutters:!0,className:"page-header py-4"},r.a.createElement(Ne,{title:"Log Stream",subtitle:"Network",className:"text-sm-left mb-3"})),r.a.createElement(p.a,null,r.a.createElement(h.a,{md:"10",className:"mb-4"},r.a.createElement(tt,null)),r.a.createElement(h.a,{md:"2",className:"mb-4"},r.a.createElement(rt,null))),r.a.createElement($e,null)))},e}return a}(r.a.Component),ct=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.elapsed;return r.a.createElement(K.d,{className:"p-3 h-100"},r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center mb-0"},r.a.createElement("b",null,e.task_name)),r.a.createElement("h2",{className:"my-3 mx-auto"},e.seconds),r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center"},"Elapsed Time"))}}]),a}(r.a.Component),st=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).updateChart=function(){var e=n.props.progress,t=100*(e.num_bars/e.bar_len||1),a={datasets:[{hoverBorderColor:"#fff",data:[t,100-t],backgroundColor:["#32c8cd","#E9ECEF"]}],labels:["Label 1","Label 2"]};n.chart.data=a,n.chart.update()},n.canvasRef=r.a.createRef(),n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.chart=new Ke.a(this.canvasRef.current,{type:"doughnut",data:{datasets:[{hoverBorderColor:"#fff",data:[0,100],backgroundColor:["#32c8cd","#E9ECEF"]}],labels:["Label 1","Label 2"]},options:{legend:!1,responsive:!1,cutoutPercentage:70,animation:!1,tooltips:!1}})}},{key:"render",value:function(){var e=this.props.progress;return this.chart&&this.updateChart(),r.a.createElement(K.d,{className:"p-3 h-100"},r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center"},r.a.createElement("b",null,"Progress")),r.a.createElement("div",{className:"go-stats__chart mx-auto d-flex flex-row"},r.a.createElement("div",{className:"mr-4 mt-3"},r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center"},"Request"),r.a.createElement("h4",{className:"mb-0"},e.currentRequest)),r.a.createElement("canvas",{ref:this.canvasRef,style:{width:"100px",height:"100px"},className:"my-auto"})))}}]),a}(r.a.Component),lt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).updateChart=function(){var e=n.props.speed.history,t=Object(S.a)(Object(S.a)({},n.chart.data),{datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(0, 153, 153, 0.25)",borderColor:"#009999",data:e}]}),a=Math.max.apply(Math,Object(x.a)(e)),r=Math.min.apply(Math,Object(x.a)(e)),o=a-r;n.chart.options.scales.yAxes[0].ticks.suggestedMax=a+.1*o,n.chart.options.scales.yAxes[0].ticks.suggestedMin=r-.1*o,n.chart.data=t,n.chart.update()},n.canvasRef=r.a.createRef(),n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.speed.history,t=Math.max.apply(Math,Object(x.a)(e)),a=Math.min.apply(Math,Object(x.a)(e)),n=t-a,r=Object(S.a)(Object(S.a)({},{maintainAspectRatio:!0,responsive:!0,animation:!1,legend:{display:!1},tooltips:{enabled:!1,custom:!1},elements:{point:{radius:0},line:{tension:.33}},scales:{xAxes:[{gridLines:!1,ticks:{display:!1}}],yAxes:[{gridLines:!1,scaleLabel:!1,ticks:{display:!1,suggestedMax:t+.1*n,suggestedMin:a-.1*n}}]}}),this.props.chartOptions),o=Object(S.a)(Object(S.a)({},{type:"line",data:Object(S.a)(Object(S.a)({},{labels:new Array(e.length).fill(null)}),{datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(0, 153, 153, 0.25)",borderColor:"#009999",data:e}]}),options:r}),this.props.chartConfig);this.chart=new Ke.a(this.canvasRef.current,o)}},{key:"render",value:function(){var e=this.props.speed;return this.chart&&this.updateChart(),r.a.createElement(K.d,{className:"pt-0 h-100 stats-small"},r.a.createElement("div",{className:"stats-small__data mx-auto"},r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center mb-0 pt-0 mt-0"},r.a.createElement("b",null,"Speed")),r.a.createElement("h2",{className:"my-3 mx-auto"},e.current),r.a.createElement("h6",{className:"stats-small__label under text-uppercase text-center"},e.unit,"/Second")),r.a.createElement("canvas",{height:"100",ref:this.canvasRef,className:"stats-small-1"}))}}]),a}(r.a.Component);lt.defaultProps={label:"New Customers",value:"29",percentage:"2.71%",increase:!1,decrease:!0,chartLabels:[null,null,null,null,null,null,null],chartData:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(0, 153, 153, 0.25)",borderColor:"#009999",data:[1,7,1,3,1,4,8]}]};var it=lt,mt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e){n.props.lastUpdate!==e.lastUpdate&&n.updateChart()},n.componentDidMount=function(){var e=n.state.tab,t=n.props[e],a=Object(S.a)({},{animation:!1,tooltips:{callbacks:{title:function(e,t){return"Pod: ".concat(e[0].xLabel)},label:function(e,t){var a=n.state.tab,r="".concat(t.datasets[e.datasetIndex].label,": ").concat("bytes"===a?P(e.value):e.value);return r},afterLabel:function(e,t){var a=n.state.tab;return"\nProcess ID: "+n.props[a][e.index].process}}},scales:{xAxes:[{stacked:!0,gridLines:!1}],yAxes:[{stacked:!0,ticks:{userCallback:n.formatYAxisLabel}}]}});n.chart=new Ke.a(n.canvasRef.current,{type:"bar",options:a,data:{labels:t.map((function(e){return e.node})),datasets:[{label:"msg sent",fill:"start",data:t.map((function(e){return e.sent})),backgroundColor:"#009999",borderColor:"#009999",pointBackgroundColor:"#FFFFFF",pointHoverBackgroundColor:"#009999",borderWidth:1.5},{label:"msg received",fill:"start",data:t.map((function(e){return e.received})),backgroundColor:"#32C8CD",borderColor:"#32C8CD",pointBackgroundColor:"#FFFFFF",pointHoverBackgroundColor:"#32C8CD",borderWidth:1.5}]}})},n.updateChart=function(){var e=n.state.tab,t=n.props[e];n.chart.data={labels:t.map((function(e){return e.node})),datasets:[{label:"".concat(e," sent"),fill:"start",data:t.map((function(e){return e.sent})),backgroundColor:"#009999",borderColor:"#009999",pointBackgroundColor:"#FFFFFF",pointHoverBackgroundColor:"#009999",borderWidth:1.5},{label:"".concat(e," received"),fill:"start",data:t.map((function(e){return e.received})),backgroundColor:"#32C8CD",borderColor:"#32C8CD",pointBackgroundColor:"#FFFFFF",pointHoverBackgroundColor:"#32C8CD",borderWidth:1.5}]},n.chart.update()},n.formatYAxisLabel=function(e){return"bytes"===n.state.tab?P(e):e>999?"".concat((e/1e3).toFixed(0),"k"):e},n.setTab=function(e){n.setState({tab:e},n.updateChart)},n.canvasRef=r.a.createRef(),n.state={tab:"messages"},n}return Object(O.a)(a,[{key:"render",value:function(){var e=this,t=this.state.tab;return r.a.createElement(K.d,{small:!0,className:"h-100 mb-4"},r.a.createElement(K.f,{className:"border-bottom"},r.a.createElement("h6",{className:"m-0"},"Network Load")),r.a.createElement(K.e,{className:"pt-0"},r.a.createElement(K.y,{className:"border-bottom py-2 bg-light"},r.a.createElement(K.g,{sm:"6",className:"col d-flex mb-2 mb-sm-0"},r.a.createElement(K.c,null,r.a.createElement(K.b,{theme:"white",active:"messages"===t,onClick:function(){return e.setTab("messages")}},"Messages"),r.a.createElement(K.b,{theme:"white",active:"bytes"===t,onClick:function(){return e.setTab("bytes")}},"Bytes")))),r.a.createElement("canvas",{height:"100",ref:this.canvasRef,style:{maxWidth:"100% !important"},className:"sales-overview-sales-report"})))}}]),a}(r.a.Component),ut=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).updateChart=function(){var e=n.props.qps.history,t=Object(S.a)(Object(S.a)({},n.chart.data),{datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(50, 200, 205, 0.25)",borderColor:"#32c8cd",data:e}]}),a=Math.max.apply(Math,Object(x.a)(e)),r=Math.min.apply(Math,Object(x.a)(e)),o=a-r;n.chart.options.scales.yAxes[0].ticks.suggestedMax=a+.1*o,n.chart.options.scales.yAxes[0].ticks.suggestedMin=r-.1*o,n.chart.data=t,n.chart.update()},n.canvasRef=r.a.createRef(),n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.qps.history,t=Math.max.apply(Math,Object(x.a)(e)),a=Math.min.apply(Math,Object(x.a)(e)),n=t-a,r=Object(S.a)(Object(S.a)({},{maintainAspectRatio:!0,responsive:!0,animation:!1,legend:{display:!1},tooltips:{enabled:!1,custom:!1},elements:{point:{radius:0},line:{tension:.33}},scales:{xAxes:[{gridLines:!1,ticks:{display:!1}}],yAxes:[{gridLines:!1,scaleLabel:!1,ticks:{display:!1,suggestedMax:t+.1*n,suggestedMin:a-.1*n}}]}}),this.props.chartOptions),o=Object(S.a)(Object(S.a)({},{type:"line",data:Object(S.a)(Object(S.a)({},{labels:new Array(e.length).fill(null)}),{datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(50, 200, 205, 0.25)",borderColor:"#32c8cd",data:e}]}),options:r}),this.props.chartConfig);this.chart=new Ke.a(this.canvasRef.current,o)}},{key:"render",value:function(){var e=this.props.qps;return this.chart&&this.updateChart(),r.a.createElement(K.d,{className:"pt-0 h-100 stats-small"},r.a.createElement("div",{className:"stats-small__data mx-auto"},r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center mb-0 pt-0 mt-0"},r.a.createElement("b",null,"QPS")),r.a.createElement("h2",{className:"my-3 mx-auto"},e.current),r.a.createElement("h6",{className:"stats-small__label under text-uppercase text-center"},"Queries/Second")),r.a.createElement("canvas",{height:"100",ref:this.canvasRef,className:"stats-small-1"}))}}]),a}(r.a.Component);ut.defaultProps={label:"New Customers",value:"29",percentage:"2.71%",increase:!1,decrease:!0,chartLabels:[null,null,null,null,null,null,null],chartData:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(#32c8cd, 0.25)",borderColor:"#32c8cd",data:[1,7,1,3,1,4,8]}]};var dt=ut,pt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={taskData:$.getTaskData(),banner:$.getBanner("task")},e.componentWillMount=function(){$.on("update-task",e.getData),$.on("update-ui",e.getBanner)},e.componentWillUnmount=function(){$.removeListener("update-task",e.getData),$.removeListener("update-ui",e.getBanner)},e.getData=function(){var t=$.getTaskData();e.setState({taskData:t})},e.getBanner=function(){var t=$.getBanner("task");e.setState({banner:t})},e.render=function(){var t=e.state,a=t.taskData,n=t.banner;return r.a.createElement(d.a,{fluid:!0,className:"main-content-container px-0"},n&&r.a.createElement("div",{className:"mr-4"},r.a.createElement("div",{className:"mb-0 banner px-4 banner-".concat(n.theme)},n.message)),r.a.createElement("div",{className:"px-4"},r.a.createElement(p.a,{noGutters:!0,className:"page-header py-4"},r.a.createElement(Ne,{title:"Task",subtitle:"Network",className:"text-sm-left mb-3"})),r.a.createElement(p.a,null,r.a.createElement(h.a,{md:"3",className:"mb-4"},r.a.createElement(ct,{elapsed:a.elapsed})),r.a.createElement(h.a,{md:"3",className:"mb-4"},r.a.createElement(st,{progress:a.progress})),r.a.createElement(h.a,{md:"3",className:"mb-4"},r.a.createElement(dt,{qps:a.qps})),r.a.createElement(h.a,{md:"3",className:"mb-4"},r.a.createElement(it,{speed:a.speed}))),r.a.createElement(mt,{messages:a.messages,bytes:a.bytes,lastUpdate:a.lastUpdateChart})))},e}return a}(r.a.Component),ht=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={original:$.getSettings(),updates:{}},e.componentWillMount=function(){$.on("update-settings",e.getData)},e.componentWillUnmount=function(){$.removeListener("update-settings",e.getData)},e.getData=function(){var t=$.getSettings();e.setState({original:t,updates:{}})},e.updateSetting=function(t,a){e.setState((function(e){var n=e.updates;return n[t]=a,{updates:n}})),console.log("updates: ",e.state.updates)},e.saveChanges=function(){var t=e.state,a=t.original,n=t.updates,r=Object(S.a)(Object(S.a)({},a),n);E.dispatch({actionType:j.a.SAVE_SETTINGS,payload:r})},e.render=function(){var t=e.state,a=t.original,n=t.updates;return r.a.createElement(K.d,{small:!0,className:"mb-4"},r.a.createElement(K.f,{className:"border-bottom"},r.a.createElement("h6",{className:"m-0"},"Connection Preferences")),r.a.createElement(K.e,null,r.a.createElement(K.n,null,r.a.createElement(K.y,{form:!0},r.a.createElement(K.g,{md:"6",className:"form-group"},r.a.createElement("label",null,"Host"),r.a.createElement(K.o,{placeholder:"0.0.0.0",value:"host"in n?n.host:a.host,onChange:function(t){return e.updateSetting("host",t.target.value)}})),r.a.createElement(K.g,{md:"6",className:"form-group"},r.a.createElement("label",null,"Port"),r.a.createElement(K.o,{placeholder:"5000",value:"port"in n?n.port:a.port,onChange:function(t){return e.updateSetting("port",t.target.value)}}))),r.a.createElement("strong",{class:"text-muted d-block mb-3"},"Endpoints"),r.a.createElement(K.y,{form:!0},r.a.createElement(K.g,{md:"6",className:"form-group"},r.a.createElement("label",null,"Log"),r.a.createElement(K.o,{placeholder:"/stream/log",value:"log"in n?n.log:a.log,onChange:function(t){return e.updateSetting("log",t.target.value)}})),r.a.createElement(K.g,{md:"6",className:"form-group"},r.a.createElement("label",null,"Profile"),r.a.createElement(K.o,{placeholder:"/stream/profile",value:"profile"in n?n.profile:a.profile,onChange:function(t){return e.updateSetting("profile",t.target.value)}})),r.a.createElement(K.g,{md:"6",className:"form-group"},r.a.createElement("label",null,"YAML"),r.a.createElement(K.o,{placeholder:"/data/yaml",value:"yaml"in n?n.yaml:a.yaml,onChange:function(t){return e.updateSetting("yaml",t.target.value)}})),r.a.createElement(K.g,{md:"6",className:"form-group"},r.a.createElement("label",null,"Shutdown"),r.a.createElement(K.o,{placeholder:"/action/shutdown",value:"shutdown"in n?n.shutdown:a.shutdown,onChange:function(t){return e.updateSetting("shutdown",t.target.value)}})),r.a.createElement(K.g,{md:"6",className:"form-group"},r.a.createElement("label",null,"Ready"),r.a.createElement(K.o,{placeholder:"/status/isready",value:"ready"in n?n.ready:a.ready,onChange:function(t){return e.updateSetting("ready",t.target.value)}})))),r.a.createElement(K.b,{theme:"primary",onClick:e.saveChanges},"Save Settings")))},e}return a}(r.a.Component),gt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).render=function(){return r.a.createElement(d.a,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(p.a,{noGutters:!0,className:"page-header py-4"},r.a.createElement(Ne,{title:"Settings",subtitle:"Network",className:"text-sm-left mb-3"})),r.a.createElement(ht,null))},e}return a}(r.a.Component),ft=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={isOpen:!1,newUser:""},e.getStars=function(t){var a,n=[],o=parseInt(t),c=t-o,s=function(){var t=a;n.push(r.a.createElement("i",{key:a,className:"material-icons",onClick:function(){return e.rate(t)}},"star"))};for(a=0;a<o;++a)s();if(c>=.8){var l=a;n.push(r.a.createElement("i",{key:a++,className:"material-icons",onClick:function(){return e.rate(l)}},"star"))}else if(c>=.25){var i=a;n.push(r.a.createElement("i",{key:a++,className:"material-icons",onClick:function(){return e.rate(i)}},"star_half"))}for(var m=function(t){var o=a;n.push(r.a.createElement("i",{key:a++,className:"material-icons",onClick:function(){return e.rate(o)}},"star_outline"))},u=n.length;u<5;++u)m();return n},e.rate=function(t){e.props.rate&&e.props.rate(t+1)},e.render=function(){var t=e.props,a=t.rating,n=t.userRated,o=parseFloat(Math.round(10*a||0)/10).toFixed(1),c=e.getStars(o);return r.a.createElement("span",{className:"app-rating ".concat(a?"existing":""," ").concat(n?"userRated":""," text-muted")},r.a.createElement("span",{className:"text-faded"},n?"You Rated: ":""),r.a.createElement("span",{className:"rating-num"},a?o:""),c)},e}return a}(r.a.Component),bt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={isOpen:!1,newUser:""},e.render=function(){var t,a=e.props.image,n=a.name,o=a.id,c=a.official,l=a.author,i=a.description,m=a.totalStars,u=a.totalRatings,d=a.numReviews;return a.totalStars&&a.totalRatings&&(t=m/u),r.a.createElement(s.b,{className:"unstyled-link",to:"/package?id=".concat(o)},r.a.createElement(De.a,{className:"clickable mb-4 h-100"},r.a.createElement(De.a.Body,{className:"pb-0 mb-0 pt-3"},r.a.createElement(p.a,null,r.a.createElement(h.a,{xs:"12",className:"px-0"},r.a.createElement("div",{className:"app-title"},n,c&&r.a.createElement("span",{title:"Official Package",className:"float-right"},r.a.createElement("i",{className:"ml-2 material-icons verified-icon"},"verified_user"))),r.a.createElement("div",{className:"app-subtitle"},l)),r.a.createElement(h.a,{sm:"12",className:"px-0 pt-3 pb-0"},r.a.createElement("div",{className:"description-container"},r.a.createElement("div",{className:"description-overlay"}),r.a.createElement("div",{className:"app-description"},i))))),r.a.createElement(De.a.Footer,{className:"pt-0 px-3 pb-3"},e.getNumReviews(d),t&&r.a.createElement(ft,{rating:t}))))},e}return Object(O.a)(a,[{key:"getNumReviews",value:function(e){return e?e>1?r.a.createElement("span",null,e," reviews"):r.a.createElement("span",null,e," review"):r.a.createElement("span",{className:"text-muted"},"no reviews")}}]),a}(r.a.Component),vt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={banner:$.getBanner("hub"),images:$.getHubImages(),sortType:"suggested",category:"all",searchQuery:""},e.componentWillMount=function(){$.on("update-ui",e.getData),$.on("update-hub",e.getHubImages)},e.componentWillUnmount=function(){$.removeListener("update-ui",e.getData),$.removeListener("update-hub",e.getHubImages)},e.getHubImages=function(){var t=$.getHubImages();e.setState({images:t})},e.getData=function(){var t=$.getBanner("hub");e.setState({banner:t})},e.sortBy=function(t){e.setState({sortType:t},e.search)},e.setCategory=function(t){e.setState({category:t},e.search)},e.updateSearch=function(t){e.setState({searchQuery:t},e.search)},e.search=function(){var t=e.state,a=t.category,n=t.searchQuery,r=t.sortType;E.dispatch({actionType:j.a.SEARCH_HUB,payload:{category:a,q:n,sort:r}})},e.render=function(){var t=e.state,a=t.banner,n=t.images,o=t.sortType,c=t.category,s=t.searchQuery;return r.a.createElement(d.a,{fluid:!0,className:"main-content-container px-0"},a&&r.a.createElement("div",{className:"mr-4"},r.a.createElement("div",{className:"mb-0 banner px-4 banner-".concat(a.theme)},a.message)),r.a.createElement("div",{className:"px-4"},r.a.createElement(p.a,{className:"page-header py-4"},r.a.createElement(Ne,{title:"Jina Hub",subtitle:"Community",className:"text-sm-left mb-3"}),r.a.createElement(h.a,{md:"3",className:"py-sm-2"},r.a.createElement(K.q,null,r.a.createElement(K.r,{type:"prepend"},r.a.createElement(K.s,null,"Categories")),r.a.createElement(K.p,{onChange:function(t){return e.setCategory(t.target.value)},value:c},r.a.createElement("option",{value:"all"},"All Categories"),r.a.createElement("option",{value:"highestRated"},"Search"),r.a.createElement("option",{value:"newest"},"Configurations")))),r.a.createElement(h.a,{md:"3",className:"py-sm-2"},r.a.createElement(K.q,null,r.a.createElement(K.r,{type:"prepend"},r.a.createElement(K.s,null,"Sort By")),r.a.createElement(K.p,{onChange:function(t){return e.sortBy(t.target.value)},value:o},r.a.createElement("option",{value:"suggested"},"Suggested"),r.a.createElement("option",{value:"highestRated"},"Highest Rated"),r.a.createElement("option",{value:"newest"},"Newest")))),r.a.createElement(h.a,{md:"3",className:"py-sm-2"},r.a.createElement(K.o,{placeholder:"search images...",className:"mb-3 mb-sm-0 ml-auto py-2",value:s,onChange:function(t){return e.updateSearch(t.target.value)}}))),r.a.createElement(p.a,null,Object.keys(n).map((function(e){return r.a.createElement(h.a,{key:e,md:"3",className:"mb-4"},r.a.createElement(bt,{image:n[e]}))})))))},e}return a}(r.a.Component),yt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).render=function(){var t=e.props.image.buildHistory;return r.a.createElement(K.d,{className:"readme-container mb-4"},r.a.createElement(K.f,{className:"border-bottom d-flex flex-row"},r.a.createElement("h6",{className:"m-0 d-inline-block"},"Build History")),r.a.createElement(K.e,{className:"p-0 build-history"},t&&t.map((function(e,t){var a=new Date(e.created).toLocaleString();return r.a.createElement("div",{key:t,className:"user-activity__item pr-3 py-3"},r.a.createElement("div",{className:"user-activity__item__icon mt-2"},r.a.createElement("i",{className:"material-icons"},"build")),r.a.createElement("div",{className:"user-activity__item__content"},r.a.createElement("span",{className:"text-light"},a),r.a.createElement("p",null,"[",e.os,"/",e.architecture,"]"," ",parseFloat(e.size/1e6).toFixed(2)," MB")))}))))},e}return a}(r.a.Component),Et=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).render=function(){var t=e.props.image;return r.a.createElement(K.d,{className:"readme-container mb-4"},r.a.createElement(K.f,{className:"border-bottom d-flex flex-row"},r.a.createElement("h6",{className:"m-0 d-inline-block"},"Image Details")),r.a.createElement(K.e,{className:"pt-0 pb-2"},r.a.createElement(K.y,{className:"border-bottom py-2"},r.a.createElement(K.g,null,"Name"),r.a.createElement(K.g,null,t.name)),r.a.createElement(K.y,{className:"border-bottom py-2"},r.a.createElement(K.g,null,"Version"),r.a.createElement(K.g,null,t.version)),r.a.createElement(K.y,{className:"border-bottom py-2"},r.a.createElement(K.g,null,"Author"),r.a.createElement(K.g,null,t.author)),r.a.createElement(K.y,{className:"border-bottom py-2"},r.a.createElement(K.g,null,"Description"),r.a.createElement(K.g,null,t.description)),r.a.createElement(K.y,{className:"border-bottom py-2"},r.a.createElement(K.g,null,"Documentation"),r.a.createElement(K.g,null,r.a.createElement("a",{href:t.documentation,target:"_blank",rel:"noopener noreferrer"},t.documentation))),r.a.createElement(K.y,{className:"border-bottom py-2"},r.a.createElement(K.g,null,"Source"),r.a.createElement(K.g,null,r.a.createElement("a",{href:t.source,target:"_blank",rel:"noopener noreferrer"},t.source))),r.a.createElement(K.y,{className:"border-bottom py-2"},r.a.createElement(K.g,null,"License"),r.a.createElement(K.g,null,t.license)),r.a.createElement(K.y,{className:"border-bottom py-2"},r.a.createElement(K.g,null,"Vendor"),r.a.createElement(K.g,null,t.vendor)),r.a.createElement(K.y,{className:"py-2"},r.a.createElement(K.g,null,"URL"),r.a.createElement(K.g,null,r.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.url)))))},e}return a}(r.a.Component),kt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).render=function(){var t=e.props,a=t.readme,n=t.documentation;return r.a.createElement(K.d,{className:"readme-container mb-4"},r.a.createElement(K.f,{className:"border-bottom d-flex flex-row"},r.a.createElement("h6",{className:"m-0 d-inline-block"},"README.MD"),r.a.createElement("div",{className:"flex-fill d-inline-block"}),r.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"cursor-pointer text-primary"},r.a.createElement("i",{className:"fab fa-github"})," View on GitHub")),r.a.createElement(K.e,null,a?r.a.createElement("div",{className:"markup",dangerouslySetInnerHTML:{__html:a}}):r.a.createElement("h2",{className:"text-muted text-center py-4"},"No Readme Found")))},e}return a}(r.a.Component),wt=a(603),Nt=a(600),xt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).getCodeAtIndex=function(t){var a=e.props.image,n=a.repoTags[a.repoTags.length-1];return["from jina.flow import Flow\nf = Flow().add(name='my-pod', image='".concat(n,"')"),"from jina.flow import Flow\n# assuming you have a running gateway on 192.168.0.123:45678\nf = Flow().add(name='my-pod', image='".concat(n,"', yaml_path='my.yml')"),"from jina.flow import Flow\n# assuming you have a running gateway on 192.168.0.123:45678\nf = Flow().add(name='my-pod', image='".concat(n,"', host='192.168.0.123', port_grpc=45678)"),'!Flow\npods:\n  my_pod1:\n    image: "'.concat(n,'"'),"jina pod --image ".concat(n),"docker run -p 55555:55555 -p 55556:55556 ".concat(n," --port-in 55555 --port-out 55556"),"docker run -v $(pwd)/my.yml:/my.yml ".concat(n," --yaml-path /my.yml")][t]},e.copyCode=function(t){T(e.getCodeAtIndex(t)),E.dispatch({actionType:j.a.SHOW_BANNER,payload:["hub","Content copied to clipboard","success"]})},e.render=function(){return r.a.createElement(K.d,{className:"mb-4"},r.a.createElement(K.f,{className:"p-3 border-bottom d-flex flex-row"},r.a.createElement("h6",{className:"m-0 d-inline-block"},"Usage")),r.a.createElement(K.e,{className:"py-2 px-3 pt-4 code-usage"},r.a.createElement("p",{className:"mb-1"},"Use this image in Flow API"),r.a.createElement(wt.a,{language:"python",style:Nt.a,onClick:function(){return e.copyCode(0)}},e.getCodeAtIndex(0)),r.a.createElement("p",{className:"mb-1 mt-4"},"Use this image in Flow API and override YAML"),r.a.createElement(wt.a,{language:"python",style:Nt.a,onClick:function(){return e.copyCode(1)}},e.getCodeAtIndex(1)),r.a.createElement("p",{className:"mb-1 mt-4"},"Use this image remotely in Flow API"),r.a.createElement(wt.a,{language:"python",style:Nt.a,onClick:function(){return e.copyCode(2)}},e.getCodeAtIndex(2)),r.a.createElement("p",{className:"mb-1 mt-4"},"Use this image in Flow YAML"),r.a.createElement(wt.a,{language:"yaml",style:Nt.a,onClick:function(){return e.copyCode(3)}},e.getCodeAtIndex(3)),r.a.createElement("p",{className:"mb-1 mt-4"},"Use this image in Jina CLI"),r.a.createElement(wt.a,{language:"bash",style:Nt.a,onClick:function(){return e.copyCode(4)}},e.getCodeAtIndex(4)),r.a.createElement("p",{className:"mb-1 mt-4"},"Use this image in Docker CLI"),r.a.createElement(wt.a,{language:"bash",style:Nt.a,onClick:function(){return e.copyCode(5)}},e.getCodeAtIndex(5)),r.a.createElement("p",{className:"mb-1 mt-4"},"Use this image in Docker CLI and override YAML"),r.a.createElement(wt.a,{language:"bash",style:Nt.a,onClick:function(){return e.copyCode(6)}},e.getCodeAtIndex(6))))},e}return a}(r.a.Component),Ot=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).render=function(){var t=e.props.review;return r.a.createElement(K.d,{className:"readme-container mb-4"},r.a.createElement(K.f,{className:"border-bottom d-flex flex-row"},r.a.createElement("h6",{className:"m-0 d-inline-block"},t.username),r.a.createElement("div",{className:"flex-fill d-inline-block"})),r.a.createElement(K.e,{className:"py-3"},t.content))},e}return a}(r.a.Component),_t=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).newReview=function(){var t=e.props.imageId;E.dispatch({actionType:j.a.SHOW_MODAL,payload:{modal:"review",params:{imageId:t}}})},e.render=function(){var t=e.props.reviews;return r.a.createElement("div",null,r.a.createElement("div",{className:"border-bottom d-flex flex-row mb-4"},r.a.createElement("h3",{className:"flex-fill"},"Reviews"),r.a.createElement("div",null,r.a.createElement(K.b,{onClick:e.newReview},r.a.createElement("i",{className:"material-icons mr-2"},"add_comment"),"New Review"))),t.length>0?t.map((function(e,t){return r.a.createElement(Ot,{key:t,review:e})})):r.a.createElement("h2",{className:"text-muted text-center py-4"},"No Reviews"))},e}return a}(r.a.Component),Ct=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.getData(),e.getImageData()},e.componentWillMount=function(){$.on("update-ui",e.getData),$.on("update-hub",e.getImageData)},e.componentWillUnmount=function(){$.removeListener("update-ui",e.getData),$.removeListener("update-hub",e.getImageData)},e.getImageData=Object(N.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.getHubImage(e.state.imageId);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0={};case 5:a=t.t0,e.setState({imageData:a,loading:!1});case 7:case"end":return t.stop()}}),t)}))),e.getData=function(){var t=$.getBanner("hub");e.setState({banner:t})},e.rate=function(t){var a=e.state.imageId;E.dispatch({actionType:j.a.POST_RATING,payload:{imageId:a,stars:t}})},e.render=function(){var t,a=e.state,n=a.banner,o=a.imageData,c=a.loading,s=o.name,l=o.id,i=o.readmeHTML,m=o.documentation,u=o.totalStars,g=o.totalRatings,f=o.userRated,b=o.reviews;return u&&g&&(t=u/g),r.a.createElement(d.a,{fluid:!0,className:"main-content-container px-0"},n&&r.a.createElement("div",{className:"mr-4"},r.a.createElement("div",{className:"mb-0 banner px-4 banner-".concat(n.theme)},n.message)),c?r.a.createElement("div",{className:"error"},r.a.createElement("div",{className:"loader"})):r.a.createElement("div",{className:"px-4"},r.a.createElement(p.a,{noGutters:!0,className:"page-header py-4"},r.a.createElement(Ne,{title:s,subtitle:"Image",className:"text-sm-left mb-3"}),r.a.createElement(h.a,{md:"6"}),r.a.createElement(h.a,{md:"3",className:"py-sm-2"},r.a.createElement("h3",null,r.a.createElement(ft,{rating:f||t,rate:e.rate,userRated:f})))),r.a.createElement(p.a,null,r.a.createElement(h.a,{md:"6"},r.a.createElement(xt,{image:o}),r.a.createElement(Et,{image:o}),r.a.createElement(yt,{image:o})),r.a.createElement(h.a,{md:"6"},r.a.createElement(kt,{readme:i,documentation:m}),r.a.createElement(_t,{reviews:b,imageId:l})))))};var n=window.location.hash,o=n.substring(n.indexOf("?"),n.length),c=new URLSearchParams(o).get("id");return e.state={imageId:c,loading:!1,banner:{},imageData:{reviews:[],repoTags:[]}},e}return a}(r.a.Component),jt=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).componentDidMount=function(){var e=window.location.href;if(e.indexOf("code")>0){console.log("hash: ",e);var t=e.substring(e.indexOf("code")+5,e.length);console.log("code:",t),window.location="".concat(G.hubURL,"/auth/github/callback?code=").concat(t)}},e.testAuthentication=function(){var e=new XMLHttpRequest,t="".concat(G.hubURL,"/auth/test");console.log("test connectionString: ",t),e.open("POST",t),e.timeout=5e3,e.withCredentials=!0,e.onload=function(){this.status>=200&&this.status<300?console.log("test: SUCCESS"):console.log("test: FAIL")},e.onerror=function(){console.log("test: ERROR")},e.send()},e.render=function(){return r.a.createElement(K.i,{fluid:!0,className:"main-content-container px-0"},r.a.createElement(K.y,{noGutters:!0,className:"h-100"},r.a.createElement(K.g,{lg:"3",md:"5",className:"auth-form mx-auto"},r.a.createElement(K.d,null,r.a.createElement(K.e,null,r.a.createElement("img",{onClick:e.testAuthentication,className:"auth-form__logo d-table mx-auto mb-3",src:a(114),style:{maxWidth:"100px"},alt:"Jina"}),r.a.createElement("h5",{className:"auth-form__title text-center mb-4"},"Log in"),r.a.createElement("a",{href:"".concat(G.hubURL,"/auth/github"),id:"github-button",className:"btn btn-block btn-social btn-github"},r.a.createElement("i",{className:"fab fa-github"})," Sign in with GitHub"))))))},e}return n}(r.a.Component),St=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).render=function(){var t=e.props,a=t.title,n=t.content,o=t.icon,c=t.theme,s=t.link;return r.a.createElement("a",{className:"unstyled-link",href:s},r.a.createElement(De.a,{className:"h-100"},r.a.createElement(De.a.Body,{className:"pt-3"},r.a.createElement(p.a,null,r.a.createElement(h.a,{xs:"8",className:"pr-0"},r.a.createElement("h4",null,a),n),r.a.createElement(h.a,{xs:"4",className:"pl-0"},r.a.createElement("h1",{className:"mt-4 ml-4"},r.a.createElement("span",{className:"".concat(o," log-").concat(c)})))))))},e}return a}(r.a.Component),Lt=function(){return r.a.createElement(K.i,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(K.y,{noGutters:!0,className:"page-header py-4"},r.a.createElement(Ne,{title:"Resources",subtitle:"Jina.ai",className:"text-sm-left mb-3"})),r.a.createElement(K.y,null,r.a.createElement(K.g,{md:"3",className:"mb-4"},r.a.createElement(St,{title:"Jina 101",content:"Understanding all key concepts of Jina in 3 minutes!",link:"https://101.jina.ai",icon:"fas fa-egg",theme:"warning"})),r.a.createElement(K.g,{md:"3",className:"mb-4"},r.a.createElement(St,{title:"Jina Documentations",content:"The best way to learn Jina in depth.",link:"https://docs.jina.ai",icon:"fas fa-book",theme:"primary"})),r.a.createElement(K.g,{md:"3",className:"mb-4"},r.a.createElement(St,{title:'Jina "Hello World"',content:"A simple demo of image neural search for Fashion-MNIST.",link:"https://github.com/jina-ai/jina#jina-hello-world-",icon:"fas fa-globe-europe",theme:"error"})),r.a.createElement(K.g,{md:"3",className:"mb-4"},r.a.createElement(St,{title:"Visit us on Github!",content:"Explore more exciting open-source projects from us.",link:"https://opensource.jina.ai",icon:"fab fa-github",theme:"info"})),r.a.createElement(K.g,{md:"3",className:"mb-4"},r.a.createElement(St,{title:"We are hiring!",content:"Join us and build the next neural search eco system!",link:"https://www.linkedin.com/company/jinaai/jobs/",icon:"fab fa-linkedin",theme:"linkedin"}))))},At=[{path:"/",exact:!0,layout:he,component:function(){return r.a.createElement(l.a,{to:"/logs"})}},{path:"/logs",layout:ve,component:ot},{path:"/flow",layout:ve,component:He},{path:"/task",layout:ve,component:pt},{path:"/settings",layout:ve,component:gt},{path:"/help",layout:ve,component:Lt},{path:"/home",layout:ve,component:Lt},{path:"/hub",layout:ve,component:vt},{path:"/package",layout:ve,component:Ct},{path:"/login",layout:ve,component:jt}],It=a(109);It.a.initialize(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GAID||"UA-164627626-1");var Rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=function(e){It.a.set(Object(S.a)({page:e},t)),It.a.pageview(e)},o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BASENAME||"",c=function(t){Object(m.a)(c,t);var n=Object(u.a)(c);function c(){return Object(i.a)(this,c),n.apply(this,arguments)}return Object(O.a)(c,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname+this.props.location.search;a("".concat(o).concat(e))}},{key:"componentDidUpdate",value:function(e){var t=e.location.pathname+e.location.search,n=this.props.location.pathname+this.props.location.search;t!==n&&a("".concat(o).concat(n))}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),c}(n.Component);return c},Tt=(a(581),a(582),a(583),function(){return r.a.createElement(s.a,{basename:"/"},r.a.createElement("div",null,At.map((function(e,t){return r.a.createElement(l.b,{key:t,path:e.path,exact:e.exact,component:Rt((function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,t))}))})}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},68:function(e,t){e.exports={hubURL:"https://hub.jina.ai"}}},[[211,1,2]]]);
//# sourceMappingURL=main.1448f726.chunk.js.map